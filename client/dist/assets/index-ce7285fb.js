var lC=Object.defineProperty;var cC=(t,e,r)=>e in t?lC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ol=(t,e,r)=>(cC(t,typeof e!="symbol"?e+"":e,r),r);function uC(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function du(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function z0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Nc={},fC={get exports(){return Nc},set exports(t){Nc=t}},ah={},G={},dC={get exports(){return G},set exports(t){G=t}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu=Symbol.for("react.element"),hC=Symbol.for("react.portal"),pC=Symbol.for("react.fragment"),mC=Symbol.for("react.strict_mode"),gC=Symbol.for("react.profiler"),vC=Symbol.for("react.provider"),yC=Symbol.for("react.context"),bC=Symbol.for("react.forward_ref"),wC=Symbol.for("react.suspense"),_C=Symbol.for("react.memo"),SC=Symbol.for("react.lazy"),gb=Symbol.iterator;function xC(t){return t===null||typeof t!="object"?null:(t=gb&&t[gb]||t["@@iterator"],typeof t=="function"?t:null)}var JE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YE=Object.assign,XE={};function yl(t,e,r){this.props=t,this.context=e,this.refs=XE,this.updater=r||JE}yl.prototype.isReactComponent={};yl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZE(){}ZE.prototype=yl.prototype;function q0(t,e,r){this.props=t,this.context=e,this.refs=XE,this.updater=r||JE}var H0=q0.prototype=new ZE;H0.constructor=q0;YE(H0,yl.prototype);H0.isPureReactComponent=!0;var vb=Array.isArray,e2=Object.prototype.hasOwnProperty,V0={current:null},t2={key:!0,ref:!0,__self:!0,__source:!0};function r2(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)e2.call(e,n)&&!t2.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:hu,type:t,key:o,ref:s,props:i,_owner:V0.current}}function EC(t,e){return{$$typeof:hu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function W0(t){return typeof t=="object"&&t!==null&&t.$$typeof===hu}function RC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var yb=/\/+/g;function lm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RC(""+t.key):e.toString(36)}function Df(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case hu:case hC:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+lm(s,0):n,vb(i)?(r="",t!=null&&(r=t.replace(yb,"$&/")+"/"),Df(i,e,r,"",function(l){return l})):i!=null&&(W0(i)&&(i=EC(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(yb,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",vb(t))for(var a=0;a<t.length;a++){o=t[a];var c=n+lm(o,a);s+=Df(o,e,r,c,i)}else if(c=xC(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=n+lm(o,a++),s+=Df(o,e,r,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function qu(t,e,r){if(t==null)return t;var n=[],i=0;return Df(t,n,"","",function(o){return e.call(r,o,i++)}),n}function PC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fr={current:null},Lf={transition:null},AC={ReactCurrentDispatcher:Fr,ReactCurrentBatchConfig:Lf,ReactCurrentOwner:V0};Je.Children={map:qu,forEach:function(t,e,r){qu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qu(t,function(){e++}),e},toArray:function(t){return qu(t,function(e){return e})||[]},only:function(t){if(!W0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=yl;Je.Fragment=pC;Je.Profiler=gC;Je.PureComponent=q0;Je.StrictMode=mC;Je.Suspense=wC;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;Je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=YE({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=V0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)e2.call(e,c)&&!t2.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:hu,type:t.type,key:i,ref:o,props:n,_owner:s}};Je.createContext=function(t){return t={$$typeof:yC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vC,_context:t},t.Consumer=t};Je.createElement=r2;Je.createFactory=function(t){var e=r2.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:bC,render:t}};Je.isValidElement=W0;Je.lazy=function(t){return{$$typeof:SC,_payload:{_status:-1,_result:t},_init:PC}};Je.memo=function(t,e){return{$$typeof:_C,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=Lf.transition;Lf.transition={};try{t()}finally{Lf.transition=e}};Je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Je.useCallback=function(t,e){return Fr.current.useCallback(t,e)};Je.useContext=function(t){return Fr.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return Fr.current.useDeferredValue(t)};Je.useEffect=function(t,e){return Fr.current.useEffect(t,e)};Je.useId=function(){return Fr.current.useId()};Je.useImperativeHandle=function(t,e,r){return Fr.current.useImperativeHandle(t,e,r)};Je.useInsertionEffect=function(t,e){return Fr.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return Fr.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return Fr.current.useMemo(t,e)};Je.useReducer=function(t,e,r){return Fr.current.useReducer(t,e,r)};Je.useRef=function(t){return Fr.current.useRef(t)};Je.useState=function(t){return Fr.current.useState(t)};Je.useSyncExternalStore=function(t,e,r){return Fr.current.useSyncExternalStore(t,e,r)};Je.useTransition=function(){return Fr.current.useTransition()};Je.version="18.2.0";(function(t){t.exports=Je})(dC);const ze=du(G),Ya=uC({__proto__:null,default:ze},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC=G,TC=Symbol.for("react.element"),CC=Symbol.for("react.fragment"),OC=Object.prototype.hasOwnProperty,MC=kC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NC={key:!0,ref:!0,__self:!0,__source:!0};function n2(t,e,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)OC.call(e,n)&&!NC.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:TC,type:t,key:o,ref:s,props:i,_owner:MC.current}}ah.Fragment=CC;ah.jsx=n2;ah.jsxs=n2;(function(t){t.exports=ah})(fC);const lh=Nc.Fragment,V=Nc.jsx,Ee=Nc.jsxs,IC=Object.freeze(Object.defineProperty({__proto__:null,Fragment:lh,jsx:V,jsxs:Ee},Symbol.toStringTag,{value:"Module"}));var Vg={},Wg={},DC={get exports(){return Wg},set exports(t){Wg=t}},fn={},Gg={},LC={get exports(){return Gg},set exports(t){Gg=t}},i2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,B){var j=$.length;$.push(B);e:for(;0<j;){var R=j-1>>>1,_=$[R];if(0<i(_,B))$[R]=B,$[j]=_,j=R;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var B=$[0],j=$.pop();if(j!==B){$[0]=j;e:for(var R=0,_=$.length,C=_>>>1;R<C;){var H=2*(R+1)-1,P=$[H],T=H+1,z=$[T];if(0>i(P,j))T<_&&0>i(z,P)?($[R]=z,$[T]=j,R=T):($[R]=P,$[H]=j,R=H);else if(T<_&&0>i(z,j))$[R]=z,$[T]=j,R=T;else break e}}return B}function i($,B){var j=$.sortIndex-B.sortIndex;return j!==0?j:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],l=[],u=1,f=null,d=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var B=r(l);B!==null;){if(B.callback===null)n(l);else if(B.startTime<=$)n(l),B.sortIndex=B.expirationTime,e(c,B);else break;B=r(l)}}function w($){if(m=!1,S($),!p)if(r(c)!==null)p=!0,I(x);else{var B=r(l);B!==null&&F(w,B.startTime-$)}}function x($,B){p=!1,m&&(m=!1,g(N),N=-1),h=!0;var j=d;try{for(S(B),f=r(c);f!==null&&(!(f.expirationTime>B)||$&&!O());){var R=f.callback;if(typeof R=="function"){f.callback=null,d=f.priorityLevel;var _=R(f.expirationTime<=B);B=t.unstable_now(),typeof _=="function"?f.callback=_:f===r(c)&&n(c),S(B)}else n(c);f=r(c)}if(f!==null)var C=!0;else{var H=r(l);H!==null&&F(w,H.startTime-B),C=!1}return C}finally{f=null,d=j,h=!1}}var M=!1,k=null,N=-1,U=5,D=-1;function O(){return!(t.unstable_now()-D<U)}function L(){if(k!==null){var $=t.unstable_now();D=$;var B=!0;try{B=k(!0,$)}finally{B?A():(M=!1,k=null)}}else M=!1}var A;if(typeof v=="function")A=function(){v(L)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,E=b.port2;b.port1.onmessage=L,A=function(){E.postMessage(null)}}else A=function(){y(L,0)};function I($){k=$,M||(M=!0,A())}function F($,B){N=y(function(){$(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,I(x))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var j=d;d=B;try{return $()}finally{d=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var j=d;d=$;try{return B()}finally{d=j}},t.unstable_scheduleCallback=function($,B,j){var R=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?R+j:R):j=R,$){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=j+_,$={id:u++,callback:B,priorityLevel:$,startTime:j,expirationTime:_,sortIndex:-1},j>R?($.sortIndex=j,e(l,$),r(c)===null&&$===r(l)&&(m?(g(N),N=-1):m=!0,F(w,j-R))):($.sortIndex=_,e(c,$),p||h||(p=!0,I(x))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var B=d;return function(){var j=d;d=B;try{return $.apply(this,arguments)}finally{d=j}}}})(i2);(function(t){t.exports=i2})(LC);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2=G,un=Gg;function ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s2=new Set,Ic={};function js(t,e){Xa(t,e),Xa(t+"Capture",e)}function Xa(t,e){for(Ic[t]=e,t=0;t<e.length;t++)s2.add(e[t])}var eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kg=Object.prototype.hasOwnProperty,BC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bb={},wb={};function $C(t){return Kg.call(wb,t)?!0:Kg.call(bb,t)?!1:BC.test(t)?wb[t]=!0:(bb[t]=!0,!1)}function FC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jC(t,e,r,n){if(e===null||typeof e>"u"||FC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jr(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Er[t]=new jr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Er[e]=new jr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Er[t]=new jr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Er[t]=new jr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Er[t]=new jr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Er[t]=new jr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Er[t]=new jr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Er[t]=new jr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Er[t]=new jr(t,5,!1,t.toLowerCase(),null,!1,!1)});var G0=/[\-:]([a-z])/g;function K0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(G0,K0);Er[e]=new jr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(G0,K0);Er[e]=new jr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(G0,K0);Er[e]=new jr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Er[t]=new jr(t,1,!1,t.toLowerCase(),null,!1,!1)});Er.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Er[t]=new jr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q0(t,e,r,n){var i=Er.hasOwnProperty(e)?Er[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jC(e,r,i,n)&&(r=null),n||i===null?$C(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var co=o2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hu=Symbol.for("react.element"),xa=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),J0=Symbol.for("react.strict_mode"),Qg=Symbol.for("react.profiler"),a2=Symbol.for("react.provider"),l2=Symbol.for("react.context"),Y0=Symbol.for("react.forward_ref"),Jg=Symbol.for("react.suspense"),Yg=Symbol.for("react.suspense_list"),X0=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),c2=Symbol.for("react.offscreen"),_b=Symbol.iterator;function Ml(t){return t===null||typeof t!="object"?null:(t=_b&&t[_b]||t["@@iterator"],typeof t=="function"?t:null)}var zt=Object.assign,cm;function oc(t){if(cm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);cm=e&&e[1]||""}return`
`+cm+t}var um=!1;function fm(t,e){if(!t||um)return"";um=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=a);break}}}finally{um=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?oc(t):""}function UC(t){switch(t.tag){case 5:return oc(t.type);case 16:return oc("Lazy");case 13:return oc("Suspense");case 19:return oc("SuspenseList");case 0:case 2:case 15:return t=fm(t.type,!1),t;case 11:return t=fm(t.type.render,!1),t;case 1:return t=fm(t.type,!0),t;default:return""}}function Xg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ea:return"Fragment";case xa:return"Portal";case Qg:return"Profiler";case J0:return"StrictMode";case Jg:return"Suspense";case Yg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case l2:return(t.displayName||"Context")+".Consumer";case a2:return(t._context.displayName||"Context")+".Provider";case Y0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X0:return e=t.displayName||null,e!==null?e:Xg(t.type)||"Memo";case ko:e=t._payload,t=t._init;try{return Xg(t(e))}catch{}}return null}function zC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xg(e);case 8:return e===J0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qC(t){var e=u2(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vu(t){t._valueTracker||(t._valueTracker=qC(t))}function f2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=u2(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function md(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zg(t,e){var r=e.checked;return zt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Sb(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Jo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function d2(t,e){e=e.checked,e!=null&&Q0(t,"checked",e,!1)}function ev(t,e){d2(t,e);var r=Jo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tv(t,e.type,r):e.hasOwnProperty("defaultValue")&&tv(t,e.type,Jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xb(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function tv(t,e,r){(e!=="number"||md(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var sc=Array.isArray;function $a(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Jo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ye(91));return zt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Eb(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ye(92));if(sc(r)){if(1<r.length)throw Error(ye(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Jo(r)}}function h2(t,e){var r=Jo(e.value),n=Jo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Rb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function p2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?p2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wu,m2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HC=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(t){HC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pc[e]=pc[t]})});function g2(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||pc.hasOwnProperty(t)&&pc[t]?(""+e).trim():e+"px"}function v2(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=g2(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var VC=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iv(t,e){if(e){if(VC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ye(62))}}function ov(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sv=null;function Z0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var av=null,Fa=null,ja=null;function Pb(t){if(t=gu(t)){if(typeof av!="function")throw Error(ye(280));var e=t.stateNode;e&&(e=hh(e),av(t.stateNode,t.type,e))}}function y2(t){Fa?ja?ja.push(t):ja=[t]:Fa=t}function b2(){if(Fa){var t=Fa,e=ja;if(ja=Fa=null,Pb(t),e)for(t=0;t<e.length;t++)Pb(e[t])}}function w2(t,e){return t(e)}function _2(){}var dm=!1;function S2(t,e,r){if(dm)return t(e,r);dm=!0;try{return w2(t,e,r)}finally{dm=!1,(Fa!==null||ja!==null)&&(_2(),b2())}}function Lc(t,e){var r=t.stateNode;if(r===null)return null;var n=hh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ye(231,e,typeof r));return r}var lv=!1;if(eo)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){lv=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{lv=!1}function WC(t,e,r,n,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var mc=!1,gd=null,vd=!1,cv=null,GC={onError:function(t){mc=!0,gd=t}};function KC(t,e,r,n,i,o,s,a,c){mc=!1,gd=null,WC.apply(GC,arguments)}function QC(t,e,r,n,i,o,s,a,c){if(KC.apply(this,arguments),mc){if(mc){var l=gd;mc=!1,gd=null}else throw Error(ye(198));vd||(vd=!0,cv=l)}}function Us(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function x2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ab(t){if(Us(t)!==t)throw Error(ye(188))}function JC(t){var e=t.alternate;if(!e){if(e=Us(t),e===null)throw Error(ye(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Ab(i),t;if(o===n)return Ab(i),e;o=o.sibling}throw Error(ye(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(ye(189))}}if(r.alternate!==n)throw Error(ye(190))}if(r.tag!==3)throw Error(ye(188));return r.stateNode.current===r?t:e}function E2(t){return t=JC(t),t!==null?R2(t):null}function R2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R2(t);if(e!==null)return e;t=t.sibling}return null}var P2=un.unstable_scheduleCallback,kb=un.unstable_cancelCallback,YC=un.unstable_shouldYield,XC=un.unstable_requestPaint,Kt=un.unstable_now,ZC=un.unstable_getCurrentPriorityLevel,ey=un.unstable_ImmediatePriority,A2=un.unstable_UserBlockingPriority,yd=un.unstable_NormalPriority,eO=un.unstable_LowPriority,k2=un.unstable_IdlePriority,ch=null,Ei=null;function tO(t){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(ch,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:iO,rO=Math.log,nO=Math.LN2;function iO(t){return t>>>=0,t===0?32:31-(rO(t)/nO|0)|0}var Gu=64,Ku=4194304;function ac(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=ac(a):(o&=s,o!==0&&(n=ac(o)))}else s=r&~i,s!==0?n=ac(s):o!==0&&(n=ac(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xn(e),i=1<<r,n|=t[r],e&=~i;return n}function oO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sO(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Xn(o),a=1<<s,c=i[s];c===-1?(!(a&r)||a&n)&&(i[s]=oO(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function uv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function T2(){var t=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),t}function hm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function pu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=r}function aO(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Xn(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function ty(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var yt=0;function C2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O2,ry,M2,N2,I2,fv=!1,Qu=[],$o=null,Fo=null,jo=null,Bc=new Map,$c=new Map,Oo=[],lO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tb(t,e){switch(t){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(e.pointerId)}}function Il(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=gu(e),e!==null&&ry(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cO(t,e,r,n,i){switch(e){case"focusin":return $o=Il($o,t,e,r,n,i),!0;case"dragenter":return Fo=Il(Fo,t,e,r,n,i),!0;case"mouseover":return jo=Il(jo,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Bc.set(o,Il(Bc.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,$c.set(o,Il($c.get(o)||null,t,e,r,n,i)),!0}return!1}function D2(t){var e=gs(t.target);if(e!==null){var r=Us(e);if(r!==null){if(e=r.tag,e===13){if(e=x2(r),e!==null){t.blockedOn=e,I2(t.priority,function(){M2(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=dv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);sv=n,r.target.dispatchEvent(n),sv=null}else return e=gu(r),e!==null&&ry(e),t.blockedOn=r,!1;e.shift()}return!0}function Cb(t,e,r){Bf(t)&&r.delete(e)}function uO(){fv=!1,$o!==null&&Bf($o)&&($o=null),Fo!==null&&Bf(Fo)&&(Fo=null),jo!==null&&Bf(jo)&&(jo=null),Bc.forEach(Cb),$c.forEach(Cb)}function Dl(t,e){t.blockedOn===e&&(t.blockedOn=null,fv||(fv=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,uO)))}function Fc(t){function e(i){return Dl(i,t)}if(0<Qu.length){Dl(Qu[0],t);for(var r=1;r<Qu.length;r++){var n=Qu[r];n.blockedOn===t&&(n.blockedOn=null)}}for($o!==null&&Dl($o,t),Fo!==null&&Dl(Fo,t),jo!==null&&Dl(jo,t),Bc.forEach(e),$c.forEach(e),r=0;r<Oo.length;r++)n=Oo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Oo.length&&(r=Oo[0],r.blockedOn===null);)D2(r),r.blockedOn===null&&Oo.shift()}var Ua=co.ReactCurrentBatchConfig,wd=!0;function fO(t,e,r,n){var i=yt,o=Ua.transition;Ua.transition=null;try{yt=1,ny(t,e,r,n)}finally{yt=i,Ua.transition=o}}function dO(t,e,r,n){var i=yt,o=Ua.transition;Ua.transition=null;try{yt=4,ny(t,e,r,n)}finally{yt=i,Ua.transition=o}}function ny(t,e,r,n){if(wd){var i=dv(t,e,r,n);if(i===null)xm(t,e,n,_d,r),Tb(t,n);else if(cO(i,t,e,r,n))n.stopPropagation();else if(Tb(t,n),e&4&&-1<lO.indexOf(t)){for(;i!==null;){var o=gu(i);if(o!==null&&O2(o),o=dv(t,e,r,n),o===null&&xm(t,e,n,_d,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else xm(t,e,n,null,r)}}var _d=null;function dv(t,e,r,n){if(_d=null,t=Z0(n),t=gs(t),t!==null)if(e=Us(t),e===null)t=null;else if(r=e.tag,r===13){if(t=x2(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _d=t,null}function L2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZC()){case ey:return 1;case A2:return 4;case yd:case eO:return 16;case k2:return 536870912;default:return 16}default:return 16}}var No=null,iy=null,$f=null;function B2(){if($f)return $f;var t,e=iy,r=e.length,n,i="value"in No?No.value:No.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return $f=i.slice(t,1<n?1-n:void 0)}function Ff(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ju(){return!0}function Ob(){return!1}function dn(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ju:Ob,this.isPropagationStopped=Ob,this}return zt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),e}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oy=dn(bl),mu=zt({},bl,{view:0,detail:0}),hO=dn(mu),pm,mm,Ll,uh=zt({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ll&&(Ll&&t.type==="mousemove"?(pm=t.screenX-Ll.screenX,mm=t.screenY-Ll.screenY):mm=pm=0,Ll=t),pm)},movementY:function(t){return"movementY"in t?t.movementY:mm}}),Mb=dn(uh),pO=zt({},uh,{dataTransfer:0}),mO=dn(pO),gO=zt({},mu,{relatedTarget:0}),gm=dn(gO),vO=zt({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),yO=dn(vO),bO=zt({},bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wO=dn(bO),_O=zt({},bl,{data:0}),Nb=dn(_O),SO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EO[t])?!!e[t]:!1}function sy(){return RO}var PO=zt({},mu,{key:function(t){if(t.key){var e=SO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ff(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sy,charCode:function(t){return t.type==="keypress"?Ff(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ff(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AO=dn(PO),kO=zt({},uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ib=dn(kO),TO=zt({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sy}),CO=dn(TO),OO=zt({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),MO=dn(OO),NO=zt({},uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IO=dn(NO),DO=[9,13,27,32],ay=eo&&"CompositionEvent"in window,gc=null;eo&&"documentMode"in document&&(gc=document.documentMode);var LO=eo&&"TextEvent"in window&&!gc,$2=eo&&(!ay||gc&&8<gc&&11>=gc),Db=String.fromCharCode(32),Lb=!1;function F2(t,e){switch(t){case"keyup":return DO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function BO(t,e){switch(t){case"compositionend":return j2(e);case"keypress":return e.which!==32?null:(Lb=!0,Db);case"textInput":return t=e.data,t===Db&&Lb?null:t;default:return null}}function $O(t,e){if(Ra)return t==="compositionend"||!ay&&F2(t,e)?(t=B2(),$f=iy=No=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $2&&e.locale!=="ko"?null:e.data;default:return null}}var FO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FO[t.type]:e==="textarea"}function U2(t,e,r,n){y2(n),e=Sd(e,"onChange"),0<e.length&&(r=new oy("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var vc=null,jc=null;function jO(t){X2(t,0)}function fh(t){var e=ka(t);if(f2(e))return t}function UO(t,e){if(t==="change")return e}var z2=!1;if(eo){var vm;if(eo){var ym="oninput"in document;if(!ym){var $b=document.createElement("div");$b.setAttribute("oninput","return;"),ym=typeof $b.oninput=="function"}vm=ym}else vm=!1;z2=vm&&(!document.documentMode||9<document.documentMode)}function Fb(){vc&&(vc.detachEvent("onpropertychange",q2),jc=vc=null)}function q2(t){if(t.propertyName==="value"&&fh(jc)){var e=[];U2(e,jc,t,Z0(t)),S2(jO,e)}}function zO(t,e,r){t==="focusin"?(Fb(),vc=e,jc=r,vc.attachEvent("onpropertychange",q2)):t==="focusout"&&Fb()}function qO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fh(jc)}function HO(t,e){if(t==="click")return fh(e)}function VO(t,e){if(t==="input"||t==="change")return fh(e)}function WO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ei=typeof Object.is=="function"?Object.is:WO;function Uc(t,e){if(ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Kg.call(e,i)||!ei(t[i],e[i]))return!1}return!0}function jb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ub(t,e){var r=jb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jb(r)}}function H2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V2(){for(var t=window,e=md();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=md(t.document)}return e}function ly(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GO(t){var e=V2(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&H2(r.ownerDocument.documentElement,r)){if(n!==null&&ly(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=Ub(r,o);var s=Ub(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KO=eo&&"documentMode"in document&&11>=document.documentMode,Pa=null,hv=null,yc=null,pv=!1;function zb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pv||Pa==null||Pa!==md(n)||(n=Pa,"selectionStart"in n&&ly(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yc&&Uc(yc,n)||(yc=n,n=Sd(hv,"onSelect"),0<n.length&&(e=new oy("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Pa)))}function Yu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Aa={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},bm={},W2={};eo&&(W2=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function dh(t){if(bm[t])return bm[t];if(!Aa[t])return t;var e=Aa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in W2)return bm[t]=e[r];return t}var G2=dh("animationend"),K2=dh("animationiteration"),Q2=dh("animationstart"),J2=dh("transitionend"),Y2=new Map,qb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,e){Y2.set(t,e),js(e,[t])}for(var wm=0;wm<qb.length;wm++){var _m=qb[wm],QO=_m.toLowerCase(),JO=_m[0].toUpperCase()+_m.slice(1);es(QO,"on"+JO)}es(G2,"onAnimationEnd");es(K2,"onAnimationIteration");es(Q2,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(J2,"onTransitionEnd");Xa("onMouseEnter",["mouseout","mouseover"]);Xa("onMouseLeave",["mouseout","mouseover"]);Xa("onPointerEnter",["pointerout","pointerover"]);Xa("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YO=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function Hb(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,QC(n,e,void 0,t),t.currentTarget=null}function X2(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Hb(i,a,l),o=c}else for(s=0;s<n.length;s++){if(a=n[s],c=a.instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Hb(i,a,l),o=c}}}if(vd)throw t=cv,vd=!1,cv=null,t}function Dt(t,e){var r=e[bv];r===void 0&&(r=e[bv]=new Set);var n=t+"__bubble";r.has(n)||(Z2(e,t,2,!1),r.add(n))}function Sm(t,e,r){var n=0;e&&(n|=4),Z2(r,t,n,e)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function zc(t){if(!t[Xu]){t[Xu]=!0,s2.forEach(function(r){r!=="selectionchange"&&(YO.has(r)||Sm(r,!1,t),Sm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xu]||(e[Xu]=!0,Sm("selectionchange",!1,e))}}function Z2(t,e,r,n){switch(L2(e)){case 1:var i=fO;break;case 4:i=dO;break;default:i=ny}r=i.bind(null,e,r,t),i=void 0,!lv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function xm(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=gs(a),s===null)return;if(c=s.tag,c===5||c===6){n=o=s;continue e}a=a.parentNode}}n=n.return}S2(function(){var l=o,u=Z0(r),f=[];e:{var d=Y2.get(t);if(d!==void 0){var h=oy,p=t;switch(t){case"keypress":if(Ff(r)===0)break e;case"keydown":case"keyup":h=AO;break;case"focusin":p="focus",h=gm;break;case"focusout":p="blur",h=gm;break;case"beforeblur":case"afterblur":h=gm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Mb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=mO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=CO;break;case G2:case K2:case Q2:h=yO;break;case J2:h=MO;break;case"scroll":h=hO;break;case"wheel":h=IO;break;case"copy":case"cut":case"paste":h=wO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ib}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var v=l,S;v!==null;){S=v;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,g!==null&&(w=Lc(v,g),w!=null&&m.push(qc(v,w,S)))),y)break;v=v.return}0<m.length&&(d=new h(d,p,null,r,u),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==sv&&(p=r.relatedTarget||r.fromElement)&&(gs(p)||p[to]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=l,p=p?gs(p):null,p!==null&&(y=Us(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=Mb,w="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=Ib,w="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?d:ka(h),S=p==null?d:ka(p),d=new m(w,v+"leave",h,r,u),d.target=y,d.relatedTarget=S,w=null,gs(u)===l&&(m=new m(g,v+"enter",p,r,u),m.target=S,m.relatedTarget=y,w=m),y=w,h&&p)t:{for(m=h,g=p,v=0,S=m;S;S=Qs(S))v++;for(S=0,w=g;w;w=Qs(w))S++;for(;0<v-S;)m=Qs(m),v--;for(;0<S-v;)g=Qs(g),S--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Qs(m),g=Qs(g)}m=null}else m=null;h!==null&&Vb(f,d,h,m,!1),p!==null&&y!==null&&Vb(f,y,p,m,!0)}}e:{if(d=l?ka(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var x=UO;else if(Bb(d))if(z2)x=VO;else{x=qO;var M=zO}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=HO);if(x&&(x=x(t,l))){U2(f,x,r,u);break e}M&&M(t,d,l),t==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&tv(d,"number",d.value)}switch(M=l?ka(l):window,t){case"focusin":(Bb(M)||M.contentEditable==="true")&&(Pa=M,hv=l,yc=null);break;case"focusout":yc=hv=Pa=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,zb(f,r,u);break;case"selectionchange":if(KO)break;case"keydown":case"keyup":zb(f,r,u)}var k;if(ay)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ra?F2(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&($2&&r.locale!=="ko"&&(Ra||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ra&&(k=B2()):(No=u,iy="value"in No?No.value:No.textContent,Ra=!0)),M=Sd(l,N),0<M.length&&(N=new Nb(N,t,null,r,u),f.push({event:N,listeners:M}),k?N.data=k:(k=j2(r),k!==null&&(N.data=k)))),(k=LO?BO(t,r):$O(t,r))&&(l=Sd(l,"onBeforeInput"),0<l.length&&(u=new Nb("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=k))}X2(f,e)})}function qc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Sd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Lc(t,r),o!=null&&n.unshift(qc(t,o,i)),o=Lc(t,e),o!=null&&n.push(qc(t,o,i))),t=t.return}return n}function Qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vb(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&l!==null&&(a=l,i?(c=Lc(r,o),c!=null&&s.unshift(qc(r,c,a))):i||(c=Lc(r,o),c!=null&&s.push(qc(r,c,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var XO=/\r\n?/g,ZO=/\u0000|\uFFFD/g;function Wb(t){return(typeof t=="string"?t:""+t).replace(XO,`
`).replace(ZO,"")}function Zu(t,e,r){if(e=Wb(e),Wb(t)!==e&&r)throw Error(ye(425))}function xd(){}var mv=null,gv=null;function vv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yv=typeof setTimeout=="function"?setTimeout:void 0,eM=typeof clearTimeout=="function"?clearTimeout:void 0,Gb=typeof Promise=="function"?Promise:void 0,tM=typeof queueMicrotask=="function"?queueMicrotask:typeof Gb<"u"?function(t){return Gb.resolve(null).then(t).catch(rM)}:yv;function rM(t){setTimeout(function(){throw t})}function Em(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Fc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Fc(e)}function Uo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var wl=Math.random().toString(36).slice(2),_i="__reactFiber$"+wl,Hc="__reactProps$"+wl,to="__reactContainer$"+wl,bv="__reactEvents$"+wl,nM="__reactListeners$"+wl,iM="__reactHandles$"+wl;function gs(t){var e=t[_i];if(e)return e;for(var r=t.parentNode;r;){if(e=r[to]||r[_i]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Kb(t);t!==null;){if(r=t[_i])return r;t=Kb(t)}return e}t=r,r=t.parentNode}return null}function gu(t){return t=t[_i]||t[to],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ye(33))}function hh(t){return t[Hc]||null}var wv=[],Ta=-1;function ts(t){return{current:t}}function Lt(t){0>Ta||(t.current=wv[Ta],wv[Ta]=null,Ta--)}function At(t,e){Ta++,wv[Ta]=t.current,t.current=e}var Yo={},Nr=ts(Yo),Wr=ts(!1),Ps=Yo;function Za(t,e){var r=t.type.contextTypes;if(!r)return Yo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gr(t){return t=t.childContextTypes,t!=null}function Ed(){Lt(Wr),Lt(Nr)}function Qb(t,e,r){if(Nr.current!==Yo)throw Error(ye(168));At(Nr,e),At(Wr,r)}function eR(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ye(108,zC(t)||"Unknown",i));return zt({},r,n)}function Rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yo,Ps=Nr.current,At(Nr,t),At(Wr,Wr.current),!0}function Jb(t,e,r){var n=t.stateNode;if(!n)throw Error(ye(169));r?(t=eR(t,e,Ps),n.__reactInternalMemoizedMergedChildContext=t,Lt(Wr),Lt(Nr),At(Nr,t)):Lt(Wr),At(Wr,r)}var Vi=null,ph=!1,Rm=!1;function tR(t){Vi===null?Vi=[t]:Vi.push(t)}function oM(t){ph=!0,tR(t)}function rs(){if(!Rm&&Vi!==null){Rm=!0;var t=0,e=yt;try{var r=Vi;for(yt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vi=null,ph=!1}catch(i){throw Vi!==null&&(Vi=Vi.slice(t+1)),P2(ey,rs),i}finally{yt=e,Rm=!1}}return null}var Ca=[],Oa=0,Pd=null,Ad=0,wn=[],_n=0,As=null,Gi=1,Ki="";function us(t,e){Ca[Oa++]=Ad,Ca[Oa++]=Pd,Pd=t,Ad=e}function rR(t,e,r){wn[_n++]=Gi,wn[_n++]=Ki,wn[_n++]=As,As=t;var n=Gi;t=Ki;var i=32-Xn(n)-1;n&=~(1<<i),r+=1;var o=32-Xn(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Gi=1<<32-Xn(e)+i|r<<i|n,Ki=o+t}else Gi=1<<o|r<<i|n,Ki=t}function cy(t){t.return!==null&&(us(t,1),rR(t,1,0))}function uy(t){for(;t===Pd;)Pd=Ca[--Oa],Ca[Oa]=null,Ad=Ca[--Oa],Ca[Oa]=null;for(;t===As;)As=wn[--_n],wn[_n]=null,Ki=wn[--_n],wn[_n]=null,Gi=wn[--_n],wn[_n]=null}var ln=null,an=null,$t=!1,Jn=null;function nR(t,e){var r=Sn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Yb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,an=Uo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=As!==null?{id:Gi,overflow:Ki}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Sn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ln=t,an=null,!0):!1;default:return!1}}function _v(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sv(t){if($t){var e=an;if(e){var r=e;if(!Yb(t,e)){if(_v(t))throw Error(ye(418));e=Uo(r.nextSibling);var n=ln;e&&Yb(t,e)?nR(n,r):(t.flags=t.flags&-4097|2,$t=!1,ln=t)}}else{if(_v(t))throw Error(ye(418));t.flags=t.flags&-4097|2,$t=!1,ln=t}}}function Xb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function ef(t){if(t!==ln)return!1;if(!$t)return Xb(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vv(t.type,t.memoizedProps)),e&&(e=an)){if(_v(t))throw iR(),Error(ye(418));for(;e;)nR(t,e),e=Uo(e.nextSibling)}if(Xb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){an=Uo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}an=null}}else an=ln?Uo(t.stateNode.nextSibling):null;return!0}function iR(){for(var t=an;t;)t=Uo(t.nextSibling)}function el(){an=ln=null,$t=!1}function fy(t){Jn===null?Jn=[t]:Jn.push(t)}var sM=co.ReactCurrentBatchConfig;function Wn(t,e){if(t&&t.defaultProps){e=zt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var kd=ts(null),Td=null,Ma=null,dy=null;function hy(){dy=Ma=Td=null}function py(t){var e=kd.current;Lt(kd),t._currentValue=e}function xv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function za(t,e){Td=t,dy=Ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qr=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(dy!==t)if(t={context:t,memoizedValue:e,next:null},Ma===null){if(Td===null)throw Error(ye(308));Ma=t,Td.dependencies={lanes:0,firstContext:t}}else Ma=Ma.next=t;return e}var vs=null;function my(t){vs===null?vs=[t]:vs.push(t)}function oR(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,my(e)):(r.next=i.next,i.next=r),e.interleaved=r,ro(t,n)}function ro(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var To=!1;function gy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,it&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ro(t,r)}return i=n.interleaved,i===null?(e.next=e,my(n)):(e.next=i.next,i.next=e),n.interleaved=e,ro(t,r)}function jf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ty(t,r)}}function Zb(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Cd(t,e,r,n){var i=t.updateQueue;To=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,s===null?o=l:s.next=l,s=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(o!==null){var f=i.baseState;s=0,u=l=c=null,a=o;do{var d=a.lane,h=a.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,h=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=zt({},f,d);break e;case 2:To=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=f):u=u.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ts|=s,t.lanes=s,t.memoizedState=f}}function ew(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ye(191,i));i.call(n)}}}var aR=new o2.Component().refs;function Ev(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:zt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var mh={isMounted:function(t){return(t=t._reactInternals)?Us(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Br(),i=Ho(t),o=Ji(n,i);o.payload=e,r!=null&&(o.callback=r),e=zo(t,o,i),e!==null&&(Zn(e,t,i,n),jf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Br(),i=Ho(t),o=Ji(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=zo(t,o,i),e!==null&&(Zn(e,t,i,n),jf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Br(),n=Ho(t),i=Ji(r,n);i.tag=2,e!=null&&(i.callback=e),e=zo(t,i,n),e!==null&&(Zn(e,t,n,r),jf(e,t,n))}};function tw(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!Uc(r,n)||!Uc(i,o):!0}function lR(t,e,r){var n=!1,i=Yo,o=e.contextType;return typeof o=="object"&&o!==null?o=En(o):(i=Gr(e)?Ps:Nr.current,n=e.contextTypes,o=(n=n!=null)?Za(t,i):Yo),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function rw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&mh.enqueueReplaceState(e,e.state,null)}function Rv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=aR,gy(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=En(o):(o=Gr(e)?Ps:Nr.current,i.context=Za(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ev(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mh.enqueueReplaceState(i,i.state,null),Cd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ye(309));var n=r.stateNode}if(!n)throw Error(ye(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===aR&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ye(284));if(!r._owner)throw Error(ye(290,t))}return t}function tf(t,e){throw t=Object.prototype.toString.call(e),Error(ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nw(t){var e=t._init;return e(t._payload)}function cR(t){function e(g,v){if(t){var S=g.deletions;S===null?(g.deletions=[v],g.flags|=16):S.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Vo(g,v),g.index=0,g.sibling=null,g}function o(g,v,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<v?(g.flags|=2,v):S):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,S,w){return v===null||v.tag!==6?(v=Mm(S,g.mode,w),v.return=g,v):(v=i(v,S),v.return=g,v)}function c(g,v,S,w){var x=S.type;return x===Ea?u(g,v,S.props.children,w,S.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ko&&nw(x)===v.type)?(w=i(v,S.props),w.ref=Bl(g,v,S),w.return=g,w):(w=Wf(S.type,S.key,S.props,null,g.mode,w),w.ref=Bl(g,v,S),w.return=g,w)}function l(g,v,S,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Nm(S,g.mode,w),v.return=g,v):(v=i(v,S.children||[]),v.return=g,v)}function u(g,v,S,w,x){return v===null||v.tag!==7?(v=Rs(S,g.mode,w,x),v.return=g,v):(v=i(v,S),v.return=g,v)}function f(g,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Mm(""+v,g.mode,S),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hu:return S=Wf(v.type,v.key,v.props,null,g.mode,S),S.ref=Bl(g,null,v),S.return=g,S;case xa:return v=Nm(v,g.mode,S),v.return=g,v;case ko:var w=v._init;return f(g,w(v._payload),S)}if(sc(v)||Ml(v))return v=Rs(v,g.mode,S,null),v.return=g,v;tf(g,v)}return null}function d(g,v,S,w){var x=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return x!==null?null:a(g,v,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hu:return S.key===x?c(g,v,S,w):null;case xa:return S.key===x?l(g,v,S,w):null;case ko:return x=S._init,d(g,v,x(S._payload),w)}if(sc(S)||Ml(S))return x!==null?null:u(g,v,S,w,null);tf(g,S)}return null}function h(g,v,S,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(S)||null,a(v,g,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hu:return g=g.get(w.key===null?S:w.key)||null,c(v,g,w,x);case xa:return g=g.get(w.key===null?S:w.key)||null,l(v,g,w,x);case ko:var M=w._init;return h(g,v,S,M(w._payload),x)}if(sc(w)||Ml(w))return g=g.get(S)||null,u(v,g,w,x,null);tf(v,w)}return null}function p(g,v,S,w){for(var x=null,M=null,k=v,N=v=0,U=null;k!==null&&N<S.length;N++){k.index>N?(U=k,k=null):U=k.sibling;var D=d(g,k,S[N],w);if(D===null){k===null&&(k=U);break}t&&k&&D.alternate===null&&e(g,k),v=o(D,v,N),M===null?x=D:M.sibling=D,M=D,k=U}if(N===S.length)return r(g,k),$t&&us(g,N),x;if(k===null){for(;N<S.length;N++)k=f(g,S[N],w),k!==null&&(v=o(k,v,N),M===null?x=k:M.sibling=k,M=k);return $t&&us(g,N),x}for(k=n(g,k);N<S.length;N++)U=h(k,g,N,S[N],w),U!==null&&(t&&U.alternate!==null&&k.delete(U.key===null?N:U.key),v=o(U,v,N),M===null?x=U:M.sibling=U,M=U);return t&&k.forEach(function(O){return e(g,O)}),$t&&us(g,N),x}function m(g,v,S,w){var x=Ml(S);if(typeof x!="function")throw Error(ye(150));if(S=x.call(S),S==null)throw Error(ye(151));for(var M=x=null,k=v,N=v=0,U=null,D=S.next();k!==null&&!D.done;N++,D=S.next()){k.index>N?(U=k,k=null):U=k.sibling;var O=d(g,k,D.value,w);if(O===null){k===null&&(k=U);break}t&&k&&O.alternate===null&&e(g,k),v=o(O,v,N),M===null?x=O:M.sibling=O,M=O,k=U}if(D.done)return r(g,k),$t&&us(g,N),x;if(k===null){for(;!D.done;N++,D=S.next())D=f(g,D.value,w),D!==null&&(v=o(D,v,N),M===null?x=D:M.sibling=D,M=D);return $t&&us(g,N),x}for(k=n(g,k);!D.done;N++,D=S.next())D=h(k,g,N,D.value,w),D!==null&&(t&&D.alternate!==null&&k.delete(D.key===null?N:D.key),v=o(D,v,N),M===null?x=D:M.sibling=D,M=D);return t&&k.forEach(function(L){return e(g,L)}),$t&&us(g,N),x}function y(g,v,S,w){if(typeof S=="object"&&S!==null&&S.type===Ea&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Hu:e:{for(var x=S.key,M=v;M!==null;){if(M.key===x){if(x=S.type,x===Ea){if(M.tag===7){r(g,M.sibling),v=i(M,S.props.children),v.return=g,g=v;break e}}else if(M.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ko&&nw(x)===M.type){r(g,M.sibling),v=i(M,S.props),v.ref=Bl(g,M,S),v.return=g,g=v;break e}r(g,M);break}else e(g,M);M=M.sibling}S.type===Ea?(v=Rs(S.props.children,g.mode,w,S.key),v.return=g,g=v):(w=Wf(S.type,S.key,S.props,null,g.mode,w),w.ref=Bl(g,v,S),w.return=g,g=w)}return s(g);case xa:e:{for(M=S.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){r(g,v.sibling),v=i(v,S.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=Nm(S,g.mode,w),v.return=g,g=v}return s(g);case ko:return M=S._init,y(g,v,M(S._payload),w)}if(sc(S))return p(g,v,S,w);if(Ml(S))return m(g,v,S,w);tf(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,S),v.return=g,g=v):(r(g,v),v=Mm(S,g.mode,w),v.return=g,g=v),s(g)):r(g,v)}return y}var tl=cR(!0),uR=cR(!1),vu={},Ri=ts(vu),Vc=ts(vu),Wc=ts(vu);function ys(t){if(t===vu)throw Error(ye(174));return t}function vy(t,e){switch(At(Wc,e),At(Vc,t),At(Ri,vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nv(e,t)}Lt(Ri),At(Ri,e)}function rl(){Lt(Ri),Lt(Vc),Lt(Wc)}function fR(t){ys(Wc.current);var e=ys(Ri.current),r=nv(e,t.type);e!==r&&(At(Vc,t),At(Ri,r))}function yy(t){Vc.current===t&&(Lt(Ri),Lt(Vc))}var jt=ts(0);function Od(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pm=[];function by(){for(var t=0;t<Pm.length;t++)Pm[t]._workInProgressVersionPrimary=null;Pm.length=0}var Uf=co.ReactCurrentDispatcher,Am=co.ReactCurrentBatchConfig,ks=0,Ut=null,sr=null,fr=null,Md=!1,bc=!1,Gc=0,aM=0;function Ar(){throw Error(ye(321))}function wy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ei(t[r],e[r]))return!1;return!0}function _y(t,e,r,n,i,o){if(ks=o,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uf.current=t===null||t.memoizedState===null?fM:dM,t=r(n,i),bc){o=0;do{if(bc=!1,Gc=0,25<=o)throw Error(ye(301));o+=1,fr=sr=null,e.updateQueue=null,Uf.current=hM,t=r(n,i)}while(bc)}if(Uf.current=Nd,e=sr!==null&&sr.next!==null,ks=0,fr=sr=Ut=null,Md=!1,e)throw Error(ye(300));return t}function Sy(){var t=Gc!==0;return Gc=0,t}function mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Ut.memoizedState=fr=t:fr=fr.next=t,fr}function Rn(){if(sr===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=sr.next;var e=fr===null?Ut.memoizedState:fr.next;if(e!==null)fr=e,sr=t;else{if(t===null)throw Error(ye(310));sr=t,t={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},fr===null?Ut.memoizedState=fr=t:fr=fr.next=t}return fr}function Kc(t,e){return typeof e=="function"?e(t):e}function km(t){var e=Rn(),r=e.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=t;var n=sr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,c=null,l=o;do{var u=l.lane;if((ks&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var f={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=f,s=n):c=c.next=f,Ut.lanes|=u,Ts|=u}l=l.next}while(l!==null&&l!==o);c===null?s=n:c.next=a,ei(n,e.memoizedState)||(qr=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,Ut.lanes|=o,Ts|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Tm(t){var e=Rn(),r=e.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ei(o,e.memoizedState)||(qr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function dR(){}function hR(t,e){var r=Ut,n=Rn(),i=e(),o=!ei(n.memoizedState,i);if(o&&(n.memoizedState=i,qr=!0),n=n.queue,xy(gR.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||fr!==null&&fr.memoizedState.tag&1){if(r.flags|=2048,Qc(9,mR.bind(null,r,n,i,e),void 0,null),hr===null)throw Error(ye(349));ks&30||pR(r,e,i)}return i}function pR(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function mR(t,e,r,n){e.value=r,e.getSnapshot=n,vR(e)&&yR(t)}function gR(t,e,r){return r(function(){vR(e)&&yR(t)})}function vR(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ei(t,r)}catch{return!0}}function yR(t){var e=ro(t,1);e!==null&&Zn(e,t,1,-1)}function iw(t){var e=mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:t},e.queue=t,t=t.dispatch=uM.bind(null,Ut,t),[e.memoizedState,t]}function Qc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function bR(){return Rn().memoizedState}function zf(t,e,r,n){var i=mi();Ut.flags|=t,i.memoizedState=Qc(1|e,r,void 0,n===void 0?null:n)}function gh(t,e,r,n){var i=Rn();n=n===void 0?null:n;var o=void 0;if(sr!==null){var s=sr.memoizedState;if(o=s.destroy,n!==null&&wy(n,s.deps)){i.memoizedState=Qc(e,r,o,n);return}}Ut.flags|=t,i.memoizedState=Qc(1|e,r,o,n)}function ow(t,e){return zf(8390656,8,t,e)}function xy(t,e){return gh(2048,8,t,e)}function wR(t,e){return gh(4,2,t,e)}function _R(t,e){return gh(4,4,t,e)}function SR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xR(t,e,r){return r=r!=null?r.concat([t]):null,gh(4,4,SR.bind(null,e,t),r)}function Ey(){}function ER(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function RR(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function PR(t,e,r){return ks&21?(ei(r,e)||(r=T2(),Ut.lanes|=r,Ts|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qr=!0),t.memoizedState=r)}function lM(t,e){var r=yt;yt=r!==0&&4>r?r:4,t(!0);var n=Am.transition;Am.transition={};try{t(!1),e()}finally{yt=r,Am.transition=n}}function AR(){return Rn().memoizedState}function cM(t,e,r){var n=Ho(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kR(t))TR(e,r);else if(r=oR(t,e,r,n),r!==null){var i=Br();Zn(r,t,n,i),CR(r,e,n)}}function uM(t,e,r){var n=Ho(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kR(t))TR(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,ei(a,s)){var c=e.interleaved;c===null?(i.next=i,my(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=oR(t,e,i,n),r!==null&&(i=Br(),Zn(r,t,n,i),CR(r,e,n))}}function kR(t){var e=t.alternate;return t===Ut||e!==null&&e===Ut}function TR(t,e){bc=Md=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function CR(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ty(t,r)}}var Nd={readContext:En,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},fM={readContext:En,useCallback:function(t,e){return mi().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:ow,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zf(4194308,4,SR.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zf(4194308,4,t,e)},useInsertionEffect:function(t,e){return zf(4,2,t,e)},useMemo:function(t,e){var r=mi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=mi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=cM.bind(null,Ut,t),[n.memoizedState,t]},useRef:function(t){var e=mi();return t={current:t},e.memoizedState=t},useState:iw,useDebugValue:Ey,useDeferredValue:function(t){return mi().memoizedState=t},useTransition:function(){var t=iw(!1),e=t[0];return t=lM.bind(null,t[1]),mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ut,i=mi();if($t){if(r===void 0)throw Error(ye(407));r=r()}else{if(r=e(),hr===null)throw Error(ye(349));ks&30||pR(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,ow(gR.bind(null,n,o,t),[t]),n.flags|=2048,Qc(9,mR.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=mi(),e=hr.identifierPrefix;if($t){var r=Ki,n=Gi;r=(n&~(1<<32-Xn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Gc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=aM++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dM={readContext:En,useCallback:ER,useContext:En,useEffect:xy,useImperativeHandle:xR,useInsertionEffect:wR,useLayoutEffect:_R,useMemo:RR,useReducer:km,useRef:bR,useState:function(){return km(Kc)},useDebugValue:Ey,useDeferredValue:function(t){var e=Rn();return PR(e,sr.memoizedState,t)},useTransition:function(){var t=km(Kc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:dR,useSyncExternalStore:hR,useId:AR,unstable_isNewReconciler:!1},hM={readContext:En,useCallback:ER,useContext:En,useEffect:xy,useImperativeHandle:xR,useInsertionEffect:wR,useLayoutEffect:_R,useMemo:RR,useReducer:Tm,useRef:bR,useState:function(){return Tm(Kc)},useDebugValue:Ey,useDeferredValue:function(t){var e=Rn();return sr===null?e.memoizedState=t:PR(e,sr.memoizedState,t)},useTransition:function(){var t=Tm(Kc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:dR,useSyncExternalStore:hR,useId:AR,unstable_isNewReconciler:!1};function nl(t,e){try{var r="",n=e;do r+=UC(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Cm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Pv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var pM=typeof WeakMap=="function"?WeakMap:Map;function OR(t,e,r){r=Ji(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Dd||(Dd=!0,Lv=n),Pv(t,e)},r}function MR(t,e,r){r=Ji(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Pv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Pv(t,e),typeof n!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function sw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new pM;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=kM.bind(null,t,e,r),e.then(t,t))}function aw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lw(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ji(-1,1),e.tag=2,zo(r,e,1))),r.lanes|=1),t)}var mM=co.ReactCurrentOwner,qr=!1;function Dr(t,e,r,n){e.child=t===null?uR(e,null,r,n):tl(e,t.child,r,n)}function cw(t,e,r,n,i){r=r.render;var o=e.ref;return za(e,i),n=_y(t,e,r,n,o,i),r=Sy(),t!==null&&!qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,no(t,e,i)):($t&&r&&cy(e),e.flags|=1,Dr(t,e,n,i),e.child)}function uw(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!My(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,NR(t,e,o,n,i)):(t=Wf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Uc,r(s,n)&&t.ref===e.ref)return no(t,e,i)}return e.flags|=1,t=Vo(o,n),t.ref=e.ref,t.return=e,e.child=t}function NR(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(Uc(o,n)&&t.ref===e.ref)if(qr=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(qr=!0);else return e.lanes=t.lanes,no(t,e,i)}return Av(t,e,r,n,i)}function IR(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Ia,tn),tn|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,At(Ia,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,At(Ia,tn),tn|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,At(Ia,tn),tn|=n;return Dr(t,e,i,r),e.child}function DR(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Av(t,e,r,n,i){var o=Gr(r)?Ps:Nr.current;return o=Za(e,o),za(e,i),r=_y(t,e,r,n,o,i),n=Sy(),t!==null&&!qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,no(t,e,i)):($t&&n&&cy(e),e.flags|=1,Dr(t,e,r,i),e.child)}function fw(t,e,r,n,i){if(Gr(r)){var o=!0;Rd(e)}else o=!1;if(za(e,i),e.stateNode===null)qf(t,e),lR(e,r,n),Rv(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,l=r.contextType;typeof l=="object"&&l!==null?l=En(l):(l=Gr(r)?Ps:Nr.current,l=Za(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||c!==l)&&rw(e,s,n,l),To=!1;var d=e.memoizedState;s.state=d,Cd(e,n,s,i),c=e.memoizedState,a!==n||d!==c||Wr.current||To?(typeof u=="function"&&(Ev(e,r,u,n),c=e.memoizedState),(a=To||tw(e,r,a,n,d,c,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=l,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,sR(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Wn(e.type,a),s.props=l,f=e.pendingProps,d=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=En(c):(c=Gr(r)?Ps:Nr.current,c=Za(e,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==c)&&rw(e,s,n,c),To=!1,d=e.memoizedState,s.state=d,Cd(e,n,s,i);var p=e.memoizedState;a!==f||d!==p||Wr.current||To?(typeof h=="function"&&(Ev(e,r,h,n),p=e.memoizedState),(l=To||tw(e,r,l,n,d,p,c)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),s.props=n,s.state=p,s.context=c,n=l):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return kv(t,e,r,n,o,i)}function kv(t,e,r,n,i,o){DR(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&Jb(e,r,!1),no(t,e,o);n=e.stateNode,mM.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=tl(e,t.child,null,o),e.child=tl(e,null,a,o)):Dr(t,e,a,o),e.memoizedState=n.state,i&&Jb(e,r,!0),e.child}function LR(t){var e=t.stateNode;e.pendingContext?Qb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qb(t,e.context,!1),vy(t,e.containerInfo)}function dw(t,e,r,n,i){return el(),fy(i),e.flags|=256,Dr(t,e,r,n),e.child}var Tv={dehydrated:null,treeContext:null,retryLane:0};function Cv(t){return{baseLanes:t,cachePool:null,transitions:null}}function BR(t,e,r){var n=e.pendingProps,i=jt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),At(jt,i&1),t===null)return Sv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,o?(n=e.mode,o=e.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=bh(s,n,0,null),t=Rs(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Cv(r),e.memoizedState=Tv,t):Ry(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gM(t,e,s,n,a,i,r);if(o){o=n.fallback,s=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Vo(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Vo(a,o):(o=Rs(o,s,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,s=t.child.memoizedState,s=s===null?Cv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~r,e.memoizedState=Tv,n}return o=t.child,t=o.sibling,n=Vo(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ry(t,e){return e=bh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rf(t,e,r,n){return n!==null&&fy(n),tl(e,t.child,null,r),t=Ry(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gM(t,e,r,n,i,o,s){if(r)return e.flags&256?(e.flags&=-257,n=Cm(Error(ye(422))),rf(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=bh({mode:"visible",children:n.children},i,0,null),o=Rs(o,i,s,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&tl(e,t.child,null,s),e.child.memoizedState=Cv(s),e.memoizedState=Tv,o);if(!(e.mode&1))return rf(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(ye(419)),n=Cm(o,n,void 0),rf(t,e,s,n)}if(a=(s&t.childLanes)!==0,qr||a){if(n=hr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ro(t,i),Zn(n,t,i,-1))}return Oy(),n=Cm(Error(ye(421))),rf(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TM.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,an=Uo(i.nextSibling),ln=e,$t=!0,Jn=null,t!==null&&(wn[_n++]=Gi,wn[_n++]=Ki,wn[_n++]=As,Gi=t.id,Ki=t.overflow,As=e),e=Ry(e,n.children),e.flags|=4096,e)}function hw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),xv(t.return,e,r)}function Om(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function $R(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Dr(t,e,n.children,r),n=jt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hw(t,r,e);else if(t.tag===19)hw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(At(jt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Od(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Om(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Od(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Om(e,!0,r,null,o);break;case"together":Om(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function no(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ye(153));if(e.child!==null){for(t=e.child,r=Vo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Vo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vM(t,e,r){switch(e.tag){case 3:LR(e),el();break;case 5:fR(e);break;case 1:Gr(e.type)&&Rd(e);break;case 4:vy(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;At(kd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(At(jt,jt.current&1),e.flags|=128,null):r&e.child.childLanes?BR(t,e,r):(At(jt,jt.current&1),t=no(t,e,r),t!==null?t.sibling:null);At(jt,jt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return $R(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(jt,jt.current),n)break;return null;case 22:case 23:return e.lanes=0,IR(t,e,r)}return no(t,e,r)}var FR,Ov,jR,UR;FR=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ov=function(){};jR=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ys(Ri.current);var o=null;switch(r){case"input":i=Zg(t,i),n=Zg(t,n),o=[];break;case"select":i=zt({},i,{value:void 0}),n=zt({},n,{value:void 0}),o=[];break;case"textarea":i=rv(t,i),n=rv(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xd)}iv(r,n);var s;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ic.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var c=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Dt("scroll",t),o||a===c||(o=[])):(o=o||[]).push(l,c))}r&&(o=o||[]).push("style",r);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};UR=function(t,e,r,n){r!==n&&(e.flags|=4)};function $l(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function kr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function yM(t,e,r){var n=e.pendingProps;switch(uy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(e),null;case 1:return Gr(e.type)&&Ed(),kr(e),null;case 3:return n=e.stateNode,rl(),Lt(Wr),Lt(Nr),by(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ef(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(Fv(Jn),Jn=null))),Ov(t,e),kr(e),null;case 5:yy(e);var i=ys(Wc.current);if(r=e.type,t!==null&&e.stateNode!=null)jR(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ye(166));return kr(e),null}if(t=ys(Ri.current),ef(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[_i]=e,n[Hc]=o,t=(e.mode&1)!==0,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(i=0;i<lc.length;i++)Dt(lc[i],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Sb(n,o),Dt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Dt("invalid",n);break;case"textarea":Eb(n,o),Dt("invalid",n)}iv(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Zu(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Zu(n.textContent,a,t),i=["children",""+a]):Ic.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Dt("scroll",n)}switch(r){case"input":Vu(n),xb(n,o,!0);break;case"textarea":Vu(n),Rb(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=xd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=p2(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[_i]=e,t[Hc]=n,FR(t,e,!1,!1),e.stateNode=t;e:{switch(s=ov(r,n),r){case"dialog":Dt("cancel",t),Dt("close",t),i=n;break;case"iframe":case"object":case"embed":Dt("load",t),i=n;break;case"video":case"audio":for(i=0;i<lc.length;i++)Dt(lc[i],t);i=n;break;case"source":Dt("error",t),i=n;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),i=n;break;case"details":Dt("toggle",t),i=n;break;case"input":Sb(t,n),i=Zg(t,n),Dt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=zt({},n,{value:void 0}),Dt("invalid",t);break;case"textarea":Eb(t,n),i=rv(t,n),Dt("invalid",t);break;default:i=n}iv(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?v2(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&m2(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Dc(t,c):typeof c=="number"&&Dc(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ic.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Dt("scroll",t):c!=null&&Q0(t,o,c,s))}switch(r){case"input":Vu(t),xb(t,n,!1);break;case"textarea":Vu(t),Rb(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Jo(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?$a(t,!!n.multiple,o,!1):n.defaultValue!=null&&$a(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kr(e),null;case 6:if(t&&e.stateNode!=null)UR(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ye(166));if(r=ys(Wc.current),ys(Ri.current),ef(e)){if(n=e.stateNode,r=e.memoizedProps,n[_i]=e,(o=n.nodeValue!==r)&&(t=ln,t!==null))switch(t.tag){case 3:Zu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zu(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_i]=e,e.stateNode=n}return kr(e),null;case 13:if(Lt(jt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&an!==null&&e.mode&1&&!(e.flags&128))iR(),el(),e.flags|=98560,o=!1;else if(o=ef(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(ye(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ye(317));o[_i]=e}else el(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kr(e),o=!1}else Jn!==null&&(Fv(Jn),Jn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||jt.current&1?ar===0&&(ar=3):Oy())),e.updateQueue!==null&&(e.flags|=4),kr(e),null);case 4:return rl(),Ov(t,e),t===null&&zc(e.stateNode.containerInfo),kr(e),null;case 10:return py(e.type._context),kr(e),null;case 17:return Gr(e.type)&&Ed(),kr(e),null;case 19:if(Lt(jt),o=e.memoizedState,o===null)return kr(e),null;if(n=(e.flags&128)!==0,s=o.rendering,s===null)if(n)$l(o,!1);else{if(ar!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Od(t),s!==null){for(e.flags|=128,$l(o,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return At(jt,jt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Kt()>il&&(e.flags|=128,n=!0,$l(o,!1),e.lanes=4194304)}else{if(!n)if(t=Od(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),$l(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!$t)return kr(e),null}else 2*Kt()-o.renderingStartTime>il&&r!==1073741824&&(e.flags|=128,n=!0,$l(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(r=o.last,r!==null?r.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Kt(),e.sibling=null,r=jt.current,At(jt,n?r&1|2:r&1),e):(kr(e),null);case 22:case 23:return Cy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?tn&1073741824&&(kr(e),e.subtreeFlags&6&&(e.flags|=8192)):kr(e),null;case 24:return null;case 25:return null}throw Error(ye(156,e.tag))}function bM(t,e){switch(uy(e),e.tag){case 1:return Gr(e.type)&&Ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rl(),Lt(Wr),Lt(Nr),by(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yy(e),null;case 13:if(Lt(jt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ye(340));el()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(jt),null;case 4:return rl(),null;case 10:return py(e.type._context),null;case 22:case 23:return Cy(),null;case 24:return null;default:return null}}var nf=!1,Cr=!1,wM=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Na(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gt(t,e,n)}else r.current=null}function Mv(t,e,r){try{r()}catch(n){Gt(t,e,n)}}var pw=!1;function _M(t,e){if(mv=wd,t=V2(),ly(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,c=-1,l=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(a=s+i),f!==o||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===r&&++l===i&&(a=s),d===o&&++u===n&&(c=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(gv={focusedElem:t,selectionRange:r},wd=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Wn(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(w){Gt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return p=pw,pw=!1,p}function wc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Mv(e,r,o)}i=i.next}while(i!==n)}}function vh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Nv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function zR(t){var e=t.alternate;e!==null&&(t.alternate=null,zR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_i],delete e[Hc],delete e[bv],delete e[nM],delete e[iM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qR(t){return t.tag===5||t.tag===3||t.tag===4}function mw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xd));else if(n!==4&&(t=t.child,t!==null))for(Iv(t,e,r),t=t.sibling;t!==null;)Iv(t,e,r),t=t.sibling}function Dv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Dv(t,e,r),t=t.sibling;t!==null;)Dv(t,e,r),t=t.sibling}var vr=null,Kn=!1;function bo(t,e,r){for(r=r.child;r!==null;)HR(t,e,r),r=r.sibling}function HR(t,e,r){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(ch,r)}catch{}switch(r.tag){case 5:Cr||Na(r,e);case 6:var n=vr,i=Kn;vr=null,bo(t,e,r),vr=n,Kn=i,vr!==null&&(Kn?(t=vr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):vr.removeChild(r.stateNode));break;case 18:vr!==null&&(Kn?(t=vr,r=r.stateNode,t.nodeType===8?Em(t.parentNode,r):t.nodeType===1&&Em(t,r),Fc(t)):Em(vr,r.stateNode));break;case 4:n=vr,i=Kn,vr=r.stateNode.containerInfo,Kn=!0,bo(t,e,r),vr=n,Kn=i;break;case 0:case 11:case 14:case 15:if(!Cr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Mv(r,e,s),i=i.next}while(i!==n)}bo(t,e,r);break;case 1:if(!Cr&&(Na(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Gt(r,e,a)}bo(t,e,r);break;case 21:bo(t,e,r);break;case 22:r.mode&1?(Cr=(n=Cr)||r.memoizedState!==null,bo(t,e,r),Cr=n):bo(t,e,r);break;default:bo(t,e,r)}}function gw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new wM),e.forEach(function(n){var i=CM.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Bn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:vr=a.stateNode,Kn=!1;break e;case 3:vr=a.stateNode.containerInfo,Kn=!0;break e;case 4:vr=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(vr===null)throw Error(ye(160));HR(o,s,i),vr=null,Kn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){Gt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VR(e,t),e=e.sibling}function VR(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),oi(t),n&4){try{wc(3,t,t.return),vh(3,t)}catch(m){Gt(t,t.return,m)}try{wc(5,t,t.return)}catch(m){Gt(t,t.return,m)}}break;case 1:Bn(e,t),oi(t),n&512&&r!==null&&Na(r,r.return);break;case 5:if(Bn(e,t),oi(t),n&512&&r!==null&&Na(r,r.return),t.flags&32){var i=t.stateNode;try{Dc(i,"")}catch(m){Gt(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=r!==null?r.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&d2(i,o),ov(a,s);var l=ov(a,o);for(s=0;s<c.length;s+=2){var u=c[s],f=c[s+1];u==="style"?v2(i,f):u==="dangerouslySetInnerHTML"?m2(i,f):u==="children"?Dc(i,f):Q0(i,u,f,l)}switch(a){case"input":ev(i,o);break;case"textarea":h2(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?$a(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?$a(i,!!o.multiple,o.defaultValue,!0):$a(i,!!o.multiple,o.multiple?[]:"",!1))}i[Hc]=o}catch(m){Gt(t,t.return,m)}}break;case 6:if(Bn(e,t),oi(t),n&4){if(t.stateNode===null)throw Error(ye(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Gt(t,t.return,m)}}break;case 3:if(Bn(e,t),oi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fc(e.containerInfo)}catch(m){Gt(t,t.return,m)}break;case 4:Bn(e,t),oi(t);break;case 13:Bn(e,t),oi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ky=Kt())),n&4&&gw(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Cr=(l=Cr)||u,Bn(e,t),Cr=l):Bn(e,t),oi(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(Pe=t,u=t.child;u!==null;){for(f=Pe=u;Pe!==null;){switch(d=Pe,h=d.child,d.tag){case 0:case 11:case 14:case 15:wc(4,d,d.return);break;case 1:Na(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Gt(n,r,m)}}break;case 5:Na(d,d.return);break;case 22:if(d.memoizedState!==null){yw(f);continue}}h!==null?(h.return=d,Pe=h):yw(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=g2("display",s))}catch(m){Gt(t,t.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Gt(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bn(e,t),oi(t),n&4&&gw(t);break;case 21:break;default:Bn(e,t),oi(t)}}function oi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(qR(r)){var n=r;break e}r=r.return}throw Error(ye(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Dc(i,""),n.flags&=-33);var o=mw(t);Dv(t,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=mw(t);Iv(t,a,s);break;default:throw Error(ye(161))}}catch(c){Gt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SM(t,e,r){Pe=t,WR(t)}function WR(t,e,r){for(var n=(t.mode&1)!==0;Pe!==null;){var i=Pe,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||nf;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Cr;a=nf;var l=Cr;if(nf=s,(Cr=c)&&!l)for(Pe=i;Pe!==null;)s=Pe,c=s.child,s.tag===22&&s.memoizedState!==null?bw(i):c!==null?(c.return=s,Pe=c):bw(i);for(;o!==null;)Pe=o,WR(o),o=o.sibling;Pe=i,nf=a,Cr=l}vw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Pe=o):vw(t)}}function vw(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cr||vh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Cr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Wn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&ew(e,o,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ew(e,s,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Fc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Cr||e.flags&512&&Nv(e)}catch(d){Gt(e,e.return,d)}}if(e===t){Pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function yw(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function bw(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{vh(4,e)}catch(c){Gt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Gt(e,i,c)}}var o=e.return;try{Nv(e)}catch(c){Gt(e,o,c)}break;case 5:var s=e.return;try{Nv(e)}catch(c){Gt(e,s,c)}}}catch(c){Gt(e,e.return,c)}if(e===t){Pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Pe=a;break}Pe=e.return}}var xM=Math.ceil,Id=co.ReactCurrentDispatcher,Py=co.ReactCurrentOwner,xn=co.ReactCurrentBatchConfig,it=0,hr=null,Zt=null,xr=0,tn=0,Ia=ts(0),ar=0,Jc=null,Ts=0,yh=0,Ay=0,_c=null,zr=null,ky=0,il=1/0,Ui=null,Dd=!1,Lv=null,qo=null,of=!1,Io=null,Ld=0,Sc=0,Bv=null,Hf=-1,Vf=0;function Br(){return it&6?Kt():Hf!==-1?Hf:Hf=Kt()}function Ho(t){return t.mode&1?it&2&&xr!==0?xr&-xr:sM.transition!==null?(Vf===0&&(Vf=T2()),Vf):(t=yt,t!==0||(t=window.event,t=t===void 0?16:L2(t.type)),t):1}function Zn(t,e,r,n){if(50<Sc)throw Sc=0,Bv=null,Error(ye(185));pu(t,r,n),(!(it&2)||t!==hr)&&(t===hr&&(!(it&2)&&(yh|=r),ar===4&&Mo(t,xr)),Kr(t,n),r===1&&it===0&&!(e.mode&1)&&(il=Kt()+500,ph&&rs()))}function Kr(t,e){var r=t.callbackNode;sO(t,e);var n=bd(t,t===hr?xr:0);if(n===0)r!==null&&kb(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&kb(r),e===1)t.tag===0?oM(ww.bind(null,t)):tR(ww.bind(null,t)),tM(function(){!(it&6)&&rs()}),r=null;else{switch(C2(n)){case 1:r=ey;break;case 4:r=A2;break;case 16:r=yd;break;case 536870912:r=k2;break;default:r=yd}r=eP(r,GR.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function GR(t,e){if(Hf=-1,Vf=0,it&6)throw Error(ye(327));var r=t.callbackNode;if(qa()&&t.callbackNode!==r)return null;var n=bd(t,t===hr?xr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bd(t,n);else{e=n;var i=it;it|=2;var o=QR();(hr!==t||xr!==e)&&(Ui=null,il=Kt()+500,Es(t,e));do try{PM();break}catch(a){KR(t,a)}while(1);hy(),Id.current=o,it=i,Zt!==null?e=0:(hr=null,xr=0,e=ar)}if(e!==0){if(e===2&&(i=uv(t),i!==0&&(n=i,e=$v(t,i))),e===1)throw r=Jc,Es(t,0),Mo(t,n),Kr(t,Kt()),r;if(e===6)Mo(t,n);else{if(i=t.current.alternate,!(n&30)&&!EM(i)&&(e=Bd(t,n),e===2&&(o=uv(t),o!==0&&(n=o,e=$v(t,o))),e===1))throw r=Jc,Es(t,0),Mo(t,n),Kr(t,Kt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ye(345));case 2:fs(t,zr,Ui);break;case 3:if(Mo(t,n),(n&130023424)===n&&(e=ky+500-Kt(),10<e)){if(bd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Br(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yv(fs.bind(null,t,zr,Ui),e);break}fs(t,zr,Ui);break;case 4:if(Mo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Xn(n);o=1<<s,s=e[s],s>i&&(i=s),n&=~o}if(n=i,n=Kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xM(n/1960))-n,10<n){t.timeoutHandle=yv(fs.bind(null,t,zr,Ui),n);break}fs(t,zr,Ui);break;case 5:fs(t,zr,Ui);break;default:throw Error(ye(329))}}}return Kr(t,Kt()),t.callbackNode===r?GR.bind(null,t):null}function $v(t,e){var r=_c;return t.current.memoizedState.isDehydrated&&(Es(t,e).flags|=256),t=Bd(t,e),t!==2&&(e=zr,zr=r,e!==null&&Fv(e)),t}function Fv(t){zr===null?zr=t:zr.push.apply(zr,t)}function EM(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!ei(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mo(t,e){for(e&=~Ay,e&=~yh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xn(e),n=1<<r;t[r]=-1,e&=~n}}function ww(t){if(it&6)throw Error(ye(327));qa();var e=bd(t,0);if(!(e&1))return Kr(t,Kt()),null;var r=Bd(t,e);if(t.tag!==0&&r===2){var n=uv(t);n!==0&&(e=n,r=$v(t,n))}if(r===1)throw r=Jc,Es(t,0),Mo(t,e),Kr(t,Kt()),r;if(r===6)throw Error(ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fs(t,zr,Ui),Kr(t,Kt()),null}function Ty(t,e){var r=it;it|=1;try{return t(e)}finally{it=r,it===0&&(il=Kt()+500,ph&&rs())}}function Cs(t){Io!==null&&Io.tag===0&&!(it&6)&&qa();var e=it;it|=1;var r=xn.transition,n=yt;try{if(xn.transition=null,yt=1,t)return t()}finally{yt=n,xn.transition=r,it=e,!(it&6)&&rs()}}function Cy(){tn=Ia.current,Lt(Ia)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,eM(r)),Zt!==null)for(r=Zt.return;r!==null;){var n=r;switch(uy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ed();break;case 3:rl(),Lt(Wr),Lt(Nr),by();break;case 5:yy(n);break;case 4:rl();break;case 13:Lt(jt);break;case 19:Lt(jt);break;case 10:py(n.type._context);break;case 22:case 23:Cy()}r=r.return}if(hr=t,Zt=t=Vo(t.current,null),xr=tn=e,ar=0,Jc=null,Ay=yh=Ts=0,zr=_c=null,vs!==null){for(e=0;e<vs.length;e++)if(r=vs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}vs=null}return t}function KR(t,e){do{var r=Zt;try{if(hy(),Uf.current=Nd,Md){for(var n=Ut.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Md=!1}if(ks=0,fr=sr=Ut=null,bc=!1,Gc=0,Py.current=null,r===null||r.return===null){ar=1,Jc=e,Zt=null;break}e:{var o=t,s=r.return,a=r,c=e;if(e=xr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=aw(s);if(h!==null){h.flags&=-257,lw(h,s,a,o,e),h.mode&1&&sw(o,l,e),e=h,c=l;var p=e.updateQueue;if(p===null){var m=new Set;m.add(c),e.updateQueue=m}else p.add(c);break e}else{if(!(e&1)){sw(o,l,e),Oy();break e}c=Error(ye(426))}}else if($t&&a.mode&1){var y=aw(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),lw(y,s,a,o,e),fy(nl(c,a));break e}}o=c=nl(c,a),ar!==4&&(ar=2),_c===null?_c=[o]:_c.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=OR(o,c,e);Zb(o,g);break e;case 1:a=c;var v=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qo===null||!qo.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=MR(o,a,e);Zb(o,w);break e}}o=o.return}while(o!==null)}YR(r)}catch(x){e=x,Zt===r&&r!==null&&(Zt=r=r.return);continue}break}while(1)}function QR(){var t=Id.current;return Id.current=Nd,t===null?Nd:t}function Oy(){(ar===0||ar===3||ar===2)&&(ar=4),hr===null||!(Ts&268435455)&&!(yh&268435455)||Mo(hr,xr)}function Bd(t,e){var r=it;it|=2;var n=QR();(hr!==t||xr!==e)&&(Ui=null,Es(t,e));do try{RM();break}catch(i){KR(t,i)}while(1);if(hy(),it=r,Id.current=n,Zt!==null)throw Error(ye(261));return hr=null,xr=0,ar}function RM(){for(;Zt!==null;)JR(Zt)}function PM(){for(;Zt!==null&&!YC();)JR(Zt)}function JR(t){var e=ZR(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?YR(t):Zt=e,Py.current=null}function YR(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=bM(r,e),r!==null){r.flags&=32767,Zt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ar=6,Zt=null;return}}else if(r=yM(r,e,tn),r!==null){Zt=r;return}if(e=e.sibling,e!==null){Zt=e;return}Zt=e=t}while(e!==null);ar===0&&(ar=5)}function fs(t,e,r){var n=yt,i=xn.transition;try{xn.transition=null,yt=1,AM(t,e,r,n)}finally{xn.transition=i,yt=n}return null}function AM(t,e,r,n){do qa();while(Io!==null);if(it&6)throw Error(ye(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ye(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(aO(t,o),t===hr&&(Zt=hr=null,xr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||of||(of=!0,eP(yd,function(){return qa(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=xn.transition,xn.transition=null;var s=yt;yt=1;var a=it;it|=4,Py.current=null,_M(t,r),VR(r,t),GO(gv),wd=!!mv,gv=mv=null,t.current=r,SM(r),XC(),it=a,yt=s,xn.transition=o}else t.current=r;if(of&&(of=!1,Io=t,Ld=i),o=t.pendingLanes,o===0&&(qo=null),tO(r.stateNode),Kr(t,Kt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Dd)throw Dd=!1,t=Lv,Lv=null,t;return Ld&1&&t.tag!==0&&qa(),o=t.pendingLanes,o&1?t===Bv?Sc++:(Sc=0,Bv=t):Sc=0,rs(),null}function qa(){if(Io!==null){var t=C2(Ld),e=xn.transition,r=yt;try{if(xn.transition=null,yt=16>t?16:t,Io===null)var n=!1;else{if(t=Io,Io=null,Ld=0,it&6)throw Error(ye(331));var i=it;for(it|=4,Pe=t.current;Pe!==null;){var o=Pe,s=o.child;if(Pe.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(Pe=l;Pe!==null;){var u=Pe;switch(u.tag){case 0:case 11:case 15:wc(8,u,o)}var f=u.child;if(f!==null)f.return=u,Pe=f;else for(;Pe!==null;){u=Pe;var d=u.sibling,h=u.return;if(zR(u),u===l){Pe=null;break}if(d!==null){d.return=h,Pe=d;break}Pe=h}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Pe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Pe=s;else e:for(;Pe!==null;){if(o=Pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wc(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Pe=g;break e}Pe=o.return}}var v=t.current;for(Pe=v;Pe!==null;){s=Pe;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,Pe=S;else e:for(s=v;Pe!==null;){if(a=Pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vh(9,a)}}catch(x){Gt(a,a.return,x)}if(a===s){Pe=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Pe=w;break e}Pe=a.return}}if(it=i,rs(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(ch,t)}catch{}n=!0}return n}finally{yt=r,xn.transition=e}}return!1}function _w(t,e,r){e=nl(r,e),e=OR(t,e,1),t=zo(t,e,1),e=Br(),t!==null&&(pu(t,1,e),Kr(t,e))}function Gt(t,e,r){if(t.tag===3)_w(t,t,r);else for(;e!==null;){if(e.tag===3){_w(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qo===null||!qo.has(n))){t=nl(r,t),t=MR(e,t,1),e=zo(e,t,1),t=Br(),e!==null&&(pu(e,1,t),Kr(e,t));break}}e=e.return}}function kM(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Br(),t.pingedLanes|=t.suspendedLanes&r,hr===t&&(xr&r)===r&&(ar===4||ar===3&&(xr&130023424)===xr&&500>Kt()-ky?Es(t,0):Ay|=r),Kr(t,e)}function XR(t,e){e===0&&(t.mode&1?(e=Ku,Ku<<=1,!(Ku&130023424)&&(Ku=4194304)):e=1);var r=Br();t=ro(t,e),t!==null&&(pu(t,e,r),Kr(t,r))}function TM(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),XR(t,r)}function CM(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ye(314))}n!==null&&n.delete(e),XR(t,r)}var ZR;ZR=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wr.current)qr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return qr=!1,vM(t,e,r);qr=!!(t.flags&131072)}else qr=!1,$t&&e.flags&1048576&&rR(e,Ad,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qf(t,e),t=e.pendingProps;var i=Za(e,Nr.current);za(e,r),i=_y(null,e,n,t,i,r);var o=Sy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gr(n)?(o=!0,Rd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gy(e),i.updater=mh,e.stateNode=i,i._reactInternals=e,Rv(e,n,t,r),e=kv(null,e,n,!0,o,r)):(e.tag=0,$t&&o&&cy(e),Dr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(qf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=MM(n),t=Wn(n,t),i){case 0:e=Av(null,e,n,t,r);break e;case 1:e=fw(null,e,n,t,r);break e;case 11:e=cw(null,e,n,t,r);break e;case 14:e=uw(null,e,n,Wn(n.type,t),r);break e}throw Error(ye(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wn(n,i),Av(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wn(n,i),fw(t,e,n,i,r);case 3:e:{if(LR(e),t===null)throw Error(ye(387));n=e.pendingProps,o=e.memoizedState,i=o.element,sR(t,e),Cd(e,n,null,r);var s=e.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=nl(Error(ye(423)),e),e=dw(t,e,n,r,i);break e}else if(n!==i){i=nl(Error(ye(424)),e),e=dw(t,e,n,r,i);break e}else for(an=Uo(e.stateNode.containerInfo.firstChild),ln=e,$t=!0,Jn=null,r=uR(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(el(),n===i){e=no(t,e,r);break e}Dr(t,e,n,r)}e=e.child}return e;case 5:return fR(e),t===null&&Sv(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,vv(n,i)?s=null:o!==null&&vv(n,o)&&(e.flags|=32),DR(t,e),Dr(t,e,s,r),e.child;case 6:return t===null&&Sv(e),null;case 13:return BR(t,e,r);case 4:return vy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=tl(e,null,n,r):Dr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wn(n,i),cw(t,e,n,i,r);case 7:return Dr(t,e,e.pendingProps,r),e.child;case 8:return Dr(t,e,e.pendingProps.children,r),e.child;case 12:return Dr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,At(kd,n._currentValue),n._currentValue=s,o!==null)if(ei(o.value,s)){if(o.children===i.children&&!Wr.current){e=no(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Ji(-1,r&-r),c.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),xv(o.return,r,e),a.lanes|=r;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ye(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),xv(s,r,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Dr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,za(e,r),i=En(i),n=n(i),e.flags|=1,Dr(t,e,n,r),e.child;case 14:return n=e.type,i=Wn(n,e.pendingProps),i=Wn(n.type,i),uw(t,e,n,i,r);case 15:return NR(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wn(n,i),qf(t,e),e.tag=1,Gr(n)?(t=!0,Rd(e)):t=!1,za(e,r),lR(e,n,i),Rv(e,n,i,r),kv(null,e,n,!0,t,r);case 19:return $R(t,e,r);case 22:return IR(t,e,r)}throw Error(ye(156,e.tag))};function eP(t,e){return P2(t,e)}function OM(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,r,n){return new OM(t,e,r,n)}function My(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MM(t){if(typeof t=="function")return My(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y0)return 11;if(t===X0)return 14}return 2}function Vo(t,e){var r=t.alternate;return r===null?(r=Sn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Wf(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")My(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ea:return Rs(r.children,i,o,e);case J0:s=8,i|=8;break;case Qg:return t=Sn(12,r,e,i|2),t.elementType=Qg,t.lanes=o,t;case Jg:return t=Sn(13,r,e,i),t.elementType=Jg,t.lanes=o,t;case Yg:return t=Sn(19,r,e,i),t.elementType=Yg,t.lanes=o,t;case c2:return bh(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case a2:s=10;break e;case l2:s=9;break e;case Y0:s=11;break e;case X0:s=14;break e;case ko:s=16,n=null;break e}throw Error(ye(130,t==null?t:typeof t,""))}return e=Sn(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Rs(t,e,r,n){return t=Sn(7,t,n,e),t.lanes=r,t}function bh(t,e,r,n){return t=Sn(22,t,n,e),t.elementType=c2,t.lanes=r,t.stateNode={isHidden:!1},t}function Mm(t,e,r){return t=Sn(6,t,null,e),t.lanes=r,t}function Nm(t,e,r){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NM(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hm(0),this.expirationTimes=hm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ny(t,e,r,n,i,o,s,a,c){return t=new NM(t,e,r,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Sn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gy(o),t}function IM(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function tP(t){if(!t)return Yo;t=t._reactInternals;e:{if(Us(t)!==t||t.tag!==1)throw Error(ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ye(171))}if(t.tag===1){var r=t.type;if(Gr(r))return eR(t,r,e)}return e}function rP(t,e,r,n,i,o,s,a,c){return t=Ny(r,n,!0,t,i,o,s,a,c),t.context=tP(null),r=t.current,n=Br(),i=Ho(r),o=Ji(n,i),o.callback=e??null,zo(r,o,i),t.current.lanes=i,pu(t,i,n),Kr(t,n),t}function wh(t,e,r,n){var i=e.current,o=Br(),s=Ho(i);return r=tP(r),e.context===null?e.context=r:e.pendingContext=r,e=Ji(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=zo(i,e,s),t!==null&&(Zn(t,i,s,o),jf(t,i,s)),s}function $d(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Iy(t,e){Sw(t,e),(t=t.alternate)&&Sw(t,e)}function DM(){return null}var nP=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dy(t){this._internalRoot=t}_h.prototype.render=Dy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ye(409));wh(t,e,null,null)};_h.prototype.unmount=Dy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cs(function(){wh(null,t,null,null)}),e[to]=null}};function _h(t){this._internalRoot=t}_h.prototype.unstable_scheduleHydration=function(t){if(t){var e=N2();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Oo.length&&e!==0&&e<Oo[r].priority;r++);Oo.splice(r,0,t),r===0&&D2(t)}};function Ly(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xw(){}function LM(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var l=$d(s);o.call(l)}}var s=rP(e,n,t,0,null,!1,!1,"",xw);return t._reactRootContainer=s,t[to]=s.current,zc(t.nodeType===8?t.parentNode:t),Cs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=$d(c);a.call(l)}}var c=Ny(t,0,!1,null,null,!1,!1,"",xw);return t._reactRootContainer=c,t[to]=c.current,zc(t.nodeType===8?t.parentNode:t),Cs(function(){wh(e,c,r,n)}),c}function xh(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=$d(s);a.call(c)}}wh(e,s,t,i)}else s=LM(r,e,t,i,n);return $d(s)}O2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ac(e.pendingLanes);r!==0&&(ty(e,r|1),Kr(e,Kt()),!(it&6)&&(il=Kt()+500,rs()))}break;case 13:Cs(function(){var n=ro(t,1);if(n!==null){var i=Br();Zn(n,t,1,i)}}),Iy(t,1)}};ry=function(t){if(t.tag===13){var e=ro(t,134217728);if(e!==null){var r=Br();Zn(e,t,134217728,r)}Iy(t,134217728)}};M2=function(t){if(t.tag===13){var e=Ho(t),r=ro(t,e);if(r!==null){var n=Br();Zn(r,t,e,n)}Iy(t,e)}};N2=function(){return yt};I2=function(t,e){var r=yt;try{return yt=t,e()}finally{yt=r}};av=function(t,e,r){switch(e){case"input":if(ev(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=hh(n);if(!i)throw Error(ye(90));f2(n),ev(n,i)}}}break;case"textarea":h2(t,r);break;case"select":e=r.value,e!=null&&$a(t,!!r.multiple,e,!1)}};w2=Ty;_2=Cs;var BM={usingClientEntryPoint:!1,Events:[gu,ka,hh,y2,b2,Ty]},Fl={findFiberByHostInstance:gs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$M={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:co.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=E2(t),t===null?null:t.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||DM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{ch=sf.inject($M),Ei=sf}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BM;fn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ly(e))throw Error(ye(200));return IM(t,e,null,r)};fn.createRoot=function(t,e){if(!Ly(t))throw Error(ye(299));var r=!1,n="",i=nP;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ny(t,1,!1,null,null,r,!1,n,i),t[to]=e.current,zc(t.nodeType===8?t.parentNode:t),new Dy(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ye(188)):(t=Object.keys(t).join(","),Error(ye(268,t)));return t=E2(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return Cs(t)};fn.hydrate=function(t,e,r){if(!Sh(e))throw Error(ye(200));return xh(null,t,e,!0,r)};fn.hydrateRoot=function(t,e,r){if(!Ly(t))throw Error(ye(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=nP;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=rP(e,null,t,1,r??null,i,!1,o,s),t[to]=e.current,zc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new _h(e)};fn.render=function(t,e,r){if(!Sh(e))throw Error(ye(200));return xh(null,t,e,!1,r)};fn.unmountComponentAtNode=function(t){if(!Sh(t))throw Error(ye(40));return t._reactRootContainer?(Cs(function(){xh(null,null,t,!1,function(){t._reactRootContainer=null,t[to]=null})}),!0):!1};fn.unstable_batchedUpdates=Ty;fn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Sh(r))throw Error(ye(200));if(t==null||t._reactInternals===void 0)throw Error(ye(38));return xh(t,e,r,!1,n)};fn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=fn})(DC);var Ew=Wg;Vg.createRoot=Ew.createRoot,Vg.hydrateRoot=Ew.hydrateRoot;/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ct(){return ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ct.apply(this,arguments)}var Jt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jt||(Jt={}));const Rw="popstate";function FM(t){t===void 0&&(t={});function e(n,i){let{pathname:o,search:s,hash:a}=n.location;return Yc("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Os(i)}return UM(e,r,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jM(){return Math.random().toString(36).substr(2,8)}function Pw(t,e){return{usr:t.state,key:t.key,idx:e}}function Yc(t,e,r,n){return r===void 0&&(r=null),ct({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?uo(e):e,{state:r,key:e&&e.key||n||jM()})}function Os(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function uo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function UM(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a=Jt.Pop,c=null,l=u();l==null&&(l=0,s.replaceState(ct({},s.state,{idx:l}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=Jt.Pop;let y=u(),g=y==null?null:y-l;l=y,c&&c({action:a,location:m.location,delta:g})}function d(y,g){a=Jt.Push;let v=Yc(m.location,y,g);r&&r(v,y),l=u()+1;let S=Pw(v,l),w=m.createHref(v);try{s.pushState(S,"",w)}catch{i.location.assign(w)}o&&c&&c({action:a,location:m.location,delta:1})}function h(y,g){a=Jt.Replace;let v=Yc(m.location,y,g);r&&r(v,y),l=u();let S=Pw(v,l),w=m.createHref(v);s.replaceState(S,"",w),o&&c&&c({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:Os(y);return je(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return t(i,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Rw,f),c=y,()=>{i.removeEventListener(Rw,f),c=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return s.go(y)}};return m}var wr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wr||(wr={}));function zM(t){return t.index===!0}function iP(t,e,r){return e===void 0&&(e=[]),r===void 0&&(r=new Set),t.map((n,i)=>{let o=[...e,i],s=typeof n.id=="string"?n.id:o.join("-");return je(n.index!==!0||!n.children,"Cannot specify children on an index route"),je(!r.has(s),'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),r.add(s),zM(n)?ct({},n,{id:s}):ct({},n,{id:s,children:n.children?iP(n.children,o,r):void 0})})}function cc(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?uo(e):e,i=aP(n.pathname||"/",r);if(i==null)return null;let o=oP(t);qM(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=XM(o[a],t3(i));return s}function oP(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,s,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(je(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let l=Wo([n,c.relativePath]),u=r.concat(c);o.children&&o.children.length>0&&(je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),oP(o.children,e,u,l)),!(o.path==null&&!o.index)&&e.push({path:l,score:JM(l,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let c of sP(o.path))i(o,s,c)}),e}function sP(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=sP(n.join("/")),a=[];return a.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&a.push(...s),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function qM(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:YM(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const HM=/^:\w+$/,VM=3,WM=2,GM=1,KM=10,QM=-2,Aw=t=>t==="*";function JM(t,e){let r=t.split("/"),n=r.length;return r.some(Aw)&&(n+=QM),e&&(n+=WM),r.filter(i=>!Aw(i)).reduce((i,o)=>i+(HM.test(o)?VM:o===""?GM:KM),n)}function YM(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function XM(t,e){let{routesMeta:r}=t,n={},i="/",o=[];for(let s=0;s<r.length;++s){let a=r[s],c=s===r.length-1,l=i==="/"?e:e.slice(i.length)||"/",u=ZM({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},l);if(!u)return null;Object.assign(n,u.params);let f=a.route;o.push({params:n,pathname:Wo([i,u.pathname]),pathnameBase:o3(Wo([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=Wo([i,u.pathnameBase]))}return o}function ZM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=e3(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((l,u,f)=>{if(u==="*"){let d=a[f]||"";s=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return l[u]=r3(a[f]||"",u),l},{}),pathname:o,pathnameBase:s,pattern:t}}function e3(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Xc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(n.push(a),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function t3(t){try{return decodeURI(t)}catch(e){return Xc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function r3(t,e){try{return decodeURIComponent(t)}catch(r){return Xc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function aP(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Xc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n3(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?uo(t):t;return{pathname:r?r.startsWith("/")?r:i3(r,e):e,search:s3(n),hash:a3(i)}}function i3(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Im(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function By(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function lP(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=uo(t):(i=ct({},t),je(!i.pathname||!i.pathname.includes("?"),Im("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),Im("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),Im("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(n||s==null)a=r;else{let f=e.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let c=n3(i,a),l=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const Wo=t=>t.join("/").replace(/\/\/+/g,"/"),o3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),s3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class kw extends Error{}class l3{constructor(e,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],je(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((o,s)=>n=s),this.controller=new AbortController;let i=()=>n(new kw("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((o,s)=>{let[a,c]=s;return Object.assign(o,{[a]:this.trackPromise(a,c)})},{}),this.done&&this.unlistenAbortSignal(),this.init=r}trackPromise(e,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let n=Promise.race([r,this.abortPromise]).then(i=>this.onSettle(n,e,null,i),i=>this.onSettle(n,e,i));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,r,n,i){return this.controller.signal.aborted&&n instanceof kw?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n)):(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(e,"_error",{get:()=>n}),this.emit(!1,r),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,r),i))}emit(e,r){this.subscribers.forEach(n=>n(e,r))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(e){let r=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),r=await new Promise(i=>{this.subscribe(o=>{e.removeEventListener("abort",n),(o||this.done)&&i(o)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return je(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,r)=>{let[n,i]=r;return Object.assign(e,{[n]:u3(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function c3(t){return t instanceof Promise&&t._tracked===!0}function u3(t){if(!c3(t))return t;if(t._error)throw t._error;return t._data}class $y{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function cP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uP=["post","put","patch","delete"],f3=new Set(uP),d3=["get",...uP],h3=new Set(d3),p3=new Set([301,302,303,307,308]),m3=new Set([307,308]),Dm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},g3={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Tw={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v3=!fP;function y3(t){je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=iP(t.routes),r=null,n=new Set,i=null,o=null,s=null,a=t.hydrationData!=null,c=cc(e,t.history.location,t.basename),l=null;if(c==null){let Q=Ao(404,{pathname:t.history.location.pathname}),{matches:te,route:ne}=Dw(e);c=te,l={[ne.id]:Q}}let u=!c.some(Q=>Q.route.loader)||t.hydrationData!=null,f,d={historyAction:t.history.action,location:t.history.location,matches:c,initialized:u,navigation:Dm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||l,fetchers:new Map,blockers:new Map},h=Jt.Pop,p=!1,m,y=!1,g=!1,v=[],S=[],w=new Map,x=0,M=-1,k=new Map,N=new Set,U=new Map,D=new Map,O=null,L=new Map,A=!1;function b(){return r=t.history.listen(Q=>{let{action:te,location:ne,delta:re}=Q;if(A){A=!1;return}Xc(O!=null&&re===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=se({currentLocation:d.location,nextLocation:ne,historyAction:te});if(J&&re!=null){A=!0,t.history.go(re*-1),ie(J,{state:"blocked",location:ne,proceed(){ie(J,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),t.history.go(re)},reset(){ee(J),F({blockers:new Map(f.state.blockers)})}});return}return R(te,ne)}),d.initialized||R(Jt.Pop,d.location),f}function E(){r&&r(),n.clear(),m&&m.abort(),d.fetchers.forEach((Q,te)=>Z(te)),d.blockers.forEach((Q,te)=>ee(te))}function I(Q){return n.add(Q),()=>n.delete(Q)}function F(Q){d=ct({},d,Q),n.forEach(te=>te(d))}function $(Q,te){var ne,re;let J=d.actionData!=null&&d.navigation.formMethod!=null&&zi(d.navigation.formMethod)&&d.navigation.state==="loading"&&((ne=Q.state)==null?void 0:ne._isRedirect)!==!0,ae;te.actionData?Object.keys(te.actionData).length>0?ae=te.actionData:ae=null:J?ae=d.actionData:ae=null;let me=te.loaderData?Iw(d.loaderData,te.loaderData,te.matches||[],te.errors):d.loaderData;for(let[we]of L)ee(we);let xe=p===!0||d.navigation.formMethod!=null&&zi(d.navigation.formMethod)&&((re=Q.state)==null?void 0:re._isRedirect)!==!0;F(ct({},te,{actionData:ae,loaderData:me,historyAction:h,location:Q,initialized:!0,navigation:Dm,revalidation:"idle",restoreScrollPosition:ce(Q,te.matches||d.matches),preventScrollReset:xe,blockers:new Map(d.blockers)})),y||h===Jt.Pop||(h===Jt.Push?t.history.push(Q,Q.state):h===Jt.Replace&&t.history.replace(Q,Q.state)),h=Jt.Pop,p=!1,y=!1,g=!1,v=[],S=[]}async function B(Q,te){if(typeof Q=="number"){t.history.go(Q);return}let{path:ne,submission:re,error:J}=Cw(Q,te),ae=d.location,me=Yc(d.location,ne,te&&te.state);me=ct({},me,t.history.encodeLocation(me));let xe=te&&te.replace!=null?te.replace:void 0,we=Jt.Push;xe===!0?we=Jt.Replace:xe===!1||re!=null&&zi(re.formMethod)&&re.formAction===d.location.pathname+d.location.search&&(we=Jt.Replace);let ut=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,Re=se({currentLocation:ae,nextLocation:me,historyAction:we});if(Re){ie(Re,{state:"blocked",location:me,proceed(){ie(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),B(Q,te)},reset(){ee(Re),F({blockers:new Map(d.blockers)})}});return}return await R(we,me,{submission:re,pendingError:J,preventScrollReset:ut,replace:te&&te.replace})}function j(){if(K(),F({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){R(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}R(h||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation})}}async function R(Q,te,ne){m&&m.abort(),m=null,h=Q,y=(ne&&ne.startUninterruptedRevalidation)===!0,_e(d.location,d.matches),p=(ne&&ne.preventScrollReset)===!0;let re=ne&&ne.overrideNavigation,J=cc(e,te,t.basename);if(!J){let Ce=Ao(404,{pathname:te.pathname}),{matches:nr,route:He}=Dw(e);he(),$(te,{matches:nr,loaderData:{},errors:{[He.id]:Ce}});return}if(x3(d.location,te)&&!(ne&&ne.submission&&zi(ne.submission.formMethod))){$(te,{matches:J});return}m=new AbortController;let ae=Ul(t.history,te,m.signal,ne&&ne.submission),me,xe;if(ne&&ne.pendingError)xe={[Da(J).route.id]:ne.pendingError};else if(ne&&ne.submission&&zi(ne.submission.formMethod)){let Ce=await _(ae,te,ne.submission,J,{replace:ne.replace});if(Ce.shortCircuited)return;me=Ce.pendingActionData,xe=Ce.pendingActionError,re=ct({state:"loading",location:te},ne.submission),ae=new Request(ae.url,{signal:ae.signal})}let{shortCircuited:we,loaderData:ut,errors:Re}=await C(ae,te,J,re,ne&&ne.submission,ne&&ne.replace,me,xe);we||(m=null,$(te,ct({matches:J},me?{actionData:me}:{},{loaderData:ut,errors:Re})))}async function _(Q,te,ne,re,J){K();let ae=ct({state:"submitting",location:te},ne);F({navigation:ae});let me,xe=Fw(re,te);if(!xe.route.action)me={type:wr.error,error:Ao(405,{method:Q.method,pathname:te.pathname,routeId:xe.route.id})};else if(me=await jl("action",Q,xe,re,f.basename),Q.signal.aborted)return{shortCircuited:!0};if(Ha(me)){let we;return J&&J.replace!=null?we=J.replace:we=me.location===d.location.pathname+d.location.search,await q(d,me,{submission:ne,replace:we}),{shortCircuited:!0}}if(xc(me)){let we=Da(re,xe.route.id);return(J&&J.replace)!==!0&&(h=Jt.Push),{pendingActionData:{},pendingActionError:{[we.route.id]:me.error}}}if(bs(me))throw Ao(400,{type:"defer-action"});return{pendingActionData:{[xe.route.id]:me.data}}}async function C(Q,te,ne,re,J,ae,me,xe){let we=re;we||(we=ct({state:"loading",location:te,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},J));let ut=J||(we.formMethod&&we.formAction&&we.formData&&we.formEncType?{formMethod:we.formMethod,formAction:we.formAction,formData:we.formData,formEncType:we.formEncType}:void 0),[Re,Ce]=Ow(t.history,d,ne,ut,te,g,v,S,me,xe,U);if(he($e=>!(ne&&ne.some(Ve=>Ve.route.id===$e))||Re&&Re.some(Ve=>Ve.route.id===$e)),Re.length===0&&Ce.length===0)return $(te,ct({matches:ne,loaderData:{},errors:xe||null},me?{actionData:me}:{})),{shortCircuited:!0};if(!y){Ce.forEach(Ve=>{let Ir=d.fetchers.get(Ve.key),dt={state:"loading",data:Ir&&Ir.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(Ve.key,dt)});let $e=me||d.actionData;F(ct({navigation:we},$e?Object.keys($e).length===0?{actionData:null}:{actionData:$e}:{},Ce.length>0?{fetchers:new Map(d.fetchers)}:{}))}M=++x,Ce.forEach($e=>w.set($e.key,m));let{results:nr,loaderResults:He,fetcherResults:at}=await W(d.matches,ne,Re,Ce,Q);if(Q.signal.aborted)return{shortCircuited:!0};Ce.forEach($e=>w.delete($e.key));let mn=Lw(nr);if(mn)return await q(d,mn,{replace:ae}),{shortCircuited:!0};let{loaderData:ft,errors:ot}=Nw(d,ne,Re,He,xe,Ce,at,D);D.forEach(($e,Ve)=>{$e.subscribe(Ir=>{(Ir||$e.done)&&D.delete(Ve)})}),pe();let Dn=Oe(M);return ct({loaderData:ft,errors:ot},Dn||Ce.length>0?{fetchers:new Map(d.fetchers)}:{})}function H(Q){return d.fetchers.get(Q)||g3}function P(Q,te,ne,re){if(v3)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");w.has(Q)&&ge(Q);let J=cc(e,ne,t.basename);if(!J){X(Q,te,Ao(404,{pathname:ne}));return}let{path:ae,submission:me}=Cw(ne,re,!0),xe=Fw(J,ae);if(p=(re&&re.preventScrollReset)===!0,me&&zi(me.formMethod)){T(Q,te,ae,xe,J,me);return}U.set(Q,{routeId:te,path:ae,match:xe,matches:J}),z(Q,te,ae,xe,J,me)}async function T(Q,te,ne,re,J,ae){if(K(),U.delete(Q),!re.route.action){let Xe=Ao(405,{method:ae.formMethod,pathname:ne,routeId:te});X(Q,te,Xe);return}let me=d.fetchers.get(Q),xe=ct({state:"submitting"},ae,{data:me&&me.data," _hasFetcherDoneAnything ":!0});d.fetchers.set(Q,xe),F({fetchers:new Map(d.fetchers)});let we=new AbortController,ut=Ul(t.history,ne,we.signal,ae);w.set(Q,we);let Re=await jl("action",ut,re,J,f.basename);if(ut.signal.aborted){w.get(Q)===we&&w.delete(Q);return}if(Ha(Re)){w.delete(Q),N.add(Q);let Xe=ct({state:"loading"},ae,{data:void 0," _hasFetcherDoneAnything ":!0});return d.fetchers.set(Q,Xe),F({fetchers:new Map(d.fetchers)}),q(d,Re,{isFetchActionRedirect:!0})}if(xc(Re)){X(Q,te,Re.error);return}if(bs(Re))throw Ao(400,{type:"defer-action"});let Ce=d.navigation.location||d.location,nr=Ul(t.history,Ce,we.signal),He=d.navigation.state!=="idle"?cc(e,d.navigation.location,t.basename):d.matches;je(He,"Didn't find any matches after fetcher action");let at=++x;k.set(Q,at);let mn=ct({state:"loading",data:Re.data},ae,{" _hasFetcherDoneAnything ":!0});d.fetchers.set(Q,mn);let[ft,ot]=Ow(t.history,d,He,ae,Ce,g,v,S,{[re.route.id]:Re.data},void 0,U);ot.filter(Xe=>Xe.key!==Q).forEach(Xe=>{let Ln=Xe.key,_t=d.fetchers.get(Ln),Et={state:"loading",data:_t&&_t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(Ln,Et),w.set(Ln,we)}),F({fetchers:new Map(d.fetchers)});let{results:Dn,loaderResults:$e,fetcherResults:Ve}=await W(d.matches,He,ft,ot,nr);if(we.signal.aborted)return;k.delete(Q),w.delete(Q),ot.forEach(Xe=>w.delete(Xe.key));let Ir=Lw(Dn);if(Ir)return q(d,Ir);let{loaderData:dt,errors:vt}=Nw(d,d.matches,ft,$e,void 0,ot,Ve,D),Bi={state:"idle",data:Re.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(Q,Bi);let xt=Oe(at);d.navigation.state==="loading"&&at>M?(je(h,"Expected pending action"),m&&m.abort(),$(d.navigation.location,{matches:He,loaderData:dt,errors:vt,fetchers:new Map(d.fetchers)})):(F(ct({errors:vt,loaderData:Iw(d.loaderData,dt,He,vt)},xt?{fetchers:new Map(d.fetchers)}:{})),g=!1)}async function z(Q,te,ne,re,J,ae){let me=d.fetchers.get(Q),xe=ct({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ae,{data:me&&me.data," _hasFetcherDoneAnything ":!0});d.fetchers.set(Q,xe),F({fetchers:new Map(d.fetchers)});let we=new AbortController,ut=Ul(t.history,ne,we.signal);w.set(Q,we);let Re=await jl("loader",ut,re,J,f.basename);if(bs(Re)&&(Re=await mP(Re,ut.signal,!0)||Re),w.get(Q)===we&&w.delete(Q),ut.signal.aborted)return;if(Ha(Re)){await q(d,Re);return}if(xc(Re)){let nr=Da(d.matches,te);d.fetchers.delete(Q),F({fetchers:new Map(d.fetchers),errors:{[nr.route.id]:Re.error}});return}je(!bs(Re),"Unhandled fetcher deferred data");let Ce={state:"idle",data:Re.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(Q,Ce),F({fetchers:new Map(d.fetchers)})}async function q(Q,te,ne){var re;let{submission:J,replace:ae,isFetchActionRedirect:me}=ne===void 0?{}:ne;te.revalidate&&(g=!0);let xe=Yc(Q.location,te.location,ct({_isRedirect:!0},me?{_isFetchActionRedirect:!0}:{}));if(je(xe,"Expected a location on the redirect navigation"),fP&&typeof((re=window)==null?void 0:re.location)<"u"){let He=t.history.createURL(te.location).origin;if(window.location.origin!==He){ae?window.location.replace(te.location):window.location.assign(te.location);return}}m=null;let we=ae===!0?Jt.Replace:Jt.Push,{formMethod:ut,formAction:Re,formEncType:Ce,formData:nr}=Q.navigation;!J&&ut&&Re&&nr&&Ce&&(J={formMethod:ut,formAction:Re,formEncType:Ce,formData:nr}),m3.has(te.status)&&J&&zi(J.formMethod)?await R(we,xe,{submission:ct({},J,{formAction:te.location}),preventScrollReset:p}):await R(we,xe,{overrideNavigation:{state:"loading",location:xe,formMethod:J?J.formMethod:void 0,formAction:J?J.formAction:void 0,formEncType:J?J.formEncType:void 0,formData:J?J.formData:void 0},preventScrollReset:p})}async function W(Q,te,ne,re,J){let ae=await Promise.all([...ne.map(we=>jl("loader",J,we,te,f.basename)),...re.map(we=>jl("loader",Ul(t.history,we.path,J.signal),we.match,we.matches,f.basename))]),me=ae.slice(0,ne.length),xe=ae.slice(ne.length);return await Promise.all([Bw(Q,ne,me,J.signal,!1,d.loaderData),Bw(Q,re.map(we=>we.match),xe,J.signal,!0)]),{results:ae,loaderResults:me,fetcherResults:xe}}function K(){g=!0,v.push(...he()),U.forEach((Q,te)=>{w.has(te)&&(S.push(te),ge(te))})}function X(Q,te,ne){let re=Da(d.matches,te);Z(Q),F({errors:{[re.route.id]:ne},fetchers:new Map(d.fetchers)})}function Z(Q){w.has(Q)&&ge(Q),U.delete(Q),k.delete(Q),N.delete(Q),d.fetchers.delete(Q)}function ge(Q){let te=w.get(Q);je(te,"Expected fetch controller: "+Q),te.abort(),w.delete(Q)}function le(Q){for(let te of Q){let re={state:"idle",data:H(te).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(te,re)}}function pe(){let Q=[];for(let te of N){let ne=d.fetchers.get(te);je(ne,"Expected fetcher: "+te),ne.state==="loading"&&(N.delete(te),Q.push(te))}le(Q)}function Oe(Q){let te=[];for(let[ne,re]of k)if(re<Q){let J=d.fetchers.get(ne);je(J,"Expected fetcher: "+ne),J.state==="loading"&&(ge(ne),k.delete(ne),te.push(ne))}return le(te),te.length>0}function Se(Q,te){let ne=d.blockers.get(Q)||Tw;return L.get(Q)!==te&&(L.set(Q,te),O==null?O=Q:Q!==O&&Xc(!1,"A router only supports one blocker at a time")),ne}function ee(Q){d.blockers.delete(Q),L.delete(Q),O===Q&&(O=null)}function ie(Q,te){let ne=d.blockers.get(Q)||Tw;je(ne.state==="unblocked"&&te.state==="blocked"||ne.state==="blocked"&&te.state==="blocked"||ne.state==="blocked"&&te.state==="proceeding"||ne.state==="blocked"&&te.state==="unblocked"||ne.state==="proceeding"&&te.state==="unblocked","Invalid blocker state transition: "+ne.state+" -> "+te.state),d.blockers.set(Q,te),F({blockers:new Map(d.blockers)})}function se(Q){let{currentLocation:te,nextLocation:ne,historyAction:re}=Q;if(O==null)return;let J=L.get(O);je(J,"Could not find a function for the active blocker");let ae=d.blockers.get(O);if(!(ae&&ae.state==="proceeding")&&J({currentLocation:te,nextLocation:ne,historyAction:re}))return O}function he(Q){let te=[];return D.forEach((ne,re)=>{(!Q||Q(re))&&(ne.cancel(),te.push(re),D.delete(re))}),te}function fe(Q,te,ne){if(i=Q,s=te,o=ne||(re=>re.key),!a&&d.navigation===Dm){a=!0;let re=ce(d.location,d.matches);re!=null&&F({restoreScrollPosition:re})}return()=>{i=null,s=null,o=null}}function _e(Q,te){if(i&&o&&s){let ne=te.map(J=>$w(J,d.loaderData)),re=o(Q,ne)||Q.key;i[re]=s()}}function ce(Q,te){if(i&&o&&s){let ne=te.map(ae=>$w(ae,d.loaderData)),re=o(Q,ne)||Q.key,J=i[re];if(typeof J=="number")return J}return null}return f={get basename(){return t.basename},get state(){return d},get routes(){return e},initialize:b,subscribe:I,enableScrollRestoration:fe,navigate:B,fetch:P,revalidate:j,createHref:Q=>t.history.createHref(Q),encodeLocation:Q=>t.history.encodeLocation(Q),getFetcher:H,deleteFetcher:Z,dispose:E,getBlocker:Se,deleteBlocker:ee,_internalFetchControllers:w,_internalActiveDeferreds:D},f}function b3(t){return t!=null&&"formData"in t}function Cw(t,e,r){r===void 0&&(r=!1);let n=typeof t=="string"?t:Os(t);if(!e||!b3(e))return{path:n};if(e.formMethod&&!R3(e.formMethod))return{path:n,error:Ao(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:pP(n),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},zi(i.formMethod)))return{path:n,submission:i};let o=uo(n),s=hP(e.formData);return r&&o.search&&gP(o.search)&&s.append("index",""),o.search="?"+s,{path:Os(o),submission:i}}function w3(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function Ow(t,e,r,n,i,o,s,a,c,l,u){let f=l?Object.values(l)[0]:c?Object.values(c)[0]:void 0,d=t.createURL(e.location),h=t.createURL(i),p=o||d.toString()===h.toString()||d.search!==h.search,m=l?Object.keys(l)[0]:void 0,g=w3(r,m).filter((S,w)=>{if(S.route.loader==null)return!1;if(_3(e.loaderData,e.matches[w],S)||s.some(k=>k===S.route.id))return!0;let x=e.matches[w],M=S;return Mw(S,ct({currentUrl:d,currentParams:x.params,nextUrl:h,nextParams:M.params},n,{actionResult:f,defaultShouldRevalidate:p||dP(x,M)}))}),v=[];return u&&u.forEach((S,w)=>{if(r.some(x=>x.route.id===S.routeId))a.includes(w)?v.push(ct({key:w},S)):Mw(S.match,ct({currentUrl:d,currentParams:e.matches[e.matches.length-1].params,nextUrl:h,nextParams:r[r.length-1].params},n,{actionResult:f,defaultShouldRevalidate:p}))&&v.push(ct({key:w},S));else return}),[g,v]}function _3(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function dP(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Mw(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function jl(t,e,r,n,i,o,s,a){i===void 0&&(i="/"),o===void 0&&(o=!1),s===void 0&&(s=!1);let c,l,u,f=new Promise((h,p)=>u=p),d=()=>u();e.signal.addEventListener("abort",d);try{let h=r.route[t];je(h,"Could not find the "+t+' to run on the "'+r.route.id+'" route'),l=await Promise.race([h({request:e,params:r.params,context:a}),f]),je(l!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){c=wr.error,l=h}finally{e.signal.removeEventListener("abort",d)}if(E3(l)){let h=l.status;if(p3.has(h)){let y=l.headers.get("Location");if(je(y,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(y)){if(!o){let v=new URL(e.url),S=y.startsWith("//")?new URL(v.protocol+y):new URL(y);S.origin===v.origin&&(y=S.pathname+S.search+S.hash)}}else{let v=n.slice(0,n.indexOf(r)+1),S=By(v).map(x=>x.pathnameBase),w=lP(y,S,new URL(e.url).pathname);if(je(Os(w),"Unable to resolve redirect location: "+y),i){let x=w.pathname;w.pathname=x==="/"?i:Wo([i,x])}y=Os(w)}if(o)throw l.headers.set("Location",y),l;return{type:wr.redirect,status:h,location:y,revalidate:l.headers.get("X-Remix-Revalidate")!==null}}if(s)throw{type:c||wr.data,response:l};let p,m=l.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?p=await l.json():p=await l.text(),c===wr.error?{type:c,error:new $y(h,l.statusText,p),headers:l.headers}:{type:wr.data,data:p,statusCode:l.status,headers:l.headers}}return c===wr.error?{type:c,error:l}:l instanceof l3?{type:wr.deferred,deferredData:l}:{type:wr.data,data:l}}function Ul(t,e,r,n){let i=t.createURL(pP(e)).toString(),o={signal:r};if(n&&zi(n.formMethod)){let{formMethod:s,formEncType:a,formData:c}=n;o.method=s.toUpperCase(),o.body=a==="application/x-www-form-urlencoded"?hP(c):c}return new Request(i,o)}function hP(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,n instanceof File?n.name:n);return e}function S3(t,e,r,n,i){let o={},s=null,a,c=!1,l={};return r.forEach((u,f)=>{let d=e[f].route.id;if(je(!Ha(u),"Cannot handle redirect results in processLoaderData"),xc(u)){let h=Da(t,d),p=u.error;n&&(p=Object.values(n)[0],n=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=p),o[d]=void 0,c||(c=!0,a=cP(u.error)?u.error.status:500),u.headers&&(l[d]=u.headers)}else bs(u)?(i.set(d,u.deferredData),o[d]=u.deferredData.data):o[d]=u.data,u.statusCode!=null&&u.statusCode!==200&&!c&&(a=u.statusCode),u.headers&&(l[d]=u.headers)}),n&&(s=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:l}}function Nw(t,e,r,n,i,o,s,a){let{loaderData:c,errors:l}=S3(e,r,n,i,a);for(let u=0;u<o.length;u++){let{key:f,match:d}=o[u];je(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let h=s[u];if(xc(h)){let p=Da(t.matches,d.route.id);l&&l[p.route.id]||(l=ct({},l,{[p.route.id]:h.error})),t.fetchers.delete(f)}else if(Ha(h))je(!1,"Unhandled fetcher revalidation redirect");else if(bs(h))je(!1,"Unhandled fetcher deferred data");else{let p={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(f,p)}}return{loaderData:c,errors:l}}function Iw(t,e,r,n){let i=ct({},e);for(let o of r){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&(i[s]=t[s]),n&&n.hasOwnProperty(s))break}return i}function Da(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function Dw(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ao(t,e){let{pathname:r,routeId:n,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(a="defer() is not supported in actions")):t===403?(s="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):t===404?(s="Not Found",a='No route matches URL "'+r+'"'):t===405&&(s="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new $y(t||500,s,new Error(a),!0)}function Lw(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(Ha(r))return r}}function pP(t){let e=typeof t=="string"?uo(t):t;return Os(ct({},e,{hash:""}))}function x3(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function bs(t){return t.type===wr.deferred}function xc(t){return t.type===wr.error}function Ha(t){return(t&&t.type)===wr.redirect}function E3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function R3(t){return h3.has(t)}function zi(t){return f3.has(t)}async function Bw(t,e,r,n,i,o){for(let s=0;s<r.length;s++){let a=r[s],c=e[s],l=t.find(f=>f.route.id===c.route.id),u=l!=null&&!dP(l,c)&&(o&&o[c.route.id])!==void 0;bs(a)&&(i||u)&&await mP(a,n,i).then(f=>{f&&(r[s]=f||r[s])})}}async function mP(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:wr.data,data:t.deferredData.unwrappedData}}catch(i){return{type:wr.error,error:i}}return{type:wr.data,data:t.deferredData.data}}}function gP(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function $w(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function Fw(t,e){let r=typeof e=="string"?uo(e).search:e.search;if(t[t.length-1].route.index&&gP(r||""))return t[t.length-1];let n=By(t);return n[n.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fd.apply(this,arguments)}function P3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const A3=typeof Object.is=="function"?Object.is:P3,{useState:k3,useEffect:T3,useLayoutEffect:C3,useDebugValue:O3}=Ya;function M3(t,e,r){const n=e(),[{inst:i},o]=k3({inst:{value:n,getSnapshot:e}});return C3(()=>{i.value=n,i.getSnapshot=e,Lm(i)&&o({inst:i})},[t,n,e]),T3(()=>(Lm(i)&&o({inst:i}),t(()=>{Lm(i)&&o({inst:i})})),[t]),O3(n),n}function Lm(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!A3(r,n)}catch{return!0}}function N3(t,e,r){return e()}const I3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D3=!I3,L3=D3?N3:M3,B3="useSyncExternalStore"in Ya?(t=>t.useSyncExternalStore)(Ya):L3,Fy=G.createContext(null),jy=G.createContext(null),Uy=G.createContext(null),Eh=G.createContext(null),_l=G.createContext({outlet:null,matches:[]}),vP=G.createContext(null);function Rh(){return G.useContext(Eh)!=null}function yP(){return Rh()||je(!1),G.useContext(Eh).location}function zy(){Rh()||je(!1);let{basename:t,navigator:e}=G.useContext(Uy),{matches:r}=G.useContext(_l),{pathname:n}=yP(),i=JSON.stringify(By(r).map(a=>a.pathnameBase)),o=G.useRef(!1);return G.useEffect(()=>{o.current=!0}),G.useCallback(function(a,c){if(c===void 0&&(c={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let l=lP(a,JSON.parse(i),n,c.relative==="path");t!=="/"&&(l.pathname=l.pathname==="/"?t:Wo([t,l.pathname])),(c.replace?e.replace:e.push)(l,c.state,c)},[t,e,i,n])}function $3(){let{matches:t}=G.useContext(_l),e=t[t.length-1];return e?e.params:{}}function F3(t,e){Rh()||je(!1);let{navigator:r}=G.useContext(Uy),n=G.useContext(jy),{matches:i}=G.useContext(_l),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=yP(),l;if(e){var u;let m=typeof e=="string"?uo(e):e;a==="/"||(u=m.pathname)!=null&&u.startsWith(a)||je(!1),l=m}else l=c;let f=l.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=cc(t,{pathname:d}),p=q3(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},s,m.params),pathname:Wo([a,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:Wo([a,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n||void 0);return e&&p?G.createElement(Eh.Provider,{value:{location:Fd({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Jt.Pop}},p):p}function j3(){let t=G3(),e=cP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),r?G.createElement("pre",{style:i},r):null,o)}class U3 extends G.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location?{error:e.error,location:e.location}:{error:e.error||r.error,location:r.location}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?G.createElement(_l.Provider,{value:this.props.routeContext},G.createElement(vP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z3(t){let{routeContext:e,match:r,children:n}=t,i=G.useContext(Fy);return i&&i.static&&i.staticContext&&r.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),G.createElement(_l.Provider,{value:e},n)}function q3(t,e,r){if(e===void 0&&(e=[]),t==null)if(r!=null&&r.errors)t=r.matches;else return null;let n=t,i=r==null?void 0:r.errors;if(i!=null){let o=n.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||je(!1),n=n.slice(0,Math.min(n.length,o+1))}return n.reduceRight((o,s,a)=>{let c=s.route.id?i==null?void 0:i[s.route.id]:null,l=r?s.route.errorElement||G.createElement(j3,null):null,u=e.concat(n.slice(0,a+1)),f=()=>G.createElement(z3,{match:s,routeContext:{outlet:o,matches:u}},c?l:s.route.element!==void 0?s.route.element:o);return r&&(s.route.errorElement||a===0)?G.createElement(U3,{location:r.location,component:l,error:c,children:f(),routeContext:{outlet:null,matches:u}}):f()},null)}var jw;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(jw||(jw={}));var jd;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(jd||(jd={}));function H3(t){let e=G.useContext(jy);return e||je(!1),e}function V3(t){let e=G.useContext(_l);return e||je(!1),e}function W3(t){let e=V3(),r=e.matches[e.matches.length-1];return r.route.id||je(!1),r.route.id}function G3(){var t;let e=G.useContext(vP),r=H3(jd.UseRouteError),n=W3(jd.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function K3(t){let{fallbackElement:e,router:r}=t,n=B3(r.subscribe,()=>r.state,()=>r.state),i=G.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:s=>r.navigate(s),push:(s,a,c)=>r.navigate(s,{state:a,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(s,a,c)=>r.navigate(s,{replace:!0,state:a,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[r]),o=r.basename||"/";return G.createElement(G.Fragment,null,G.createElement(Fy.Provider,{value:{router:r,navigator:i,static:!1,basename:o}},G.createElement(jy.Provider,{value:n},G.createElement(Q3,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:i},r.state.initialized?G.createElement(J3,null):e))),null)}function ji(t){je(!1)}function Q3(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Jt.Pop,navigator:o,static:s=!1}=t;Rh()&&je(!1);let a=e.replace(/^\/*/,"/"),c=G.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof n=="string"&&(n=uo(n));let{pathname:l="/",search:u="",hash:f="",state:d=null,key:h="default"}=n,p=G.useMemo(()=>{let m=aP(l,a);return m==null?null:{pathname:m,search:u,hash:f,state:d,key:h}},[a,l,u,f,d,h]);return p==null?null:G.createElement(Uy.Provider,{value:c},G.createElement(Eh.Provider,{children:r,value:{location:p,navigationType:i}}))}function J3(t){let{children:e,location:r}=t,n=G.useContext(Fy),i=n&&!e?n.router.routes:Ud(e);return F3(i,r)}var Uw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Uw||(Uw={}));new Promise(()=>{});function Ud(t,e){e===void 0&&(e=[]);let r=[];return G.Children.forEach(t,(n,i)=>{if(!G.isValidElement(n))return;if(n.type===G.Fragment){r.push.apply(r,Ud(n.props.children,e));return}n.type!==ji&&je(!1),!n.props.index||!n.props.children||je(!1);let o=[...e,i],s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,hasErrorBoundary:n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle};n.props.children&&(s.children=Ud(n.props.children,o)),r.push(s)}),r}function bP(t){return t.map(e=>{let r=Fd({},e);return r.hasErrorBoundary==null&&(r.hasErrorBoundary=r.errorElement!=null),r.children&&(r.children=bP(r.children)),r})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jv.apply(this,arguments)}function Y3(t,e){return y3({basename:e==null?void 0:e.basename,history:FM({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||X3(),routes:bP(t)}).initialize()}function X3(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=jv({},e,{errors:Z3(e.errors)})),e}function Z3(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new $y(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",r[n]=o}else r[n]=i;return r}var zw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(zw||(zw={}));var qw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qw||(qw={}));const eN="/assets/code-611a44fb.gif";var Uv={},tN={get exports(){return Uv},set exports(t){Uv=t}};const rN={},nN=Object.freeze(Object.defineProperty({__proto__:null,default:rN},Symbol.toStringTag,{value:"Module"})),wP=z0(nN);(function(t){(function(e,r){function n(A,b){if(!A)throw new Error(b||"Assertion failed")}function i(A,b){A.super_=b;var E=function(){};E.prototype=b.prototype,A.prototype=new E,A.prototype.constructor=A}function o(A,b,E){if(o.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((b==="le"||b==="be")&&(E=b,b=10),this._init(A||0,b||10,E||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=wP.Buffer}catch{}o.isBN=function(b){return b instanceof o?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===o.wordSize&&Array.isArray(b.words)},o.max=function(b,E){return b.cmp(E)>0?b:E},o.min=function(b,E){return b.cmp(E)<0?b:E},o.prototype._init=function(b,E,I){if(typeof b=="number")return this._initNumber(b,E,I);if(typeof b=="object")return this._initArray(b,E,I);E==="hex"&&(E=16),n(E===(E|0)&&E>=2&&E<=36),b=b.toString().replace(/\s+/g,"");var F=0;b[0]==="-"&&(F++,this.negative=1),F<b.length&&(E===16?this._parseHex(b,F,I):(this._parseBase(b,E,F),I==="le"&&this._initArray(this.toArray(),E,I)))},o.prototype._initNumber=function(b,E,I){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(n(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),I==="le"&&this._initArray(this.toArray(),E,I)},o.prototype._initArray=function(b,E,I){if(n(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var $,B,j=0;if(I==="be")for(F=b.length-1,$=0;F>=0;F-=3)B=b[F]|b[F-1]<<8|b[F-2]<<16,this.words[$]|=B<<j&67108863,this.words[$+1]=B>>>26-j&67108863,j+=24,j>=26&&(j-=26,$++);else if(I==="le")for(F=0,$=0;F<b.length;F+=3)B=b[F]|b[F+1]<<8|b[F+2]<<16,this.words[$]|=B<<j&67108863,this.words[$+1]=B>>>26-j&67108863,j+=24,j>=26&&(j-=26,$++);return this._strip()};function a(A,b){var E=A.charCodeAt(b);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;n(!1,"Invalid character in "+A)}function c(A,b,E){var I=a(A,E);return E-1>=b&&(I|=a(A,E-1)<<4),I}o.prototype._parseHex=function(b,E,I){this.length=Math.ceil((b.length-E)/6),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var $=0,B=0,j;if(I==="be")for(F=b.length-1;F>=E;F-=2)j=c(b,E,F)<<$,this.words[B]|=j&67108863,$>=18?($-=18,B+=1,this.words[B]|=j>>>26):$+=8;else{var R=b.length-E;for(F=R%2===0?E+1:E;F<b.length;F+=2)j=c(b,E,F)<<$,this.words[B]|=j&67108863,$>=18?($-=18,B+=1,this.words[B]|=j>>>26):$+=8}this._strip()};function l(A,b,E,I){for(var F=0,$=0,B=Math.min(A.length,E),j=b;j<B;j++){var R=A.charCodeAt(j)-48;F*=I,R>=49?$=R-49+10:R>=17?$=R-17+10:$=R,n(R>=0&&$<I,"Invalid character"),F+=$}return F}o.prototype._parseBase=function(b,E,I){this.words=[0],this.length=1;for(var F=0,$=1;$<=67108863;$*=E)F++;F--,$=$/E|0;for(var B=b.length-I,j=B%F,R=Math.min(B,B-j)+I,_=0,C=I;C<R;C+=F)_=l(b,C,C+F,E),this.imuln($),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(j!==0){var H=1;for(_=l(b,C,b.length,E),C=0;C<j;C++)H*=E;this.imuln(H),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this._strip()},o.prototype.copy=function(b){b.words=new Array(this.length);for(var E=0;E<this.length;E++)b.words[E]=this.words[E];b.length=this.length,b.negative=this.negative,b.red=this.red};function u(A,b){A.words=b.words,A.length=b.length,A.negative=b.negative,A.red=b.red}if(o.prototype._move=function(b){u(b,this)},o.prototype.clone=function(){var b=new o(null);return this.copy(b),b},o.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(b,E){b=b||10,E=E|0||1;var I;if(b===16||b==="hex"){I="";for(var F=0,$=0,B=0;B<this.length;B++){var j=this.words[B],R=((j<<F|$)&16777215).toString(16);$=j>>>24-F&16777215,F+=2,F>=26&&(F-=26,B--),$!==0||B!==this.length-1?I=d[6-R.length]+R+I:I=R+I}for($!==0&&(I=$.toString(16)+I);I.length%E!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}if(b===(b|0)&&b>=2&&b<=36){var _=h[b],C=p[b];I="";var H=this.clone();for(H.negative=0;!H.isZero();){var P=H.modrn(C).toString(b);H=H.idivn(C),H.isZero()?I=P+I:I=d[_-P.length]+P+I}for(this.isZero()&&(I="0"+I);I.length%E!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(b,E){return this.toArrayLike(s,b,E)}),o.prototype.toArray=function(b,E){return this.toArrayLike(Array,b,E)};var m=function(b,E){return b.allocUnsafe?b.allocUnsafe(E):new b(E)};o.prototype.toArrayLike=function(b,E,I){this._strip();var F=this.byteLength(),$=I||Math.max(1,F);n(F<=$,"byte array longer than desired length"),n($>0,"Requested array length <= 0");var B=m(b,$),j=E==="le"?"LE":"BE";return this["_toArrayLike"+j](B,F),B},o.prototype._toArrayLikeLE=function(b,E){for(var I=0,F=0,$=0,B=0;$<this.length;$++){var j=this.words[$]<<B|F;b[I++]=j&255,I<b.length&&(b[I++]=j>>8&255),I<b.length&&(b[I++]=j>>16&255),B===6?(I<b.length&&(b[I++]=j>>24&255),F=0,B=0):(F=j>>>24,B+=2)}if(I<b.length)for(b[I++]=F;I<b.length;)b[I++]=0},o.prototype._toArrayLikeBE=function(b,E){for(var I=b.length-1,F=0,$=0,B=0;$<this.length;$++){var j=this.words[$]<<B|F;b[I--]=j&255,I>=0&&(b[I--]=j>>8&255),I>=0&&(b[I--]=j>>16&255),B===6?(I>=0&&(b[I--]=j>>24&255),F=0,B=0):(F=j>>>24,B+=2)}if(I>=0)for(b[I--]=F;I>=0;)b[I--]=0},Math.clz32?o.prototype._countBits=function(b){return 32-Math.clz32(b)}:o.prototype._countBits=function(b){var E=b,I=0;return E>=4096&&(I+=13,E>>>=13),E>=64&&(I+=7,E>>>=7),E>=8&&(I+=4,E>>>=4),E>=2&&(I+=2,E>>>=2),I+E},o.prototype._zeroBits=function(b){if(b===0)return 26;var E=b,I=0;return E&8191||(I+=13,E>>>=13),E&127||(I+=7,E>>>=7),E&15||(I+=4,E>>>=4),E&3||(I+=2,E>>>=2),E&1||I++,I},o.prototype.bitLength=function(){var b=this.words[this.length-1],E=this._countBits(b);return(this.length-1)*26+E};function y(A){for(var b=new Array(A.bitLength()),E=0;E<b.length;E++){var I=E/26|0,F=E%26;b[E]=A.words[I]>>>F&1}return b}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,E=0;E<this.length;E++){var I=this._zeroBits(this.words[E]);if(b+=I,I!==26)break}return b},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},o.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]|b.words[E];return this._strip()},o.prototype.ior=function(b){return n((this.negative|b.negative)===0),this.iuor(b)},o.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},o.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},o.prototype.iuand=function(b){var E;this.length>b.length?E=b:E=this;for(var I=0;I<E.length;I++)this.words[I]=this.words[I]&b.words[I];return this.length=E.length,this._strip()},o.prototype.iand=function(b){return n((this.negative|b.negative)===0),this.iuand(b)},o.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},o.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},o.prototype.iuxor=function(b){var E,I;this.length>b.length?(E=this,I=b):(E=b,I=this);for(var F=0;F<I.length;F++)this.words[F]=E.words[F]^I.words[F];if(this!==E)for(;F<E.length;F++)this.words[F]=E.words[F];return this.length=E.length,this._strip()},o.prototype.ixor=function(b){return n((this.negative|b.negative)===0),this.iuxor(b)},o.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},o.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},o.prototype.inotn=function(b){n(typeof b=="number"&&b>=0);var E=Math.ceil(b/26)|0,I=b%26;this._expand(E),I>0&&E--;for(var F=0;F<E;F++)this.words[F]=~this.words[F]&67108863;return I>0&&(this.words[F]=~this.words[F]&67108863>>26-I),this._strip()},o.prototype.notn=function(b){return this.clone().inotn(b)},o.prototype.setn=function(b,E){n(typeof b=="number"&&b>=0);var I=b/26|0,F=b%26;return this._expand(I+1),E?this.words[I]=this.words[I]|1<<F:this.words[I]=this.words[I]&~(1<<F),this._strip()},o.prototype.iadd=function(b){var E;if(this.negative!==0&&b.negative===0)return this.negative=0,E=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,E=this.isub(b),b.negative=1,E._normSign();var I,F;this.length>b.length?(I=this,F=b):(I=b,F=this);for(var $=0,B=0;B<F.length;B++)E=(I.words[B]|0)+(F.words[B]|0)+$,this.words[B]=E&67108863,$=E>>>26;for(;$!==0&&B<I.length;B++)E=(I.words[B]|0)+$,this.words[B]=E&67108863,$=E>>>26;if(this.length=I.length,$!==0)this.words[this.length]=$,this.length++;else if(I!==this)for(;B<I.length;B++)this.words[B]=I.words[B];return this},o.prototype.add=function(b){var E;return b.negative!==0&&this.negative===0?(b.negative=0,E=this.sub(b),b.negative^=1,E):b.negative===0&&this.negative!==0?(this.negative=0,E=b.sub(this),this.negative=1,E):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},o.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var E=this.iadd(b);return b.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var I=this.cmp(b);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var F,$;I>0?(F=this,$=b):(F=b,$=this);for(var B=0,j=0;j<$.length;j++)E=(F.words[j]|0)-($.words[j]|0)+B,B=E>>26,this.words[j]=E&67108863;for(;B!==0&&j<F.length;j++)E=(F.words[j]|0)+B,B=E>>26,this.words[j]=E&67108863;if(B===0&&j<F.length&&F!==this)for(;j<F.length;j++)this.words[j]=F.words[j];return this.length=Math.max(this.length,j),F!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(b){return this.clone().isub(b)};function g(A,b,E){E.negative=b.negative^A.negative;var I=A.length+b.length|0;E.length=I,I=I-1|0;var F=A.words[0]|0,$=b.words[0]|0,B=F*$,j=B&67108863,R=B/67108864|0;E.words[0]=j;for(var _=1;_<I;_++){for(var C=R>>>26,H=R&67108863,P=Math.min(_,b.length-1),T=Math.max(0,_-A.length+1);T<=P;T++){var z=_-T|0;F=A.words[z]|0,$=b.words[T]|0,B=F*$+H,C+=B/67108864|0,H=B&67108863}E.words[_]=H|0,R=C|0}return R!==0?E.words[_]=R|0:E.length--,E._strip()}var v=function(b,E,I){var F=b.words,$=E.words,B=I.words,j=0,R,_,C,H=F[0]|0,P=H&8191,T=H>>>13,z=F[1]|0,q=z&8191,W=z>>>13,K=F[2]|0,X=K&8191,Z=K>>>13,ge=F[3]|0,le=ge&8191,pe=ge>>>13,Oe=F[4]|0,Se=Oe&8191,ee=Oe>>>13,ie=F[5]|0,se=ie&8191,he=ie>>>13,fe=F[6]|0,_e=fe&8191,ce=fe>>>13,Q=F[7]|0,te=Q&8191,ne=Q>>>13,re=F[8]|0,J=re&8191,ae=re>>>13,me=F[9]|0,xe=me&8191,we=me>>>13,ut=$[0]|0,Re=ut&8191,Ce=ut>>>13,nr=$[1]|0,He=nr&8191,at=nr>>>13,mn=$[2]|0,ft=mn&8191,ot=mn>>>13,Dn=$[3]|0,$e=Dn&8191,Ve=Dn>>>13,Ir=$[4]|0,dt=Ir&8191,vt=Ir>>>13,Bi=$[5]|0,xt=Bi&8191,Xe=Bi>>>13,Ln=$[6]|0,_t=Ln&8191,Et=Ln>>>13,is=$[7]|0,Tt=is&8191,Ct=is>>>13,os=$[8]|0,Ot=os&8191,Mt=os>>>13,ss=$[9]|0,Nt=ss&8191,It=ss>>>13;I.negative=b.negative^E.negative,I.length=19,R=Math.imul(P,Re),_=Math.imul(P,Ce),_=_+Math.imul(T,Re)|0,C=Math.imul(T,Ce);var po=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(po>>>26)|0,po&=67108863,R=Math.imul(q,Re),_=Math.imul(q,Ce),_=_+Math.imul(W,Re)|0,C=Math.imul(W,Ce),R=R+Math.imul(P,He)|0,_=_+Math.imul(P,at)|0,_=_+Math.imul(T,He)|0,C=C+Math.imul(T,at)|0;var mo=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(mo>>>26)|0,mo&=67108863,R=Math.imul(X,Re),_=Math.imul(X,Ce),_=_+Math.imul(Z,Re)|0,C=Math.imul(Z,Ce),R=R+Math.imul(q,He)|0,_=_+Math.imul(q,at)|0,_=_+Math.imul(W,He)|0,C=C+Math.imul(W,at)|0,R=R+Math.imul(P,ft)|0,_=_+Math.imul(P,ot)|0,_=_+Math.imul(T,ft)|0,C=C+Math.imul(T,ot)|0;var go=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(go>>>26)|0,go&=67108863,R=Math.imul(le,Re),_=Math.imul(le,Ce),_=_+Math.imul(pe,Re)|0,C=Math.imul(pe,Ce),R=R+Math.imul(X,He)|0,_=_+Math.imul(X,at)|0,_=_+Math.imul(Z,He)|0,C=C+Math.imul(Z,at)|0,R=R+Math.imul(q,ft)|0,_=_+Math.imul(q,ot)|0,_=_+Math.imul(W,ft)|0,C=C+Math.imul(W,ot)|0,R=R+Math.imul(P,$e)|0,_=_+Math.imul(P,Ve)|0,_=_+Math.imul(T,$e)|0,C=C+Math.imul(T,Ve)|0;var vo=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(vo>>>26)|0,vo&=67108863,R=Math.imul(Se,Re),_=Math.imul(Se,Ce),_=_+Math.imul(ee,Re)|0,C=Math.imul(ee,Ce),R=R+Math.imul(le,He)|0,_=_+Math.imul(le,at)|0,_=_+Math.imul(pe,He)|0,C=C+Math.imul(pe,at)|0,R=R+Math.imul(X,ft)|0,_=_+Math.imul(X,ot)|0,_=_+Math.imul(Z,ft)|0,C=C+Math.imul(Z,ot)|0,R=R+Math.imul(q,$e)|0,_=_+Math.imul(q,Ve)|0,_=_+Math.imul(W,$e)|0,C=C+Math.imul(W,Ve)|0,R=R+Math.imul(P,dt)|0,_=_+Math.imul(P,vt)|0,_=_+Math.imul(T,dt)|0,C=C+Math.imul(T,vt)|0;var yo=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(yo>>>26)|0,yo&=67108863,R=Math.imul(se,Re),_=Math.imul(se,Ce),_=_+Math.imul(he,Re)|0,C=Math.imul(he,Ce),R=R+Math.imul(Se,He)|0,_=_+Math.imul(Se,at)|0,_=_+Math.imul(ee,He)|0,C=C+Math.imul(ee,at)|0,R=R+Math.imul(le,ft)|0,_=_+Math.imul(le,ot)|0,_=_+Math.imul(pe,ft)|0,C=C+Math.imul(pe,ot)|0,R=R+Math.imul(X,$e)|0,_=_+Math.imul(X,Ve)|0,_=_+Math.imul(Z,$e)|0,C=C+Math.imul(Z,Ve)|0,R=R+Math.imul(q,dt)|0,_=_+Math.imul(q,vt)|0,_=_+Math.imul(W,dt)|0,C=C+Math.imul(W,vt)|0,R=R+Math.imul(P,xt)|0,_=_+Math.imul(P,Xe)|0,_=_+Math.imul(T,xt)|0,C=C+Math.imul(T,Xe)|0;var Kp=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(Kp>>>26)|0,Kp&=67108863,R=Math.imul(_e,Re),_=Math.imul(_e,Ce),_=_+Math.imul(ce,Re)|0,C=Math.imul(ce,Ce),R=R+Math.imul(se,He)|0,_=_+Math.imul(se,at)|0,_=_+Math.imul(he,He)|0,C=C+Math.imul(he,at)|0,R=R+Math.imul(Se,ft)|0,_=_+Math.imul(Se,ot)|0,_=_+Math.imul(ee,ft)|0,C=C+Math.imul(ee,ot)|0,R=R+Math.imul(le,$e)|0,_=_+Math.imul(le,Ve)|0,_=_+Math.imul(pe,$e)|0,C=C+Math.imul(pe,Ve)|0,R=R+Math.imul(X,dt)|0,_=_+Math.imul(X,vt)|0,_=_+Math.imul(Z,dt)|0,C=C+Math.imul(Z,vt)|0,R=R+Math.imul(q,xt)|0,_=_+Math.imul(q,Xe)|0,_=_+Math.imul(W,xt)|0,C=C+Math.imul(W,Xe)|0,R=R+Math.imul(P,_t)|0,_=_+Math.imul(P,Et)|0,_=_+Math.imul(T,_t)|0,C=C+Math.imul(T,Et)|0;var Qp=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(Qp>>>26)|0,Qp&=67108863,R=Math.imul(te,Re),_=Math.imul(te,Ce),_=_+Math.imul(ne,Re)|0,C=Math.imul(ne,Ce),R=R+Math.imul(_e,He)|0,_=_+Math.imul(_e,at)|0,_=_+Math.imul(ce,He)|0,C=C+Math.imul(ce,at)|0,R=R+Math.imul(se,ft)|0,_=_+Math.imul(se,ot)|0,_=_+Math.imul(he,ft)|0,C=C+Math.imul(he,ot)|0,R=R+Math.imul(Se,$e)|0,_=_+Math.imul(Se,Ve)|0,_=_+Math.imul(ee,$e)|0,C=C+Math.imul(ee,Ve)|0,R=R+Math.imul(le,dt)|0,_=_+Math.imul(le,vt)|0,_=_+Math.imul(pe,dt)|0,C=C+Math.imul(pe,vt)|0,R=R+Math.imul(X,xt)|0,_=_+Math.imul(X,Xe)|0,_=_+Math.imul(Z,xt)|0,C=C+Math.imul(Z,Xe)|0,R=R+Math.imul(q,_t)|0,_=_+Math.imul(q,Et)|0,_=_+Math.imul(W,_t)|0,C=C+Math.imul(W,Et)|0,R=R+Math.imul(P,Tt)|0,_=_+Math.imul(P,Ct)|0,_=_+Math.imul(T,Tt)|0,C=C+Math.imul(T,Ct)|0;var Jp=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(Jp>>>26)|0,Jp&=67108863,R=Math.imul(J,Re),_=Math.imul(J,Ce),_=_+Math.imul(ae,Re)|0,C=Math.imul(ae,Ce),R=R+Math.imul(te,He)|0,_=_+Math.imul(te,at)|0,_=_+Math.imul(ne,He)|0,C=C+Math.imul(ne,at)|0,R=R+Math.imul(_e,ft)|0,_=_+Math.imul(_e,ot)|0,_=_+Math.imul(ce,ft)|0,C=C+Math.imul(ce,ot)|0,R=R+Math.imul(se,$e)|0,_=_+Math.imul(se,Ve)|0,_=_+Math.imul(he,$e)|0,C=C+Math.imul(he,Ve)|0,R=R+Math.imul(Se,dt)|0,_=_+Math.imul(Se,vt)|0,_=_+Math.imul(ee,dt)|0,C=C+Math.imul(ee,vt)|0,R=R+Math.imul(le,xt)|0,_=_+Math.imul(le,Xe)|0,_=_+Math.imul(pe,xt)|0,C=C+Math.imul(pe,Xe)|0,R=R+Math.imul(X,_t)|0,_=_+Math.imul(X,Et)|0,_=_+Math.imul(Z,_t)|0,C=C+Math.imul(Z,Et)|0,R=R+Math.imul(q,Tt)|0,_=_+Math.imul(q,Ct)|0,_=_+Math.imul(W,Tt)|0,C=C+Math.imul(W,Ct)|0,R=R+Math.imul(P,Ot)|0,_=_+Math.imul(P,Mt)|0,_=_+Math.imul(T,Ot)|0,C=C+Math.imul(T,Mt)|0;var Yp=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(Yp>>>26)|0,Yp&=67108863,R=Math.imul(xe,Re),_=Math.imul(xe,Ce),_=_+Math.imul(we,Re)|0,C=Math.imul(we,Ce),R=R+Math.imul(J,He)|0,_=_+Math.imul(J,at)|0,_=_+Math.imul(ae,He)|0,C=C+Math.imul(ae,at)|0,R=R+Math.imul(te,ft)|0,_=_+Math.imul(te,ot)|0,_=_+Math.imul(ne,ft)|0,C=C+Math.imul(ne,ot)|0,R=R+Math.imul(_e,$e)|0,_=_+Math.imul(_e,Ve)|0,_=_+Math.imul(ce,$e)|0,C=C+Math.imul(ce,Ve)|0,R=R+Math.imul(se,dt)|0,_=_+Math.imul(se,vt)|0,_=_+Math.imul(he,dt)|0,C=C+Math.imul(he,vt)|0,R=R+Math.imul(Se,xt)|0,_=_+Math.imul(Se,Xe)|0,_=_+Math.imul(ee,xt)|0,C=C+Math.imul(ee,Xe)|0,R=R+Math.imul(le,_t)|0,_=_+Math.imul(le,Et)|0,_=_+Math.imul(pe,_t)|0,C=C+Math.imul(pe,Et)|0,R=R+Math.imul(X,Tt)|0,_=_+Math.imul(X,Ct)|0,_=_+Math.imul(Z,Tt)|0,C=C+Math.imul(Z,Ct)|0,R=R+Math.imul(q,Ot)|0,_=_+Math.imul(q,Mt)|0,_=_+Math.imul(W,Ot)|0,C=C+Math.imul(W,Mt)|0,R=R+Math.imul(P,Nt)|0,_=_+Math.imul(P,It)|0,_=_+Math.imul(T,Nt)|0,C=C+Math.imul(T,It)|0;var Xp=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(Xp>>>26)|0,Xp&=67108863,R=Math.imul(xe,He),_=Math.imul(xe,at),_=_+Math.imul(we,He)|0,C=Math.imul(we,at),R=R+Math.imul(J,ft)|0,_=_+Math.imul(J,ot)|0,_=_+Math.imul(ae,ft)|0,C=C+Math.imul(ae,ot)|0,R=R+Math.imul(te,$e)|0,_=_+Math.imul(te,Ve)|0,_=_+Math.imul(ne,$e)|0,C=C+Math.imul(ne,Ve)|0,R=R+Math.imul(_e,dt)|0,_=_+Math.imul(_e,vt)|0,_=_+Math.imul(ce,dt)|0,C=C+Math.imul(ce,vt)|0,R=R+Math.imul(se,xt)|0,_=_+Math.imul(se,Xe)|0,_=_+Math.imul(he,xt)|0,C=C+Math.imul(he,Xe)|0,R=R+Math.imul(Se,_t)|0,_=_+Math.imul(Se,Et)|0,_=_+Math.imul(ee,_t)|0,C=C+Math.imul(ee,Et)|0,R=R+Math.imul(le,Tt)|0,_=_+Math.imul(le,Ct)|0,_=_+Math.imul(pe,Tt)|0,C=C+Math.imul(pe,Ct)|0,R=R+Math.imul(X,Ot)|0,_=_+Math.imul(X,Mt)|0,_=_+Math.imul(Z,Ot)|0,C=C+Math.imul(Z,Mt)|0,R=R+Math.imul(q,Nt)|0,_=_+Math.imul(q,It)|0,_=_+Math.imul(W,Nt)|0,C=C+Math.imul(W,It)|0;var Zp=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(Zp>>>26)|0,Zp&=67108863,R=Math.imul(xe,ft),_=Math.imul(xe,ot),_=_+Math.imul(we,ft)|0,C=Math.imul(we,ot),R=R+Math.imul(J,$e)|0,_=_+Math.imul(J,Ve)|0,_=_+Math.imul(ae,$e)|0,C=C+Math.imul(ae,Ve)|0,R=R+Math.imul(te,dt)|0,_=_+Math.imul(te,vt)|0,_=_+Math.imul(ne,dt)|0,C=C+Math.imul(ne,vt)|0,R=R+Math.imul(_e,xt)|0,_=_+Math.imul(_e,Xe)|0,_=_+Math.imul(ce,xt)|0,C=C+Math.imul(ce,Xe)|0,R=R+Math.imul(se,_t)|0,_=_+Math.imul(se,Et)|0,_=_+Math.imul(he,_t)|0,C=C+Math.imul(he,Et)|0,R=R+Math.imul(Se,Tt)|0,_=_+Math.imul(Se,Ct)|0,_=_+Math.imul(ee,Tt)|0,C=C+Math.imul(ee,Ct)|0,R=R+Math.imul(le,Ot)|0,_=_+Math.imul(le,Mt)|0,_=_+Math.imul(pe,Ot)|0,C=C+Math.imul(pe,Mt)|0,R=R+Math.imul(X,Nt)|0,_=_+Math.imul(X,It)|0,_=_+Math.imul(Z,Nt)|0,C=C+Math.imul(Z,It)|0;var em=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(em>>>26)|0,em&=67108863,R=Math.imul(xe,$e),_=Math.imul(xe,Ve),_=_+Math.imul(we,$e)|0,C=Math.imul(we,Ve),R=R+Math.imul(J,dt)|0,_=_+Math.imul(J,vt)|0,_=_+Math.imul(ae,dt)|0,C=C+Math.imul(ae,vt)|0,R=R+Math.imul(te,xt)|0,_=_+Math.imul(te,Xe)|0,_=_+Math.imul(ne,xt)|0,C=C+Math.imul(ne,Xe)|0,R=R+Math.imul(_e,_t)|0,_=_+Math.imul(_e,Et)|0,_=_+Math.imul(ce,_t)|0,C=C+Math.imul(ce,Et)|0,R=R+Math.imul(se,Tt)|0,_=_+Math.imul(se,Ct)|0,_=_+Math.imul(he,Tt)|0,C=C+Math.imul(he,Ct)|0,R=R+Math.imul(Se,Ot)|0,_=_+Math.imul(Se,Mt)|0,_=_+Math.imul(ee,Ot)|0,C=C+Math.imul(ee,Mt)|0,R=R+Math.imul(le,Nt)|0,_=_+Math.imul(le,It)|0,_=_+Math.imul(pe,Nt)|0,C=C+Math.imul(pe,It)|0;var tm=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(tm>>>26)|0,tm&=67108863,R=Math.imul(xe,dt),_=Math.imul(xe,vt),_=_+Math.imul(we,dt)|0,C=Math.imul(we,vt),R=R+Math.imul(J,xt)|0,_=_+Math.imul(J,Xe)|0,_=_+Math.imul(ae,xt)|0,C=C+Math.imul(ae,Xe)|0,R=R+Math.imul(te,_t)|0,_=_+Math.imul(te,Et)|0,_=_+Math.imul(ne,_t)|0,C=C+Math.imul(ne,Et)|0,R=R+Math.imul(_e,Tt)|0,_=_+Math.imul(_e,Ct)|0,_=_+Math.imul(ce,Tt)|0,C=C+Math.imul(ce,Ct)|0,R=R+Math.imul(se,Ot)|0,_=_+Math.imul(se,Mt)|0,_=_+Math.imul(he,Ot)|0,C=C+Math.imul(he,Mt)|0,R=R+Math.imul(Se,Nt)|0,_=_+Math.imul(Se,It)|0,_=_+Math.imul(ee,Nt)|0,C=C+Math.imul(ee,It)|0;var rm=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(rm>>>26)|0,rm&=67108863,R=Math.imul(xe,xt),_=Math.imul(xe,Xe),_=_+Math.imul(we,xt)|0,C=Math.imul(we,Xe),R=R+Math.imul(J,_t)|0,_=_+Math.imul(J,Et)|0,_=_+Math.imul(ae,_t)|0,C=C+Math.imul(ae,Et)|0,R=R+Math.imul(te,Tt)|0,_=_+Math.imul(te,Ct)|0,_=_+Math.imul(ne,Tt)|0,C=C+Math.imul(ne,Ct)|0,R=R+Math.imul(_e,Ot)|0,_=_+Math.imul(_e,Mt)|0,_=_+Math.imul(ce,Ot)|0,C=C+Math.imul(ce,Mt)|0,R=R+Math.imul(se,Nt)|0,_=_+Math.imul(se,It)|0,_=_+Math.imul(he,Nt)|0,C=C+Math.imul(he,It)|0;var nm=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(nm>>>26)|0,nm&=67108863,R=Math.imul(xe,_t),_=Math.imul(xe,Et),_=_+Math.imul(we,_t)|0,C=Math.imul(we,Et),R=R+Math.imul(J,Tt)|0,_=_+Math.imul(J,Ct)|0,_=_+Math.imul(ae,Tt)|0,C=C+Math.imul(ae,Ct)|0,R=R+Math.imul(te,Ot)|0,_=_+Math.imul(te,Mt)|0,_=_+Math.imul(ne,Ot)|0,C=C+Math.imul(ne,Mt)|0,R=R+Math.imul(_e,Nt)|0,_=_+Math.imul(_e,It)|0,_=_+Math.imul(ce,Nt)|0,C=C+Math.imul(ce,It)|0;var im=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(im>>>26)|0,im&=67108863,R=Math.imul(xe,Tt),_=Math.imul(xe,Ct),_=_+Math.imul(we,Tt)|0,C=Math.imul(we,Ct),R=R+Math.imul(J,Ot)|0,_=_+Math.imul(J,Mt)|0,_=_+Math.imul(ae,Ot)|0,C=C+Math.imul(ae,Mt)|0,R=R+Math.imul(te,Nt)|0,_=_+Math.imul(te,It)|0,_=_+Math.imul(ne,Nt)|0,C=C+Math.imul(ne,It)|0;var om=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(om>>>26)|0,om&=67108863,R=Math.imul(xe,Ot),_=Math.imul(xe,Mt),_=_+Math.imul(we,Ot)|0,C=Math.imul(we,Mt),R=R+Math.imul(J,Nt)|0,_=_+Math.imul(J,It)|0,_=_+Math.imul(ae,Nt)|0,C=C+Math.imul(ae,It)|0;var sm=(j+R|0)+((_&8191)<<13)|0;j=(C+(_>>>13)|0)+(sm>>>26)|0,sm&=67108863,R=Math.imul(xe,Nt),_=Math.imul(xe,It),_=_+Math.imul(we,Nt)|0,C=Math.imul(we,It);var am=(j+R|0)+((_&8191)<<13)|0;return j=(C+(_>>>13)|0)+(am>>>26)|0,am&=67108863,B[0]=po,B[1]=mo,B[2]=go,B[3]=vo,B[4]=yo,B[5]=Kp,B[6]=Qp,B[7]=Jp,B[8]=Yp,B[9]=Xp,B[10]=Zp,B[11]=em,B[12]=tm,B[13]=rm,B[14]=nm,B[15]=im,B[16]=om,B[17]=sm,B[18]=am,j!==0&&(B[19]=j,I.length++),I};Math.imul||(v=g);function S(A,b,E){E.negative=b.negative^A.negative,E.length=A.length+b.length;for(var I=0,F=0,$=0;$<E.length-1;$++){var B=F;F=0;for(var j=I&67108863,R=Math.min($,b.length-1),_=Math.max(0,$-A.length+1);_<=R;_++){var C=$-_,H=A.words[C]|0,P=b.words[_]|0,T=H*P,z=T&67108863;B=B+(T/67108864|0)|0,z=z+j|0,j=z&67108863,B=B+(z>>>26)|0,F+=B>>>26,B&=67108863}E.words[$]=j,I=B,B=F}return I!==0?E.words[$]=I:E.length--,E._strip()}function w(A,b,E){return S(A,b,E)}o.prototype.mulTo=function(b,E){var I,F=this.length+b.length;return this.length===10&&b.length===10?I=v(this,b,E):F<63?I=g(this,b,E):F<1024?I=S(this,b,E):I=w(this,b,E),I},o.prototype.mul=function(b){var E=new o(null);return E.words=new Array(this.length+b.length),this.mulTo(b,E)},o.prototype.mulf=function(b){var E=new o(null);return E.words=new Array(this.length+b.length),w(this,b,E)},o.prototype.imul=function(b){return this.clone().mulTo(b,this)},o.prototype.imuln=function(b){var E=b<0;E&&(b=-b),n(typeof b=="number"),n(b<67108864);for(var I=0,F=0;F<this.length;F++){var $=(this.words[F]|0)*b,B=($&67108863)+(I&67108863);I>>=26,I+=$/67108864|0,I+=B>>>26,this.words[F]=B&67108863}return I!==0&&(this.words[F]=I,this.length++),E?this.ineg():this},o.prototype.muln=function(b){return this.clone().imuln(b)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(b){var E=y(b);if(E.length===0)return new o(1);for(var I=this,F=0;F<E.length&&E[F]===0;F++,I=I.sqr());if(++F<E.length)for(var $=I.sqr();F<E.length;F++,$=$.sqr())E[F]!==0&&(I=I.mul($));return I},o.prototype.iushln=function(b){n(typeof b=="number"&&b>=0);var E=b%26,I=(b-E)/26,F=67108863>>>26-E<<26-E,$;if(E!==0){var B=0;for($=0;$<this.length;$++){var j=this.words[$]&F,R=(this.words[$]|0)-j<<E;this.words[$]=R|B,B=j>>>26-E}B&&(this.words[$]=B,this.length++)}if(I!==0){for($=this.length-1;$>=0;$--)this.words[$+I]=this.words[$];for($=0;$<I;$++)this.words[$]=0;this.length+=I}return this._strip()},o.prototype.ishln=function(b){return n(this.negative===0),this.iushln(b)},o.prototype.iushrn=function(b,E,I){n(typeof b=="number"&&b>=0);var F;E?F=(E-E%26)/26:F=0;var $=b%26,B=Math.min((b-$)/26,this.length),j=67108863^67108863>>>$<<$,R=I;if(F-=B,F=Math.max(0,F),R){for(var _=0;_<B;_++)R.words[_]=this.words[_];R.length=B}if(B!==0)if(this.length>B)for(this.length-=B,_=0;_<this.length;_++)this.words[_]=this.words[_+B];else this.words[0]=0,this.length=1;var C=0;for(_=this.length-1;_>=0&&(C!==0||_>=F);_--){var H=this.words[_]|0;this.words[_]=C<<26-$|H>>>$,C=H&j}return R&&C!==0&&(R.words[R.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(b,E,I){return n(this.negative===0),this.iushrn(b,E,I)},o.prototype.shln=function(b){return this.clone().ishln(b)},o.prototype.ushln=function(b){return this.clone().iushln(b)},o.prototype.shrn=function(b){return this.clone().ishrn(b)},o.prototype.ushrn=function(b){return this.clone().iushrn(b)},o.prototype.testn=function(b){n(typeof b=="number"&&b>=0);var E=b%26,I=(b-E)/26,F=1<<E;if(this.length<=I)return!1;var $=this.words[I];return!!($&F)},o.prototype.imaskn=function(b){n(typeof b=="number"&&b>=0);var E=b%26,I=(b-E)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(E!==0&&I++,this.length=Math.min(I,this.length),E!==0){var F=67108863^67108863>>>E<<E;this.words[this.length-1]&=F}return this._strip()},o.prototype.maskn=function(b){return this.clone().imaskn(b)},o.prototype.iaddn=function(b){return n(typeof b=="number"),n(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},o.prototype._iaddn=function(b){this.words[0]+=b;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},o.prototype.isubn=function(b){if(n(typeof b=="number"),n(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},o.prototype.addn=function(b){return this.clone().iaddn(b)},o.prototype.subn=function(b){return this.clone().isubn(b)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(b,E,I){var F=b.length+I,$;this._expand(F);var B,j=0;for($=0;$<b.length;$++){B=(this.words[$+I]|0)+j;var R=(b.words[$]|0)*E;B-=R&67108863,j=(B>>26)-(R/67108864|0),this.words[$+I]=B&67108863}for(;$<this.length-I;$++)B=(this.words[$+I]|0)+j,j=B>>26,this.words[$+I]=B&67108863;if(j===0)return this._strip();for(n(j===-1),j=0,$=0;$<this.length;$++)B=-(this.words[$]|0)+j,j=B>>26,this.words[$]=B&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(b,E){var I=this.length-b.length,F=this.clone(),$=b,B=$.words[$.length-1]|0,j=this._countBits(B);I=26-j,I!==0&&($=$.ushln(I),F.iushln(I),B=$.words[$.length-1]|0);var R=F.length-$.length,_;if(E!=="mod"){_=new o(null),_.length=R+1,_.words=new Array(_.length);for(var C=0;C<_.length;C++)_.words[C]=0}var H=F.clone()._ishlnsubmul($,1,R);H.negative===0&&(F=H,_&&(_.words[R]=1));for(var P=R-1;P>=0;P--){var T=(F.words[$.length+P]|0)*67108864+(F.words[$.length+P-1]|0);for(T=Math.min(T/B|0,67108863),F._ishlnsubmul($,T,P);F.negative!==0;)T--,F.negative=0,F._ishlnsubmul($,1,P),F.isZero()||(F.negative^=1);_&&(_.words[P]=T)}return _&&_._strip(),F._strip(),E!=="div"&&I!==0&&F.iushrn(I),{div:_||null,mod:F}},o.prototype.divmod=function(b,E,I){if(n(!b.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var F,$,B;return this.negative!==0&&b.negative===0?(B=this.neg().divmod(b,E),E!=="mod"&&(F=B.div.neg()),E!=="div"&&($=B.mod.neg(),I&&$.negative!==0&&$.iadd(b)),{div:F,mod:$}):this.negative===0&&b.negative!==0?(B=this.divmod(b.neg(),E),E!=="mod"&&(F=B.div.neg()),{div:F,mod:B.mod}):this.negative&b.negative?(B=this.neg().divmod(b.neg(),E),E!=="div"&&($=B.mod.neg(),I&&$.negative!==0&&$.isub(b)),{div:B.div,mod:$}):b.length>this.length||this.cmp(b)<0?{div:new o(0),mod:this}:b.length===1?E==="div"?{div:this.divn(b.words[0]),mod:null}:E==="mod"?{div:null,mod:new o(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new o(this.modrn(b.words[0]))}:this._wordDiv(b,E)},o.prototype.div=function(b){return this.divmod(b,"div",!1).div},o.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},o.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},o.prototype.divRound=function(b){var E=this.divmod(b);if(E.mod.isZero())return E.div;var I=E.div.negative!==0?E.mod.isub(b):E.mod,F=b.ushrn(1),$=b.andln(1),B=I.cmp(F);return B<0||$===1&&B===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},o.prototype.modrn=function(b){var E=b<0;E&&(b=-b),n(b<=67108863);for(var I=(1<<26)%b,F=0,$=this.length-1;$>=0;$--)F=(I*F+(this.words[$]|0))%b;return E?-F:F},o.prototype.modn=function(b){return this.modrn(b)},o.prototype.idivn=function(b){var E=b<0;E&&(b=-b),n(b<=67108863);for(var I=0,F=this.length-1;F>=0;F--){var $=(this.words[F]|0)+I*67108864;this.words[F]=$/b|0,I=$%b}return this._strip(),E?this.ineg():this},o.prototype.divn=function(b){return this.clone().idivn(b)},o.prototype.egcd=function(b){n(b.negative===0),n(!b.isZero());var E=this,I=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var F=new o(1),$=new o(0),B=new o(0),j=new o(1),R=0;E.isEven()&&I.isEven();)E.iushrn(1),I.iushrn(1),++R;for(var _=I.clone(),C=E.clone();!E.isZero();){for(var H=0,P=1;!(E.words[0]&P)&&H<26;++H,P<<=1);if(H>0)for(E.iushrn(H);H-- >0;)(F.isOdd()||$.isOdd())&&(F.iadd(_),$.isub(C)),F.iushrn(1),$.iushrn(1);for(var T=0,z=1;!(I.words[0]&z)&&T<26;++T,z<<=1);if(T>0)for(I.iushrn(T);T-- >0;)(B.isOdd()||j.isOdd())&&(B.iadd(_),j.isub(C)),B.iushrn(1),j.iushrn(1);E.cmp(I)>=0?(E.isub(I),F.isub(B),$.isub(j)):(I.isub(E),B.isub(F),j.isub($))}return{a:B,b:j,gcd:I.iushln(R)}},o.prototype._invmp=function(b){n(b.negative===0),n(!b.isZero());var E=this,I=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var F=new o(1),$=new o(0),B=I.clone();E.cmpn(1)>0&&I.cmpn(1)>0;){for(var j=0,R=1;!(E.words[0]&R)&&j<26;++j,R<<=1);if(j>0)for(E.iushrn(j);j-- >0;)F.isOdd()&&F.iadd(B),F.iushrn(1);for(var _=0,C=1;!(I.words[0]&C)&&_<26;++_,C<<=1);if(_>0)for(I.iushrn(_);_-- >0;)$.isOdd()&&$.iadd(B),$.iushrn(1);E.cmp(I)>=0?(E.isub(I),F.isub($)):(I.isub(E),$.isub(F))}var H;return E.cmpn(1)===0?H=F:H=$,H.cmpn(0)<0&&H.iadd(b),H},o.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var E=this.clone(),I=b.clone();E.negative=0,I.negative=0;for(var F=0;E.isEven()&&I.isEven();F++)E.iushrn(1),I.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;I.isEven();)I.iushrn(1);var $=E.cmp(I);if($<0){var B=E;E=I,I=B}else if($===0||I.cmpn(1)===0)break;E.isub(I)}while(!0);return I.iushln(F)},o.prototype.invm=function(b){return this.egcd(b).a.umod(b)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(b){return this.words[0]&b},o.prototype.bincn=function(b){n(typeof b=="number");var E=b%26,I=(b-E)/26,F=1<<E;if(this.length<=I)return this._expand(I+1),this.words[I]|=F,this;for(var $=F,B=I;$!==0&&B<this.length;B++){var j=this.words[B]|0;j+=$,$=j>>>26,j&=67108863,this.words[B]=j}return $!==0&&(this.words[B]=$,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(b){var E=b<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this._strip();var I;if(this.length>1)I=1;else{E&&(b=-b),n(b<=67108863,"Number is too big");var F=this.words[0]|0;I=F===b?0:F<b?-1:1}return this.negative!==0?-I|0:I},o.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var E=this.ucmp(b);return this.negative!==0?-E|0:E},o.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var E=0,I=this.length-1;I>=0;I--){var F=this.words[I]|0,$=b.words[I]|0;if(F!==$){F<$?E=-1:F>$&&(E=1);break}}return E},o.prototype.gtn=function(b){return this.cmpn(b)===1},o.prototype.gt=function(b){return this.cmp(b)===1},o.prototype.gten=function(b){return this.cmpn(b)>=0},o.prototype.gte=function(b){return this.cmp(b)>=0},o.prototype.ltn=function(b){return this.cmpn(b)===-1},o.prototype.lt=function(b){return this.cmp(b)===-1},o.prototype.lten=function(b){return this.cmpn(b)<=0},o.prototype.lte=function(b){return this.cmp(b)<=0},o.prototype.eqn=function(b){return this.cmpn(b)===0},o.prototype.eq=function(b){return this.cmp(b)===0},o.red=function(b){return new O(b)},o.prototype.toRed=function(b){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(b){return this.red=b,this},o.prototype.forceRed=function(b){return n(!this.red,"Already a number in reduction context"),this._forceRed(b)},o.prototype.redAdd=function(b){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},o.prototype.redIAdd=function(b){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},o.prototype.redSub=function(b){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},o.prototype.redISub=function(b){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},o.prototype.redShl=function(b){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},o.prototype.redMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},o.prototype.redIMul=function(b){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(b){return n(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var x={k256:null,p224:null,p192:null,p25519:null};function M(A,b){this.name=A,this.p=new o(b,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var b=new o(null);return b.words=new Array(Math.ceil(this.n/13)),b},M.prototype.ireduce=function(b){var E=b,I;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),I=E.bitLength();while(I>this.n);var F=I<this.n?-1:E.ucmp(this.p);return F===0?(E.words[0]=0,E.length=1):F>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},M.prototype.split=function(b,E){b.iushrn(this.n,0,E)},M.prototype.imulK=function(b){return b.imul(this.k)};function k(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(k,M),k.prototype.split=function(b,E){for(var I=4194303,F=Math.min(b.length,9),$=0;$<F;$++)E.words[$]=b.words[$];if(E.length=F,b.length<=9){b.words[0]=0,b.length=1;return}var B=b.words[9];for(E.words[E.length++]=B&I,$=10;$<b.length;$++){var j=b.words[$]|0;b.words[$-10]=(j&I)<<4|B>>>22,B=j}B>>>=22,b.words[$-10]=B,B===0&&b.length>10?b.length-=10:b.length-=9},k.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var E=0,I=0;I<b.length;I++){var F=b.words[I]|0;E+=F*977,b.words[I]=E&67108863,E=F*64+(E/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function N(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(N,M);function U(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(U,M);function D(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(D,M),D.prototype.imulK=function(b){for(var E=0,I=0;I<b.length;I++){var F=(b.words[I]|0)*19+E,$=F&67108863;F>>>=26,b.words[I]=$,E=F}return E!==0&&(b.words[b.length++]=E),b},o._prime=function(b){if(x[b])return x[b];var E;if(b==="k256")E=new k;else if(b==="p224")E=new N;else if(b==="p192")E=new U;else if(b==="p25519")E=new D;else throw new Error("Unknown prime "+b);return x[b]=E,E};function O(A){if(typeof A=="string"){var b=o._prime(A);this.m=b.p,this.prime=b}else n(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}O.prototype._verify1=function(b){n(b.negative===0,"red works only with positives"),n(b.red,"red works only with red numbers")},O.prototype._verify2=function(b,E){n((b.negative|E.negative)===0,"red works only with positives"),n(b.red&&b.red===E.red,"red works only with red numbers")},O.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(u(b,b.umod(this.m)._forceRed(this)),b)},O.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},O.prototype.add=function(b,E){this._verify2(b,E);var I=b.add(E);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},O.prototype.iadd=function(b,E){this._verify2(b,E);var I=b.iadd(E);return I.cmp(this.m)>=0&&I.isub(this.m),I},O.prototype.sub=function(b,E){this._verify2(b,E);var I=b.sub(E);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},O.prototype.isub=function(b,E){this._verify2(b,E);var I=b.isub(E);return I.cmpn(0)<0&&I.iadd(this.m),I},O.prototype.shl=function(b,E){return this._verify1(b),this.imod(b.ushln(E))},O.prototype.imul=function(b,E){return this._verify2(b,E),this.imod(b.imul(E))},O.prototype.mul=function(b,E){return this._verify2(b,E),this.imod(b.mul(E))},O.prototype.isqr=function(b){return this.imul(b,b.clone())},O.prototype.sqr=function(b){return this.mul(b,b)},O.prototype.sqrt=function(b){if(b.isZero())return b.clone();var E=this.m.andln(3);if(n(E%2===1),E===3){var I=this.m.add(new o(1)).iushrn(2);return this.pow(b,I)}for(var F=this.m.subn(1),$=0;!F.isZero()&&F.andln(1)===0;)$++,F.iushrn(1);n(!F.isZero());var B=new o(1).toRed(this),j=B.redNeg(),R=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new o(2*_*_).toRed(this);this.pow(_,R).cmp(j)!==0;)_.redIAdd(j);for(var C=this.pow(_,F),H=this.pow(b,F.addn(1).iushrn(1)),P=this.pow(b,F),T=$;P.cmp(B)!==0;){for(var z=P,q=0;z.cmp(B)!==0;q++)z=z.redSqr();n(q<T);var W=this.pow(C,new o(1).iushln(T-q-1));H=H.redMul(W),C=W.redSqr(),P=P.redMul(C),T=q}return H},O.prototype.invm=function(b){var E=b._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},O.prototype.pow=function(b,E){if(E.isZero())return new o(1).toRed(this);if(E.cmpn(1)===0)return b.clone();var I=4,F=new Array(1<<I);F[0]=new o(1).toRed(this),F[1]=b;for(var $=2;$<F.length;$++)F[$]=this.mul(F[$-1],b);var B=F[0],j=0,R=0,_=E.bitLength()%26;for(_===0&&(_=26),$=E.length-1;$>=0;$--){for(var C=E.words[$],H=_-1;H>=0;H--){var P=C>>H&1;if(B!==F[0]&&(B=this.sqr(B)),P===0&&j===0){R=0;continue}j<<=1,j|=P,R++,!(R!==I&&($!==0||H!==0))&&(B=this.mul(B,F[j]),R=0,j=0)}_=26}return B},O.prototype.convertTo=function(b){var E=b.umod(this.m);return E===b?E.clone():E},O.prototype.convertFrom=function(b){var E=b.clone();return E.red=null,E},o.mont=function(b){return new L(b)};function L(A){O.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(L,O),L.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},L.prototype.convertFrom=function(b){var E=this.imod(b.mul(this.rinv));return E.red=null,E},L.prototype.imul=function(b,E){if(b.isZero()||E.isZero())return b.words[0]=0,b.length=1,b;var I=b.imul(E),F=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=I.isub(F).iushrn(this.shift),B=$;return $.cmp(this.m)>=0?B=$.isub(this.m):$.cmpn(0)<0&&(B=$.iadd(this.m)),B._forceRed(this)},L.prototype.mul=function(b,E){if(b.isZero()||E.isZero())return new o(0)._forceRed(this);var I=b.mul(E),F=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=I.isub(F).iushrn(this.shift),B=$;return $.cmp(this.m)>=0?B=$.isub(this.m):$.cmpn(0)<0&&(B=$.iadd(this.m)),B._forceRed(this)},L.prototype.invm=function(b){var E=this.imod(b._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(t,oe)})(tN);const Be=Uv,iN="logger/5.7.0";let Hw=!1,Vw=!1;const Gf={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ww=Gf.default,Bm=null;function oN(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const Gw=oN();var zv;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(zv||(zv={}));var Gn;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Gn||(Gn={}));const Kw="0123456789abcdef";let ue=class{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Gf[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Ww>Gf[n])&&console.log.apply(console,r)}debug(...e){this._log(ue.levels.DEBUG,e)}info(...e){this._log(ue.levels.INFO,e)}warn(...e){this._log(ue.levels.WARNING,e)}makeError(e,r,n){if(Vw)return this.makeError("censored error",r,{});r||(r=ue.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=Kw[l[f]>>4],u+=Kw[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const o=e;let s="";switch(r){case Gn.NUMERIC_FAULT:{s="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":s+="-"+c;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Gn.CALL_EXCEPTION:case Gn.INSUFFICIENT_FUNDS:case Gn.MISSING_NEW:case Gn.NONCE_EXPIRED:case Gn.REPLACEMENT_UNDERPRICED:case Gn.TRANSACTION_REPLACED:case Gn.UNPREDICTABLE_GAS_LIMIT:s=r;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ue.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Gw&&this.throwError("platform missing String.prototype.normalize",ue.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Gw})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ue.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ue.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ue.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ue.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ue.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ue.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ue.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Bm||(Bm=new ue(iN)),Bm}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ue.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Hw){if(!e)return;this.globalLogger().throwError("error censorship permanent",ue.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Vw=!!e,Hw=!!r}static setLogLevel(e){const r=Gf[e.toLowerCase()];if(r==null){ue.globalLogger().warn("invalid log level - "+e);return}Ww=r}static from(e){return new ue(e)}};ue.errors=Gn;ue.levels=zv;const sN="bytes/5.7.0",Wt=new ue(sN);function _P(t){return!!t.toHexString}function Va(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Va(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function qy(t){return Pt(t)&&!(t.length%2)||Ph(t)}function Qw(t){return typeof t=="number"&&t==t&&t%1===0}function Ph(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Qw(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Qw(r)||r<0||r>=256)return!1}return!0}function Ue(t,e){if(e||(e={}),typeof t=="number"){Wt.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Va(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),_P(t)&&(t=t.toHexString()),Pt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Wt.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Va(new Uint8Array(n))}return Ph(t)?Va(new Uint8Array(t)):Wt.throwArgumentError("invalid arrayify value","value",t)}function ws(t){const e=t.map(i=>Ue(i)),r=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(r);return e.reduce((i,o)=>(n.set(o,i),i+o.length),0),Va(n)}function ol(t){let e=Ue(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function aN(t,e){t=Ue(t),t.length>e&&Wt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Va(r)}function Pt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const $m="0123456789abcdef";function Fe(t,e){if(e||(e={}),typeof t=="number"){Wt.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=$m[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),_P(t))return t.toHexString();if(Pt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Wt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Ph(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=$m[(i&240)>>4]+$m[i&15]}return r}return Wt.throwArgumentError("invalid hexlify value","value",t)}function Ms(t){if(typeof t!="string")t=Fe(t);else if(!Pt(t)||t.length%2)return null;return(t.length-2)/2}function Lr(t,e,r){return typeof t!="string"?t=Fe(t):(!Pt(t)||t.length%2)&&Wt.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function on(t){let e="0x";return t.forEach(r=>{e+=Fe(r).substring(2)}),e}function Hy(t){const e=lN(Fe(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function lN(t){typeof t!="string"&&(t=Fe(t)),Pt(t)||Wt.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function tr(t,e){for(typeof t!="string"?t=Fe(t):Pt(t)||Wt.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Wt.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Ah(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(qy(t)){let r=Ue(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Fe(r.slice(0,32)),e.s=Fe(r.slice(32,64))):r.length===65?(e.r=Fe(r.slice(0,32)),e.s=Fe(r.slice(32,64)),e.v=r[64]):Wt.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Wt.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Fe(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=aN(Ue(e._vs),32);e._vs=Fe(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&Wt.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=Fe(i);e.s==null?e.s=s:e.s!==s&&Wt.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Wt.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Wt.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Pt(e.r)?Wt.throwArgumentError("signature missing or invalid r","signature",t):e.r=tr(e.r,32),e.s==null||!Pt(e.s)?Wt.throwArgumentError("signature missing or invalid s","signature",t):e.s=tr(e.s,32);const r=Ue(e.s);r[0]>=128&&Wt.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Fe(r);e._vs&&(Pt(e._vs)||Wt.throwArgumentError("signature invalid _vs","signature",t),e._vs=tr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Wt.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const cN="bignumber/5.7.0";var zd=Be.BN;const qi=new ue(cN),Fm={},Jw=9007199254740991;let Yw=!1;class ke{constructor(e,r){e!==Fm&&qi.throwError("cannot call constructor directly; use BigNumber.from",ue.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ur(We(this).fromTwos(e))}toTwos(e){return Ur(We(this).toTwos(e))}abs(){return this._hex[0]==="-"?ke.from(this._hex.substring(1)):this}add(e){return Ur(We(this).add(We(e)))}sub(e){return Ur(We(this).sub(We(e)))}div(e){return ke.from(e).isZero()&&gn("division-by-zero","div"),Ur(We(this).div(We(e)))}mul(e){return Ur(We(this).mul(We(e)))}mod(e){const r=We(e);return r.isNeg()&&gn("division-by-zero","mod"),Ur(We(this).umod(r))}pow(e){const r=We(e);return r.isNeg()&&gn("negative-power","pow"),Ur(We(this).pow(r))}and(e){const r=We(e);return(this.isNegative()||r.isNeg())&&gn("unbound-bitwise-result","and"),Ur(We(this).and(r))}or(e){const r=We(e);return(this.isNegative()||r.isNeg())&&gn("unbound-bitwise-result","or"),Ur(We(this).or(r))}xor(e){const r=We(e);return(this.isNegative()||r.isNeg())&&gn("unbound-bitwise-result","xor"),Ur(We(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&gn("negative-width","mask"),Ur(We(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&gn("negative-width","shl"),Ur(We(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&gn("negative-width","shr"),Ur(We(this).shrn(e))}eq(e){return We(this).eq(We(e))}lt(e){return We(this).lt(We(e))}lte(e){return We(this).lte(We(e))}gt(e){return We(this).gt(We(e))}gte(e){return We(this).gte(We(e))}isNegative(){return this._hex[0]==="-"}isZero(){return We(this).isZero()}toNumber(){try{return We(this).toNumber()}catch{gn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return qi.throwError("this platform does not support BigInt",ue.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Yw||(Yw=!0,qi.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?qi.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ue.errors.UNEXPECTED_ARGUMENT,{}):qi.throwError("BigNumber.toString does not accept parameters",ue.errors.UNEXPECTED_ARGUMENT,{})),We(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ke)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ke(Fm,Zc(e)):e.match(/^-?[0-9]+$/)?new ke(Fm,Zc(new zd(e))):qi.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&gn("underflow","BigNumber.from",e),(e>=Jw||e<=-Jw)&&gn("overflow","BigNumber.from",e),ke.from(String(e));const r=e;if(typeof r=="bigint")return ke.from(r.toString());if(Ph(r))return ke.from(Fe(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ke.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Pt(n)||n[0]==="-"&&Pt(n.substring(1))))return ke.from(n)}return qi.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Zc(t){if(typeof t!="string")return Zc(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&qi.throwArgumentError("invalid hex","value",t),t=Zc(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ur(t){return ke.from(Zc(t))}function We(t){const e=ke.from(t).toHexString();return e[0]==="-"?new zd("-"+e.substring(3),16):new zd(e.substring(2),16)}function gn(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),qi.throwError(t,ue.errors.NUMERIC_FAULT,n)}function uN(t){return new zd(t,36).toString(16)}const fN="properties/5.7.0";var dN=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const qd=new ue(fN);function tt(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function uc(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function br(t){return dN(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function hN(t,e){(!t||typeof t!="object")&&qd.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||qd.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Hr(t){const e={};for(const r in t)e[r]=t[r];return e}const pN={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function SP(t){if(t==null||pN[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!SP(n))return!1}return!0}return qd.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function mN(t){if(SP(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Ns(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&tt(e,r,Ns(n))}return e}return qd.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Ns(t){return mN(t)}class gN{constructor(e){for(const r in e)this[r]=Ns(e[r])}}var qv={},vN={get exports(){return qv},set exports(t){qv=t}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=oe:o&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],d=[1,256,65536,16777216],h=[6,1536,393216,100663296],p=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],g=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],S={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(P){return Object.prototype.toString.call(P)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(P){return typeof P=="object"&&P.buffer&&P.buffer.constructor===ArrayBuffer});for(var w=function(P,T,z){return function(q){return new _(P,T,P).update(q)[z]()}},x=function(P,T,z){return function(q,W){return new _(P,T,W).update(q)[z]()}},M=function(P,T,z){return function(q,W,K,X){return b["cshake"+P].update(q,W,K,X)[z]()}},k=function(P,T,z){return function(q,W,K,X){return b["kmac"+P].update(q,W,K,X)[z]()}},N=function(P,T,z,q){for(var W=0;W<v.length;++W){var K=v[W];P[K]=T(z,q,K)}return P},U=function(P,T){var z=w(P,T,"hex");return z.create=function(){return new _(P,T,P)},z.update=function(q){return z.create().update(q)},N(z,w,P,T)},D=function(P,T){var z=x(P,T,"hex");return z.create=function(q){return new _(P,T,q)},z.update=function(q,W){return z.create(W).update(q)},N(z,x,P,T)},O=function(P,T){var z=S[P],q=M(P,T,"hex");return q.create=function(W,K,X){return!K&&!X?b["shake"+P].create(W):new _(P,T,W).bytepad([K,X],z)},q.update=function(W,K,X,Z){return q.create(K,X,Z).update(W)},N(q,M,P,T)},L=function(P,T){var z=S[P],q=k(P,T,"hex");return q.create=function(W,K,X){return new C(P,T,K).bytepad(["KMAC",X],z).bytepad([W],z)},q.update=function(W,K,X,Z){return q.create(W,X,Z).update(K)},N(q,k,P,T)},A=[{name:"keccak",padding:d,bits:y,createMethod:U},{name:"sha3",padding:h,bits:y,createMethod:U},{name:"shake",padding:u,bits:g,createMethod:D},{name:"cshake",padding:f,bits:g,createMethod:O},{name:"kmac",padding:f,bits:g,createMethod:L}],b={},E=[],I=0;I<A.length;++I)for(var F=A[I],$=F.bits,B=0;B<$.length;++B){var j=F.name+"_"+$[B];if(E.push(j),b[j]=F.createMethod($[B],F.padding),F.name!=="sha3"){var R=F.name+$[B];E.push(R),b[R]=b[j]}}function _(P,T,z){this.blocks=[],this.s=[],this.padding=T,this.outputBits=z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(P<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=z>>5,this.extraBytes=(z&31)>>3;for(var q=0;q<50;++q)this.s[q]=0}_.prototype.update=function(P){if(this.finalized)throw new Error(r);var T,z=typeof P;if(z!=="string"){if(z==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);T=!0}for(var q=this.blocks,W=this.byteCount,K=P.length,X=this.blockCount,Z=0,ge=this.s,le,pe;Z<K;){if(this.reset)for(this.reset=!1,q[0]=this.block,le=1;le<X+1;++le)q[le]=0;if(T)for(le=this.start;Z<K&&le<W;++Z)q[le>>2]|=P[Z]<<p[le++&3];else for(le=this.start;Z<K&&le<W;++Z)pe=P.charCodeAt(Z),pe<128?q[le>>2]|=pe<<p[le++&3]:pe<2048?(q[le>>2]|=(192|pe>>6)<<p[le++&3],q[le>>2]|=(128|pe&63)<<p[le++&3]):pe<55296||pe>=57344?(q[le>>2]|=(224|pe>>12)<<p[le++&3],q[le>>2]|=(128|pe>>6&63)<<p[le++&3],q[le>>2]|=(128|pe&63)<<p[le++&3]):(pe=65536+((pe&1023)<<10|P.charCodeAt(++Z)&1023),q[le>>2]|=(240|pe>>18)<<p[le++&3],q[le>>2]|=(128|pe>>12&63)<<p[le++&3],q[le>>2]|=(128|pe>>6&63)<<p[le++&3],q[le>>2]|=(128|pe&63)<<p[le++&3]);if(this.lastByteIndex=le,le>=W){for(this.start=le-W,this.block=q[X],le=0;le<X;++le)ge[le]^=q[le];H(ge),this.reset=!0}else this.start=le}return this},_.prototype.encode=function(P,T){var z=P&255,q=1,W=[z];for(P=P>>8,z=P&255;z>0;)W.unshift(z),P=P>>8,z=P&255,++q;return T?W.push(q):W.unshift(q),this.update(W),W.length},_.prototype.encodeString=function(P){var T,z=typeof P;if(z!=="string"){if(z==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);T=!0}var q=0,W=P.length;if(T)q=W;else for(var K=0;K<P.length;++K){var X=P.charCodeAt(K);X<128?q+=1:X<2048?q+=2:X<55296||X>=57344?q+=3:(X=65536+((X&1023)<<10|P.charCodeAt(++K)&1023),q+=4)}return q+=this.encode(q*8),this.update(P),q},_.prototype.bytepad=function(P,T){for(var z=this.encode(T),q=0;q<P.length;++q)z+=this.encodeString(P[q]);var W=T-z%T,K=[];return K.length=W,this.update(K),this},_.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var P=this.blocks,T=this.lastByteIndex,z=this.blockCount,q=this.s;if(P[T>>2]|=this.padding[T&3],this.lastByteIndex===this.byteCount)for(P[0]=P[z],T=1;T<z+1;++T)P[T]=0;for(P[z-1]|=2147483648,T=0;T<z;++T)q[T]^=P[T];H(q)}},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var P=this.blockCount,T=this.s,z=this.outputBlocks,q=this.extraBytes,W=0,K=0,X="",Z;K<z;){for(W=0;W<P&&K<z;++W,++K)Z=T[W],X+=l[Z>>4&15]+l[Z&15]+l[Z>>12&15]+l[Z>>8&15]+l[Z>>20&15]+l[Z>>16&15]+l[Z>>28&15]+l[Z>>24&15];K%P===0&&(H(T),W=0)}return q&&(Z=T[W],X+=l[Z>>4&15]+l[Z&15],q>1&&(X+=l[Z>>12&15]+l[Z>>8&15]),q>2&&(X+=l[Z>>20&15]+l[Z>>16&15])),X},_.prototype.arrayBuffer=function(){this.finalize();var P=this.blockCount,T=this.s,z=this.outputBlocks,q=this.extraBytes,W=0,K=0,X=this.outputBits>>3,Z;q?Z=new ArrayBuffer(z+1<<2):Z=new ArrayBuffer(X);for(var ge=new Uint32Array(Z);K<z;){for(W=0;W<P&&K<z;++W,++K)ge[K]=T[W];K%P===0&&H(T)}return q&&(ge[W]=T[W],Z=Z.slice(0,X)),Z},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var P=this.blockCount,T=this.s,z=this.outputBlocks,q=this.extraBytes,W=0,K=0,X=[],Z,ge;K<z;){for(W=0;W<P&&K<z;++W,++K)Z=K<<2,ge=T[W],X[Z]=ge&255,X[Z+1]=ge>>8&255,X[Z+2]=ge>>16&255,X[Z+3]=ge>>24&255;K%P===0&&H(T)}return q&&(Z=K<<2,ge=T[W],X[Z]=ge&255,q>1&&(X[Z+1]=ge>>8&255),q>2&&(X[Z+2]=ge>>16&255)),X};function C(P,T,z){_.call(this,P,T,z)}C.prototype=new _,C.prototype.finalize=function(){return this.encode(this.outputBits,!0),_.prototype.finalize.call(this)};var H=function(P){var T,z,q,W,K,X,Z,ge,le,pe,Oe,Se,ee,ie,se,he,fe,_e,ce,Q,te,ne,re,J,ae,me,xe,we,ut,Re,Ce,nr,He,at,mn,ft,ot,Dn,$e,Ve,Ir,dt,vt,Bi,xt,Xe,Ln,_t,Et,is,Tt,Ct,os,Ot,Mt,ss,Nt,It,po,mo,go,vo,yo;for(q=0;q<48;q+=2)W=P[0]^P[10]^P[20]^P[30]^P[40],K=P[1]^P[11]^P[21]^P[31]^P[41],X=P[2]^P[12]^P[22]^P[32]^P[42],Z=P[3]^P[13]^P[23]^P[33]^P[43],ge=P[4]^P[14]^P[24]^P[34]^P[44],le=P[5]^P[15]^P[25]^P[35]^P[45],pe=P[6]^P[16]^P[26]^P[36]^P[46],Oe=P[7]^P[17]^P[27]^P[37]^P[47],Se=P[8]^P[18]^P[28]^P[38]^P[48],ee=P[9]^P[19]^P[29]^P[39]^P[49],T=Se^(X<<1|Z>>>31),z=ee^(Z<<1|X>>>31),P[0]^=T,P[1]^=z,P[10]^=T,P[11]^=z,P[20]^=T,P[21]^=z,P[30]^=T,P[31]^=z,P[40]^=T,P[41]^=z,T=W^(ge<<1|le>>>31),z=K^(le<<1|ge>>>31),P[2]^=T,P[3]^=z,P[12]^=T,P[13]^=z,P[22]^=T,P[23]^=z,P[32]^=T,P[33]^=z,P[42]^=T,P[43]^=z,T=X^(pe<<1|Oe>>>31),z=Z^(Oe<<1|pe>>>31),P[4]^=T,P[5]^=z,P[14]^=T,P[15]^=z,P[24]^=T,P[25]^=z,P[34]^=T,P[35]^=z,P[44]^=T,P[45]^=z,T=ge^(Se<<1|ee>>>31),z=le^(ee<<1|Se>>>31),P[6]^=T,P[7]^=z,P[16]^=T,P[17]^=z,P[26]^=T,P[27]^=z,P[36]^=T,P[37]^=z,P[46]^=T,P[47]^=z,T=pe^(W<<1|K>>>31),z=Oe^(K<<1|W>>>31),P[8]^=T,P[9]^=z,P[18]^=T,P[19]^=z,P[28]^=T,P[29]^=z,P[38]^=T,P[39]^=z,P[48]^=T,P[49]^=z,ie=P[0],se=P[1],Xe=P[11]<<4|P[10]>>>28,Ln=P[10]<<4|P[11]>>>28,we=P[20]<<3|P[21]>>>29,ut=P[21]<<3|P[20]>>>29,mo=P[31]<<9|P[30]>>>23,go=P[30]<<9|P[31]>>>23,dt=P[40]<<18|P[41]>>>14,vt=P[41]<<18|P[40]>>>14,at=P[2]<<1|P[3]>>>31,mn=P[3]<<1|P[2]>>>31,he=P[13]<<12|P[12]>>>20,fe=P[12]<<12|P[13]>>>20,_t=P[22]<<10|P[23]>>>22,Et=P[23]<<10|P[22]>>>22,Re=P[33]<<13|P[32]>>>19,Ce=P[32]<<13|P[33]>>>19,vo=P[42]<<2|P[43]>>>30,yo=P[43]<<2|P[42]>>>30,Ot=P[5]<<30|P[4]>>>2,Mt=P[4]<<30|P[5]>>>2,ft=P[14]<<6|P[15]>>>26,ot=P[15]<<6|P[14]>>>26,_e=P[25]<<11|P[24]>>>21,ce=P[24]<<11|P[25]>>>21,is=P[34]<<15|P[35]>>>17,Tt=P[35]<<15|P[34]>>>17,nr=P[45]<<29|P[44]>>>3,He=P[44]<<29|P[45]>>>3,J=P[6]<<28|P[7]>>>4,ae=P[7]<<28|P[6]>>>4,ss=P[17]<<23|P[16]>>>9,Nt=P[16]<<23|P[17]>>>9,Dn=P[26]<<25|P[27]>>>7,$e=P[27]<<25|P[26]>>>7,Q=P[36]<<21|P[37]>>>11,te=P[37]<<21|P[36]>>>11,Ct=P[47]<<24|P[46]>>>8,os=P[46]<<24|P[47]>>>8,Bi=P[8]<<27|P[9]>>>5,xt=P[9]<<27|P[8]>>>5,me=P[18]<<20|P[19]>>>12,xe=P[19]<<20|P[18]>>>12,It=P[29]<<7|P[28]>>>25,po=P[28]<<7|P[29]>>>25,Ve=P[38]<<8|P[39]>>>24,Ir=P[39]<<8|P[38]>>>24,ne=P[48]<<14|P[49]>>>18,re=P[49]<<14|P[48]>>>18,P[0]=ie^~he&_e,P[1]=se^~fe&ce,P[10]=J^~me&we,P[11]=ae^~xe&ut,P[20]=at^~ft&Dn,P[21]=mn^~ot&$e,P[30]=Bi^~Xe&_t,P[31]=xt^~Ln&Et,P[40]=Ot^~ss&It,P[41]=Mt^~Nt&po,P[2]=he^~_e&Q,P[3]=fe^~ce&te,P[12]=me^~we&Re,P[13]=xe^~ut&Ce,P[22]=ft^~Dn&Ve,P[23]=ot^~$e&Ir,P[32]=Xe^~_t&is,P[33]=Ln^~Et&Tt,P[42]=ss^~It&mo,P[43]=Nt^~po&go,P[4]=_e^~Q&ne,P[5]=ce^~te&re,P[14]=we^~Re&nr,P[15]=ut^~Ce&He,P[24]=Dn^~Ve&dt,P[25]=$e^~Ir&vt,P[34]=_t^~is&Ct,P[35]=Et^~Tt&os,P[44]=It^~mo&vo,P[45]=po^~go&yo,P[6]=Q^~ne&ie,P[7]=te^~re&se,P[16]=Re^~nr&J,P[17]=Ce^~He&ae,P[26]=Ve^~dt&at,P[27]=Ir^~vt&mn,P[36]=is^~Ct&Bi,P[37]=Tt^~os&xt,P[46]=mo^~vo&Ot,P[47]=go^~yo&Mt,P[8]=ne^~ie&he,P[9]=re^~se&fe,P[18]=nr^~J&me,P[19]=He^~ae&xe,P[28]=dt^~at&ft,P[29]=vt^~mn&ot,P[38]=Ct^~Bi&Xe,P[39]=os^~xt&Ln,P[48]=vo^~Ot&ss,P[49]=yo^~Mt&Nt,P[0]^=m[q],P[1]^=m[q+1]};if(a)t.exports=b;else for(I=0;I<E.length;++I)i[E[I]]=b[E[I]]})()})(vN);const yN=qv;function Sr(t){return"0x"+yN.keccak_256(Ue(t))}const bN="rlp/5.7.0",vi=new ue(bN);function Xw(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Zw(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function xP(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(o){n=n.concat(xP(o))}),n.length<=55)return n.unshift(192+n.length),n;const i=Xw(n.length);return i.unshift(247+i.length),i.concat(n)}qy(t)||vi.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Ue(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Xw(e.length);return r.unshift(183+r.length),r.concat(e)}function kh(t){return Fe(xP(t))}function e_(t,e,r,n){const i=[];for(;r<e+1+n;){const o=EP(t,r);i.push(o.result),r+=o.consumed,r>e+1+n&&vi.throwError("child data too short",ue.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function EP(t,e){if(t.length===0&&vi.throwError("data too short",ue.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&vi.throwError("data short segment too short",ue.errors.BUFFER_OVERRUN,{});const n=Zw(t,e+1,r);return e+1+r+n>t.length&&vi.throwError("data long segment too short",ue.errors.BUFFER_OVERRUN,{}),e_(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&vi.throwError("data array too short",ue.errors.BUFFER_OVERRUN,{}),e_(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&vi.throwError("data array too short",ue.errors.BUFFER_OVERRUN,{});const n=Zw(t,e+1,r);e+1+r+n>t.length&&vi.throwError("data array too short",ue.errors.BUFFER_OVERRUN,{});const i=Fe(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&vi.throwError("data too short",ue.errors.BUFFER_OVERRUN,{});const n=Fe(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Fe(t[e])}}function Vy(t){const e=Ue(t),r=EP(e,0);return r.consumed!==e.length&&vi.throwArgumentError("invalid rlp data","data",t),r.result}const wN="address/5.7.0",La=new ue(wN);function t_(t){Pt(t,20)||La.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Ue(Sr(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const _N=9007199254740991;function SN(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const Wy={};for(let t=0;t<10;t++)Wy[String(t)]=String(t);for(let t=0;t<26;t++)Wy[String.fromCharCode(65+t)]=String(10+t);const r_=Math.floor(SN(_N));function xN(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Wy[n]).join("");for(;e.length>=r_;){let n=e.substring(0,r_);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function ti(t){let e=null;if(typeof t!="string"&&La.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=t_(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&La.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==xN(t)&&La.throwArgumentError("bad icap checksum","address",t),e=uN(t.substring(4));e.length<40;)e="0"+e;e=t_("0x"+e)}else La.throwArgumentError("invalid address","address",t);return e}function EN(t){let e=null;try{e=ti(t.from)}catch{La.throwArgumentError("missing from address","transaction",t)}const r=ol(Ue(ke.from(t.nonce).toHexString()));return ti(Lr(Sr(kh([e,r])),12))}const RN="0x0000000000000000000000000000000000000000",PN=ke.from(0),AN="0x0000000000000000000000000000000000000000000000000000000000000000",kN="strings/5.7.0",RP=new ue(kN);var eu;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(eu||(eu={}));var rn;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(rn||(rn={}));function TN(t,e,r,n,i){return RP.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function PP(t,e,r,n,i){if(t===rn.BAD_PREFIX||t===rn.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)o++;return o}return t===rn.OVERRUN?r.length-e-1:0}function CN(t,e,r,n,i){return t===rn.OVERLONG?(n.push(i),0):(n.push(65533),PP(t,e,r))}const ON=Object.freeze({error:TN,ignore:PP,replace:CN});function AP(t,e){e==null&&(e=ON.error),t=Ue(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?n+=e(rn.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(rn.BAD_PREFIX,n-1,t,r);continue}if(n-1+o>=t.length){n+=e(rn.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let l=t[n];if((l&192)!=128){n+=e(rn.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(rn.OUT_OF_RANGE,n-1-o,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(rn.UTF16_SURROGATE,n-1-o,t,r,a);continue}if(a<=s){n+=e(rn.OVERLONG,n-1-o,t,r,a);continue}r.push(a)}}return r}function io(t,e=eu.current){e!=eu.current&&(RP.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const o=t.charCodeAt(n);if(n>=t.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(o&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Ue(r)}function MN(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Th(t,e){return MN(AP(t,e))}function NN(t,e=eu.current){return AP(io(t,e))}function kP(t){return Sr(io(t))}const TP="hash/5.7.0";function CP(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Ue(e)}function OP(t){t=Ue(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function MP(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(o,s){n.call(o,function(a){s>0&&Array.isArray(a)?i(a,s-1):r.push(a)})};return i(t,e),r}function IN(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function DN(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let x=1;x<n;x++)o.push(i+=r());let s=r(),a=e;e+=s;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,d=Math.pow(2,f),h=d>>>1,p=h>>1,m=d-1;let y=0;for(let x=0;x<f;x++)y=y<<1|u();let g=[],v=0,S=d;for(;;){let x=Math.floor(((y-v+1)*i-1)/S),M=0,k=n;for(;k-M>1;){let D=M+k>>>1;x<o[D]?k=D:M=D}if(M==0)break;g.push(M);let N=v+Math.floor(S*o[M]/i),U=v+Math.floor(S*o[M+1]/i)-1;for(;!((N^U)&h);)y=y<<1&m|u(),N=N<<1&m,U=U<<1&m|1;for(;N&~U&p;)y=y&h|y<<1&m>>>1|u(),N=N<<1^h,U=(U^h)<<1|h|1;v=N,S=1+U-N}let w=n-4;return g.map(x=>{switch(x-w){case 3:return w+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return w+256+(t[a++]<<8|t[a++]);case 1:return w+t[a++];default:return x-1}})}function LN(t){let e=0;return()=>t[e++]}function BN(t){return LN(DN(t))}function $N(t){return t&1?~t>>1:t>>1}function FN(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function n_(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function jN(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=$N(e());return r}function Hd(t,e){let r=n_(t(),t),n=t(),i=n_(n,t),o=FN(n,t);for(let s=0;s<n;s++)for(let a=0;a<o[s];a++)r.push(i[s]+a);return e?r.map(s=>e[s]):r}function UN(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(qN(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(HN(r,t))}return IN(MP(e))}function zN(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function NP(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)jN(t,r).forEach((o,s)=>n[s].push(o));return n}function qN(t,e){let r=1+e(),n=e(),i=zN(e),o=NP(i.length,1+t,e);return MP(o.map((s,a)=>{const c=s[0],l=s.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let d=f*n;return[c+f*r,l.map(h=>h+d)]})}))}function HN(t,e){let r=1+e();return NP(r,1+t,e).map(i=>[i[0],i.slice(1)])}function VN(t){let e=Hd(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=Hd(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:o,fe0f:s,save:a,check:c}}}function WN(){return BN(CP("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Ch=WN(),GN=new Set(Hd(Ch)),KN=new Set(Hd(Ch)),QN=UN(Ch),JN=VN(Ch),i_=45,o_=95;function IP(t){return NN(t)}function YN(t){return t.filter(e=>e!=65039)}function DP(t){for(let e of t.split(".")){let r=IP(e);try{for(let n=r.lastIndexOf(o_)-1;n>=0;n--)if(r[n]!==o_)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===i_&&r[3]===i_)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function XN(t){return DP(ZN(t,YN))}function ZN(t,e){let r=IP(t).reverse(),n=[];for(;r.length;){let i=tI(r);if(i){n.push(...e(i));continue}let o=r.pop();if(GN.has(o)){n.push(o);continue}if(KN.has(o))continue;let s=QN[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return DP(eI(String.fromCodePoint(...n)))}function eI(t){return t.normalize("NFC")}function tI(t,e){var r;let n=JN,i,o,s=[],a=t.length;for(e&&(e.length=0);a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)o=c;else if(n.check&&c===o)break;s.push(c),n.fe0f&&(s.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return i}const rI=new ue(TP),LP=new Uint8Array(32);LP.fill(0);function s_(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function BP(t){const e=io(XN(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(s_(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(s_(e.slice(n))),r}function Kf(t){typeof t!="string"&&rI.throwArgumentError("invalid ENS name; not a string","name",t);let e=LP;const r=BP(t);for(;r.length;)e=Sr(ws([e,Sr(r.pop())]));return Fe(e)}function nI(t){return Fe(ws(BP(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}var iI=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Ft=new ue(TP),$P=new Uint8Array(32);$P.fill(0);const oI=ke.from(-1),FP=ke.from(0),jP=ke.from(1),sI=ke.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function aI(t){const e=Ue(t),r=e.length%32;return r?on([e,$P.slice(r)]):Fe(e)}const lI=tr(jP.toHexString(),32),cI=tr(FP.toHexString(),32),a_={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},jm=["name","version","chainId","verifyingContract","salt"];function l_(t){return function(e){return typeof e!="string"&&Ft.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const uI={name:l_("name"),version:l_("version"),chainId:function(t){try{return ke.from(t).toString()}catch{}return Ft.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ti(t).toLowerCase()}catch{}return Ft.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Ue(t);if(e.length!==32)throw new Error("bad length");return Fe(e)}catch{}return Ft.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Um(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Ft.throwArgumentError("invalid numeric width","type",t);const i=sI.mask(r?n-1:n),o=r?i.add(jP).mul(oI):FP;return function(s){const a=ke.from(s);return(a.lt(o)||a.gt(i))&&Ft.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),tr(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Ft.throwArgumentError("invalid bytes width","type",t),function(n){return Ue(n).length!==r&&Ft.throwArgumentError(`invalid length for ${t}`,"value",n),aI(n)}}}switch(t){case"address":return function(e){return tr(ti(e),32)};case"bool":return function(e){return e?lI:cI};case"bytes":return function(e){return Sr(e)};case"string":return function(e){return kP(e)}}return null}function c_(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class en{constructor(e){tt(this,"types",Object.freeze(Ns(e))),tt(this,"_encoderCache",{}),tt(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&Ft.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Ft.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!Um(u)&&(n[u]||Ft.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const o=Object.keys(n).filter(a=>n[a].length===0);o.length===0?Ft.throwArgumentError("missing primary type","types",e):o.length>1&&Ft.throwArgumentError(`ambiguous primary types or unused types: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),tt(this,"primaryType",o[0]);function s(a,c){c[a]&&Ft.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(s(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}s(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=c_(a,e[a])+c.map(l=>c_(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Um(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],o=this.getEncoder(i),s=parseInt(r[3]);return a=>{s>=0&&a.length!==s&&Ft.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(o);return this._types[i]&&(c=c.map(Sr)),Sr(on(c))}}const n=this.types[e];if(n){const i=kP(this._types[e]);return o=>{const s=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(o[a]);return this._types[c]?Sr(l):l});return s.unshift(i),on(s)}}return Ft.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Ft.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Sr(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Um(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Ft.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(s,c,n))}const o=this.types[e];return o?o.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,r[a],n),s),{}):Ft.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new en(e)}static getPrimaryType(e){return en.from(e).primaryType}static hashStruct(e,r,n){return en.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=a_[n];i||Ft.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>jm.indexOf(n.name)-jm.indexOf(i.name)),en.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return on(["0x1901",en.hashDomain(e),en.from(r).hash(n)])}static hash(e,r,n){return Sr(en.encode(e,r,n))}static resolveNames(e,r,n,i){return iI(this,void 0,void 0,function*(){e=Hr(e);const o={};e.verifyingContract&&!Pt(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=en.from(r);s.visit(n,(a,c)=>(a==="address"&&!Pt(c,20)&&(o[c]="0x"),c));for(const a in o)o[a]=yield i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(a,c)=>a==="address"&&o[c]?o[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){en.hashDomain(e);const i={},o=[];jm.forEach(c=>{const l=e[c];l!=null&&(i[c]=uI[c](l),o.push({name:c,type:a_[c]}))});const s=en.from(r),a=Hr(r);return a.EIP712Domain?Ft.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=o,s.encode(n),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return Fe(Ue(l));if(c.match(/^u?int/))return ke.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&Ft.throwArgumentError("invalid string","value",l),l}return Ft.throwArgumentError("unsupported type","type",c)})}}}const fI="abstract-provider/5.7.0";var dI=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const hI=new ue(fI);class pI extends gN{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Gy{constructor(){hI.checkAbstract(new.target,Gy),tt(this,"_isProvider",!0)}getFeeData(){return dI(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield br({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,i=null,o=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,o=ke.from("1500000000"),i=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const mI="abstract-signer/5.7.0";var $n=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Fn=new ue(mI),gI=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],vI=[ue.errors.INSUFFICIENT_FUNDS,ue.errors.NONCE_EXPIRED,ue.errors.REPLACEMENT_UNDERPRICED];class Ky{constructor(){Fn.checkAbstract(new.target,Ky),tt(this,"_isSigner",!0)}getBalance(e){return $n(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return $n(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return $n(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield br(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return $n(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield br(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return $n(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return $n(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return $n(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return $n(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return $n(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)gI.indexOf(n)===-1&&Fn.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Hr(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Fn.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return $n(this,void 0,void 0,function*(){const r=yield br(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>$n(this,void 0,void 0,function*(){if(i==null)return null;const o=yield this.resolveName(i);return o==null&&Fn.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Fn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Fn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Fn.throwError("network does not support EIP-1559",ue.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Fn.throwError("failed to get consistent fee data",ue.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(vI.indexOf(i.code)>=0)throw i;return Fn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ue.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Fn.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield br(r)})}_checkProvider(e){this.provider||Fn.throwError("missing provider",ue.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}var UP={},Ye={},yu=zP;function zP(t,e){if(!t)throw new Error(e||"Assertion failed")}zP.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Hv={},u_={get exports(){return Hv},set exports(t){Hv=t}};typeof Object.create=="function"?u_.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:u_.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var yI=yu,bI=Hv;Ye.inherits=bI;function wI(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function _I(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):wI(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Ye.toArray=_I;function SI(t){for(var e="",r=0;r<t.length;r++)e+=HP(t[r].toString(16));return e}Ye.toHex=SI;function qP(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ye.htonl=qP;function xI(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=qP(i)),r+=VP(i.toString(16))}return r}Ye.toHex32=xI;function HP(t){return t.length===1?"0"+t:t}Ye.zero2=HP;function VP(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ye.zero8=VP;function EI(t,e,r,n){var i=r-e;yI(i%4===0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var c;n==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=c>>>0}return o}Ye.join32=EI;function RI(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];e==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}Ye.split32=RI;function PI(t,e){return t>>>e|t<<32-e}Ye.rotr32=PI;function AI(t,e){return t<<e|t>>>32-e}Ye.rotl32=AI;function kI(t,e){return t+e>>>0}Ye.sum32=kI;function TI(t,e,r){return t+e+r>>>0}Ye.sum32_3=TI;function CI(t,e,r,n){return t+e+r+n>>>0}Ye.sum32_4=CI;function OI(t,e,r,n,i){return t+e+r+n+i>>>0}Ye.sum32_5=OI;function MI(t,e,r,n){var i=t[e],o=t[e+1],s=n+o>>>0,a=(s<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=s}Ye.sum64=MI;function NI(t,e,r,n){var i=e+n>>>0,o=(i<e?1:0)+t+r;return o>>>0}Ye.sum64_hi=NI;function II(t,e,r,n){var i=e+n;return i>>>0}Ye.sum64_lo=II;function DI(t,e,r,n,i,o,s,a){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+o>>>0,c+=l<o?1:0,l=l+a>>>0,c+=l<a?1:0;var u=t+r+i+s+c;return u>>>0}Ye.sum64_4_hi=DI;function LI(t,e,r,n,i,o,s,a){var c=e+n+o+a;return c>>>0}Ye.sum64_4_lo=LI;function BI(t,e,r,n,i,o,s,a,c,l){var u=0,f=e;f=f+n>>>0,u+=f<e?1:0,f=f+o>>>0,u+=f<o?1:0,f=f+a>>>0,u+=f<a?1:0,f=f+l>>>0,u+=f<l?1:0;var d=t+r+i+s+c+u;return d>>>0}Ye.sum64_5_hi=BI;function $I(t,e,r,n,i,o,s,a,c,l){var u=e+n+o+a+l;return u>>>0}Ye.sum64_5_lo=$I;function FI(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ye.rotr64_hi=FI;function jI(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ye.rotr64_lo=jI;function UI(t,e,r){return t>>>r}Ye.shr64_hi=UI;function zI(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ye.shr64_lo=zI;var Sl={},f_=Ye,qI=yu;function Oh(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Sl.BlockHash=Oh;Oh.prototype.update=function(e,r){if(e=f_.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=f_.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Oh.prototype.digest=function(e){return this.update(this._pad()),qI(this.pending===null),this._digest(e)};Oh.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i};var xl={},Di={},HI=Ye,Pi=HI.rotr32;function VI(t,e,r,n){if(t===0)return WP(e,r,n);if(t===1||t===3)return KP(e,r,n);if(t===2)return GP(e,r,n)}Di.ft_1=VI;function WP(t,e,r){return t&e^~t&r}Di.ch32=WP;function GP(t,e,r){return t&e^t&r^e&r}Di.maj32=GP;function KP(t,e,r){return t^e^r}Di.p32=KP;function WI(t){return Pi(t,2)^Pi(t,13)^Pi(t,22)}Di.s0_256=WI;function GI(t){return Pi(t,6)^Pi(t,11)^Pi(t,25)}Di.s1_256=GI;function KI(t){return Pi(t,7)^Pi(t,18)^t>>>3}Di.g0_256=KI;function QI(t){return Pi(t,17)^Pi(t,19)^t>>>10}Di.g1_256=QI;var sl=Ye,JI=Sl,YI=Di,zm=sl.rotl32,zl=sl.sum32,XI=sl.sum32_5,ZI=YI.ft_1,QP=JI.BlockHash,e4=[1518500249,1859775393,2400959708,3395469782];function Ci(){if(!(this instanceof Ci))return new Ci;QP.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}sl.inherits(Ci,QP);var t4=Ci;Ci.blockSize=512;Ci.outSize=160;Ci.hmacStrength=80;Ci.padLength=64;Ci.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=zm(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),f=XI(zm(o,5),ZI(u,s,a,c),l,n[i],e4[u]);l=c,c=a,a=zm(s,30),s=o,o=f}this.h[0]=zl(this.h[0],o),this.h[1]=zl(this.h[1],s),this.h[2]=zl(this.h[2],a),this.h[3]=zl(this.h[3],c),this.h[4]=zl(this.h[4],l)};Ci.prototype._digest=function(e){return e==="hex"?sl.toHex32(this.h,"big"):sl.split32(this.h,"big")};var al=Ye,r4=Sl,El=Di,n4=yu,jn=al.sum32,i4=al.sum32_4,o4=al.sum32_5,s4=El.ch32,a4=El.maj32,l4=El.s0_256,c4=El.s1_256,u4=El.g0_256,f4=El.g1_256,JP=r4.BlockHash,d4=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Oi(){if(!(this instanceof Oi))return new Oi;JP.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=d4,this.W=new Array(64)}al.inherits(Oi,JP);var YP=Oi;Oi.blockSize=512;Oi.outSize=256;Oi.hmacStrength=192;Oi.padLength=64;Oi.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=i4(f4(n[i-2]),n[i-7],u4(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],f=this.h[6],d=this.h[7];for(n4(this.k.length===n.length),i=0;i<n.length;i++){var h=o4(d,c4(l),s4(l,u,f),this.k[i],n[i]),p=jn(l4(o),a4(o,s,a));d=f,f=u,u=l,l=jn(c,h),c=a,a=s,s=o,o=jn(h,p)}this.h[0]=jn(this.h[0],o),this.h[1]=jn(this.h[1],s),this.h[2]=jn(this.h[2],a),this.h[3]=jn(this.h[3],c),this.h[4]=jn(this.h[4],l),this.h[5]=jn(this.h[5],u),this.h[6]=jn(this.h[6],f),this.h[7]=jn(this.h[7],d)};Oi.prototype._digest=function(e){return e==="hex"?al.toHex32(this.h,"big"):al.split32(this.h,"big")};var Vv=Ye,XP=YP;function oo(){if(!(this instanceof oo))return new oo;XP.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Vv.inherits(oo,XP);var h4=oo;oo.blockSize=512;oo.outSize=224;oo.hmacStrength=192;oo.padLength=64;oo.prototype._digest=function(e){return e==="hex"?Vv.toHex32(this.h.slice(0,7),"big"):Vv.split32(this.h.slice(0,7),"big")};var Qr=Ye,p4=Sl,m4=yu,Ai=Qr.rotr64_hi,ki=Qr.rotr64_lo,ZP=Qr.shr64_hi,eA=Qr.shr64_lo,wo=Qr.sum64,qm=Qr.sum64_hi,Hm=Qr.sum64_lo,g4=Qr.sum64_4_hi,v4=Qr.sum64_4_lo,y4=Qr.sum64_5_hi,b4=Qr.sum64_5_lo,tA=p4.BlockHash,w4=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ri(){if(!(this instanceof ri))return new ri;tA.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w4,this.W=new Array(160)}Qr.inherits(ri,tA);var rA=ri;ri.blockSize=1024;ri.outSize=512;ri.hmacStrength=192;ri.padLength=128;ri.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var o=O4(n[i-4],n[i-3]),s=M4(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],l=T4(n[i-30],n[i-29]),u=C4(n[i-30],n[i-29]),f=n[i-32],d=n[i-31];n[i]=g4(o,s,a,c,l,u,f,d),n[i+1]=v4(o,s,a,c,l,u,f,d)}};ri.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],f=this.h[7],d=this.h[8],h=this.h[9],p=this.h[10],m=this.h[11],y=this.h[12],g=this.h[13],v=this.h[14],S=this.h[15];m4(this.k.length===n.length);for(var w=0;w<n.length;w+=2){var x=v,M=S,k=A4(d,h),N=k4(d,h),U=_4(d,h,p,m,y),D=S4(d,h,p,m,y,g),O=this.k[w],L=this.k[w+1],A=n[w],b=n[w+1],E=y4(x,M,k,N,U,D,O,L,A,b),I=b4(x,M,k,N,U,D,O,L,A,b);x=R4(i,o),M=P4(i,o),k=x4(i,o,s,a,c),N=E4(i,o,s,a,c,l);var F=qm(x,M,k,N),$=Hm(x,M,k,N);v=y,S=g,y=p,g=m,p=d,m=h,d=qm(u,f,E,I),h=Hm(f,f,E,I),u=c,f=l,c=s,l=a,s=i,a=o,i=qm(E,I,F,$),o=Hm(E,I,F,$)}wo(this.h,0,i,o),wo(this.h,2,s,a),wo(this.h,4,c,l),wo(this.h,6,u,f),wo(this.h,8,d,h),wo(this.h,10,p,m),wo(this.h,12,y,g),wo(this.h,14,v,S)};ri.prototype._digest=function(e){return e==="hex"?Qr.toHex32(this.h,"big"):Qr.split32(this.h,"big")};function _4(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function S4(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function x4(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function E4(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function R4(t,e){var r=Ai(t,e,28),n=Ai(e,t,2),i=Ai(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function P4(t,e){var r=ki(t,e,28),n=ki(e,t,2),i=ki(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function A4(t,e){var r=Ai(t,e,14),n=Ai(t,e,18),i=Ai(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function k4(t,e){var r=ki(t,e,14),n=ki(t,e,18),i=ki(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function T4(t,e){var r=Ai(t,e,1),n=Ai(t,e,8),i=ZP(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function C4(t,e){var r=ki(t,e,1),n=ki(t,e,8),i=eA(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function O4(t,e){var r=Ai(t,e,19),n=Ai(e,t,29),i=ZP(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}function M4(t,e){var r=ki(t,e,19),n=ki(e,t,29),i=eA(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}var Wv=Ye,nA=rA;function so(){if(!(this instanceof so))return new so;nA.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Wv.inherits(so,nA);var N4=so;so.blockSize=1024;so.outSize=384;so.hmacStrength=192;so.padLength=128;so.prototype._digest=function(e){return e==="hex"?Wv.toHex32(this.h.slice(0,12),"big"):Wv.split32(this.h.slice(0,12),"big")};xl.sha1=t4;xl.sha224=h4;xl.sha256=YP;xl.sha384=N4;xl.sha512=rA;var iA={},Is=Ye,I4=Sl,af=Is.rotl32,d_=Is.sum32,ql=Is.sum32_3,h_=Is.sum32_4,oA=I4.BlockHash;function Mi(){if(!(this instanceof Mi))return new Mi;oA.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Is.inherits(Mi,oA);iA.ripemd160=Mi;Mi.blockSize=512;Mi.outSize=160;Mi.hmacStrength=192;Mi.padLength=64;Mi.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=n,l=i,u=o,f=s,d=a,h=0;h<80;h++){var p=d_(af(h_(n,p_(h,i,o,s),e[B4[h]+r],D4(h)),F4[h]),a);n=a,a=s,s=af(o,10),o=i,i=p,p=d_(af(h_(c,p_(79-h,l,u,f),e[$4[h]+r],L4(h)),j4[h]),d),c=d,d=f,f=af(u,10),u=l,l=p}p=ql(this.h[1],o,f),this.h[1]=ql(this.h[2],s,d),this.h[2]=ql(this.h[3],a,c),this.h[3]=ql(this.h[4],n,l),this.h[4]=ql(this.h[0],i,u),this.h[0]=p};Mi.prototype._digest=function(e){return e==="hex"?Is.toHex32(this.h,"little"):Is.split32(this.h,"little")};function p_(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function D4(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function L4(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var B4=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],$4=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],F4=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j4=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],U4=Ye,z4=yu;function ll(t,e,r){if(!(this instanceof ll))return new ll(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(U4.toArray(e,r))}var q4=ll;ll.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),z4(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};ll.prototype.update=function(e,r){return this.inner.update(e,r),this};ll.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Ye,e.common=Sl,e.sha=xl,e.ripemd=iA,e.hmac=q4,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(UP);const gi=UP;function Rl(t,e,r){return r={path:e,exports:{},require:function(n,i){return H4(n,i??r.path)}},t(r,r.exports),r.exports}function H4(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Qy=sA;function sA(t,e){if(!t)throw new Error(e||"Assertion failed")}sA.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Yn=Rl(function(t,e){var r=e;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var l=0;l<s.length;l++)c[l]=s[l]|0;return c}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var l=0;l<s.length;l+=2)c.push(parseInt(s[l]+s[l+1],16))}else for(var l=0;l<s.length;l++){var u=s.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function o(s){for(var a="",c=0;c<s.length;c++)a+=i(s[c].toString(16));return a}r.toHex=o,r.encode=function(a,c){return c==="hex"?o(a):a}}),hn=Rl(function(t,e){var r=e;r.assert=Qy,r.toArray=Yn.toArray,r.zero2=Yn.zero2,r.toHex=Yn.toHex,r.encode=Yn.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1);f.fill(0);for(var d=1<<l+1,h=c.clone(),p=0;p<f.length;p++){var m,y=h.andln(d-1);h.isOdd()?(y>(d>>1)-1?m=(d>>1)-y:m=y,h.isubn(m)):m=0,f[p]=m,h.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var p=c.andln(3)+f&3,m=l.andln(3)+d&3;p===3&&(p=-1),m===3&&(m=-1);var y;p&1?(h=c.andln(7)+f&7,(h===3||h===5)&&m===2?y=-p:y=p):y=0,u[0].push(y);var g;m&1?(h=l.andln(7)+d&7,(h===3||h===5)&&p===2?g=-m:g=m):g=0,u[1].push(g),2*f===y+1&&(f=1-f),2*d===g+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function o(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=o;function s(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=s;function a(c){return new Be(c,"hex","le")}r.intFromLE=a}),Vd=hn.getNAF,V4=hn.getJSF,Wd=hn.assert;function ns(t,e){this.type=t,this.p=new Be(e.p,16),this.red=e.prime?Be.red(e.prime):Be.mont(this.p),this.zero=new Be(0).toRed(this.red),this.one=new Be(1).toRed(this.red),this.two=new Be(2).toRed(this.red),this.n=e.n&&new Be(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var zs=ns;ns.prototype.point=function(){throw new Error("Not implemented")};ns.prototype.validate=function(){throw new Error("Not implemented")};ns.prototype._fixedNafMul=function(e,r){Wd(e.precomputed);var n=e._getDoubles(),i=Vd(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];s.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=o;d>0;d--){for(a=0;a<s.length;a++)c=s[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};ns.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=Vd(r,n,this._bitLength),a=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var l=0;c>=0&&s[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=s[c];Wd(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(o[u-1>>1]):a=a.mixedAdd(o[-u-1>>1].neg()):u>0?a=a.add(o[u-1>>1]):a=a.add(o[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};ns.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);s[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var p=u-1,m=u;if(s[p]!==1||s[m]!==1){c[p]=Vd(n[p],s[p],this._bitLength),c[m]=Vd(n[m],s[m],this._bitLength),l=Math.max(c[p].length,l),l=Math.max(c[m].length,l);continue}var y=[r[p],null,null,r[m]];r[p].y.cmp(r[m].y)===0?(y[1]=r[p].add(r[m]),y[2]=r[p].toJ().mixedAdd(r[m].neg())):r[p].y.cmp(r[m].y.redNeg())===0?(y[1]=r[p].toJ().mixedAdd(r[m]),y[2]=r[p].add(r[m].neg())):(y[1]=r[p].toJ().mixedAdd(r[m]),y[2]=r[p].toJ().mixedAdd(r[m].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=V4(n[p],n[m]);for(l=Math.max(v[0].length,l),c[p]=new Array(l),c[m]=new Array(l),f=0;f<l;f++){var S=v[0][f]|0,w=v[1][f]|0;c[p][f]=g[(S+1)*3+(w+1)],c[m][f]=0,a[p]=y}}var x=this.jpoint(null,null,null),M=this._wnafT4;for(u=l;u>=0;u--){for(var k=0;u>=0;){var N=!0;for(f=0;f<i;f++)M[f]=c[f][u]|0,M[f]!==0&&(N=!1);if(!N)break;k++,u--}if(u>=0&&k++,x=x.dblp(k),u<0)break;for(f=0;f<i;f++){var U=M[f];U!==0&&(U>0?d=a[f][U-1>>1]:U<0&&(d=a[f][-U-1>>1].neg()),d.type==="affine"?x=x.mixedAdd(d):x=x.add(d))}}for(u=0;u<i;u++)a[u]=null;return o?x:x.toP()};function Tn(t,e){this.curve=t,this.type=e,this.precomputed=null}ns.BasePoint=Tn;Tn.prototype.eq=function(){throw new Error("Not implemented")};Tn.prototype.validate=function(){return this.curve.validate(this)};ns.prototype.decodePoint=function(e,r){e=hn.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Wd(e[e.length-1]%2===0):e[0]===7&&Wd(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Tn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Tn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Tn.prototype.encode=function(e,r){return hn.encode(this._encode(r),e)};Tn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Tn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Tn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Tn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};Tn.prototype._getBeta=function(){return null};Tn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Jy=Rl(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),W4=hn.assert;function Cn(t){zs.call(this,"short",t),this.a=new Be(t.a,16).toRed(this.red),this.b=new Be(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Jy(Cn,zs);var G4=Cn;Cn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Be(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Be(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],W4(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new Be(a.a,16),b:new Be(a.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Cn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Be.mont(e),n=new Be(2).toRed(r).redInvm(),i=n.redNeg(),o=new Be(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]};Cn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new Be(1),s=new Be(0),a=new Be(0),c=new Be(1),l,u,f,d,h,p,m,y=0,g,v;n.cmpn(0)!==0;){var S=i.div(n);g=i.sub(S.mul(n)),v=a.sub(S.mul(o));var w=c.sub(S.mul(s));if(!f&&g.cmp(r)<0)l=m.neg(),u=o,f=g.neg(),d=v;else if(f&&++y===2)break;m=g,i=n,n=g,a=o,o=v,c=s,s=w}h=g.neg(),p=v;var x=f.sqr().add(d.sqr()),M=h.sqr().add(p.sqr());return M.cmp(x)>=0&&(h=l,p=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),p=p.neg()),[{a:f,b:d},{a:h,b:p}]};Cn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=o.mul(n.a),c=s.mul(i.a),l=o.mul(n.b),u=s.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};Cn.prototype.pointFromX=function(e,r){e=new Be(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};Cn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Cn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(r[s]),c=e[s],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[s*2]=c,i[s*2+1]=l,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,o,s*2,n),f=0;f<s*2;f++)i[f]=null,o[f]=null;return u};function pr(t,e,r,n){zs.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Be(e,16),this.y=new Be(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Jy(pr,zs.BasePoint);Cn.prototype.point=function(e,r,n){return new pr(this,e,r,n)};Cn.prototype.pointFromJSON=function(e,r){return pr.fromJSON(this,e,r)};pr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};pr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};pr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(a){return e.point(a[0],a[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};pr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};pr.prototype.isInfinity=function(){return this.inf};pr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};pr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};pr.prototype.getX=function(){return this.x.fromRed()};pr.prototype.getY=function(){return this.y.fromRed()};pr.prototype.mul=function(e){return e=new Be(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};pr.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};pr.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};pr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};pr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};pr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Rr(t,e,r,n){zs.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Be(0)):(this.x=new Be(e,16),this.y=new Be(r,16),this.z=new Be(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Jy(Rr,zs.BasePoint);Cn.prototype.jpoint=function(e,r,n){return new Rr(this,e,r,n)};Rr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Rr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Rr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(o),l=s.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),p=l.redMul(d.redISub(h)).redISub(s.redMul(f)),m=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,p,m)};Rr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=o.redSub(s);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(o.redMul(u)),p=this.z.redMul(a);return this.curve.jpoint(d,h,p)};Rr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=s.redSqr(),d=u.redSqr(),h=d.redSqr(),p=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),m=s.redMul(d),y=p.redSqr().redISub(m.redAdd(m)),g=m.redISub(y),v=p.redMul(g);v=v.redIAdd(v).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),s=y,c=S,u=v}return this.curve.jpoint(s,u.redMul(o),c)};Rr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Rr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(f).redISub(h);p=p.redIAdd(p);var m=f.redAdd(f).redIAdd(f),y=m.redSqr(),g=h.redIAdd(h);g=g.redIAdd(g),g=g.redIAdd(g),e=y.redISub(p).redISub(p),r=m.redMul(p.redISub(e)).redISub(g),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Rr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),p=this.x.redSub(f).redMul(this.x.redAdd(f));p=p.redAdd(p).redIAdd(p);var m=h.redIAdd(h);m=m.redIAdd(m);var y=m.redAdd(m);e=p.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var g=d.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g),r=p.redMul(m.redISub(e)).redISub(g)}return this.curve.jpoint(e,r,n)};Rr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),a=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=c.redMul(d).redISub(h),m=n.redAdd(n).redMul(i);return this.curve.jpoint(f,p,m)};Rr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=o.redIAdd(a).redSqr().redISub(s).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,p)};Rr.prototype.mul=function(e,r){return e=new Be(e,r),this.curve._wnafMul(this,e)};Rr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Rr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Rr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Rr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Qf=Rl(function(t,e){var r=e;r.base=zs,r.short=G4,r.mont=null,r.edwards=null}),Jf=Rl(function(t,e){var r=e,n=hn.assert;function i(a){a.type==="short"?this.curve=new Qf.short(a):a.type==="edwards"?this.curve=new Qf.edwards(a):this.curve=new Qf.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function o(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:gi.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:gi.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:gi.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:gi.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:gi.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gi.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gi.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:gi.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Xo(t){if(!(this instanceof Xo))return new Xo(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Yn.toArray(t.entropy,t.entropyEnc||"hex"),r=Yn.toArray(t.nonce,t.nonceEnc||"hex"),n=Yn.toArray(t.pers,t.persEnc||"hex");Qy(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var aA=Xo;Xo.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Xo.prototype._hmac=function(){return new gi.hmac(this.hash,this.K)};Xo.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Xo.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Yn.toArray(e,r),n=Yn.toArray(n,i),Qy(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Xo.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Yn.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Yn.encode(s,r)};var Gv=hn.assert;function Mr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Yy=Mr;Mr.fromPublic=function(e,r,n){return r instanceof Mr?r:new Mr(e,{pub:r,pubEnc:n})};Mr.fromPrivate=function(e,r,n){return r instanceof Mr?r:new Mr(e,{priv:r,privEnc:n})};Mr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Mr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Mr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Mr.prototype._importPrivate=function(e,r){this.priv=new Be(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Mr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Gv(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Gv(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Mr.prototype.derive=function(e){return e.validate()||Gv(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Mr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Mr.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Mr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var K4=hn.assert;function Mh(t,e){if(t instanceof Mh)return t;this._importDER(t,e)||(K4(t.r&&t.s,"Signature without r or s"),this.r=new Be(t.r,16),this.s=new Be(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Nh=Mh;function Q4(){this.place=0}function Vm(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function m_(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Mh.prototype._importDER=function(e,r){e=hn.toArray(e,r);var n=new Q4;if(e[n.place++]!==48)return!1;var i=Vm(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=Vm(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var a=Vm(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Be(s),this.s=new Be(c),this.recoveryParam=null,!0};function Wm(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Mh.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=m_(r),n=m_(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Wm(i,r.length),i=i.concat(r),i.push(2),Wm(i,n.length);var o=i.concat(n),s=[48];return Wm(s,o.length),s=s.concat(o),hn.encode(s,e)};var J4=function(){throw new Error("unsupported")},lA=hn.assert;function Pn(t){if(!(this instanceof Pn))return new Pn(t);typeof t=="string"&&(lA(Object.prototype.hasOwnProperty.call(Jf,t),"Unknown curve "+t),t=Jf[t]),t instanceof Jf.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Y4=Pn;Pn.prototype.keyPair=function(e){return new Yy(this,e)};Pn.prototype.keyFromPrivate=function(e,r){return Yy.fromPrivate(this,e,r)};Pn.prototype.keyFromPublic=function(e,r){return Yy.fromPublic(this,e,r)};Pn.prototype.genKeyPair=function(e){e||(e={});for(var r=new aA({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||J4(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Be(2));;){var o=new Be(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Pn.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Pn.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Be(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),a=e.toArray("be",o),c=new aA({hash:this.hash,entropy:s,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new Be(1)),u=0;;u++){var f=i.k?i.k(u):new Be(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var h=d.getX(),p=h.umod(this.n);if(p.cmpn(0)!==0){var m=f.invm(this.n).mul(p.mul(r.getPrivate()).iadd(e));if(m=m.umod(this.n),m.cmpn(0)!==0){var y=(d.getY().isOdd()?1:0)|(h.cmp(p)!==0?2:0);return i.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new Nh({r:p,s:m,recoveryParam:y})}}}}}};Pn.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Be(e,16)),n=this.keyFromPublic(n,i),r=new Nh(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(o).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(o)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(o)===0)};Pn.prototype.recoverPubKey=function(t,e,r,n){lA((3&r)===r,"The recovery param is more than two bits"),e=new Nh(e,n);var i=this.n,o=new Be(t),s=e.r,a=e.s,c=r&1,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var u=e.r.invm(i),f=i.sub(o).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,s,d)};Pn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Nh(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var X4=Rl(function(t,e){var r=e;r.version="6.5.4",r.utils=hn,r.rand=function(){throw new Error("unsupported")},r.curve=Qf,r.curves=Jf,r.ec=Y4,r.eddsa=null}),Z4=X4.ec;const eD="signing-key/5.7.0",Kv=new ue(eD);let Gm=null;function yi(){return Gm||(Gm=new Z4("secp256k1")),Gm}class tD{constructor(e){tt(this,"curve","secp256k1"),tt(this,"privateKey",Fe(e)),Ms(this.privateKey)!==32&&Kv.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=yi().keyFromPrivate(Ue(this.privateKey));tt(this,"publicKey","0x"+r.getPublic(!1,"hex")),tt(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),tt(this,"_isSigningKey",!0)}_addPoint(e){const r=yi().keyFromPublic(Ue(this.publicKey)),n=yi().keyFromPublic(Ue(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=yi().keyFromPrivate(Ue(this.privateKey)),n=Ue(e);n.length!==32&&Kv.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Ah({recoveryParam:i.recoveryParam,r:tr("0x"+i.r.toString(16),32),s:tr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=yi().keyFromPrivate(Ue(this.privateKey)),n=yi().keyFromPublic(Ue(cA(e)));return tr("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function rD(t,e){const r=Ah(e),n={r:Ue(r.r),s:Ue(r.s)};return"0x"+yi().recoverPubKey(Ue(t),n,r.recoveryParam).encode("hex",!1)}function cA(t,e){const r=Ue(t);if(r.length===32){const n=new tD(r);return e?"0x"+yi().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?Fe(r):"0x"+yi().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+yi().keyFromPublic(r).getPublic(!0,"hex"):Fe(r)}return Kv.throwArgumentError("invalid public or private key","key","[REDACTED]")}const nD="transactions/5.7.0",fo=new ue(nD);var g_;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(g_||(g_={}));function Xy(t){return t==="0x"?null:ti(t)}function Or(t){return t==="0x"?PN:ke.from(t)}function iD(t){const e=cA(t);return ti(Lr(Sr(Lr(e,1)),12))}function uA(t,e){return iD(rD(Ue(t),e))}function nn(t,e){const r=ol(ke.from(t).toHexString());return r.length>32&&fo.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Km(t,e){return{address:ti(t),storageKeys:(e||[]).map((r,n)=>(Ms(r)!==32&&fo.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function bu(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&fo.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Km(r[0],r[1])):Km(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return Km(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function fA(t){return bu(t).map(e=>[e.address,e.storageKeys])}function oD(t,e){if(t.gasPrice!=null){const n=ke.from(t.gasPrice),i=ke.from(t.maxFeePerGas||0);n.eq(i)||fo.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[nn(t.chainId||0,"chainId"),nn(t.nonce||0,"nonce"),nn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),nn(t.maxFeePerGas||0,"maxFeePerGas"),nn(t.gasLimit||0,"gasLimit"),t.to!=null?ti(t.to):"0x",nn(t.value||0,"value"),t.data||"0x",fA(t.accessList||[])];if(e){const n=Ah(e);r.push(nn(n.recoveryParam,"recoveryParam")),r.push(ol(n.r)),r.push(ol(n.s))}return on(["0x02",kh(r)])}function sD(t,e){const r=[nn(t.chainId||0,"chainId"),nn(t.nonce||0,"nonce"),nn(t.gasPrice||0,"gasPrice"),nn(t.gasLimit||0,"gasLimit"),t.to!=null?ti(t.to):"0x",nn(t.value||0,"value"),t.data||"0x",fA(t.accessList||[])];if(e){const n=Ah(e);r.push(nn(n.recoveryParam,"recoveryParam")),r.push(ol(n.r)),r.push(ol(n.s))}return on(["0x01",kh(r)])}function dA(t,e,r){try{const n=Or(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{fo.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=tr(e[1],32),t.s=tr(e[2],32);try{const n=Sr(r(t));t.from=uA(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function aD(t){const e=Vy(t.slice(1));e.length!==9&&e.length!==12&&fo.throwArgumentError("invalid component count for transaction type: 2","payload",Fe(t));const r=Or(e[2]),n=Or(e[3]),i={type:2,chainId:Or(e[0]).toNumber(),nonce:Or(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Or(e[4]),to:Xy(e[5]),value:Or(e[6]),data:e[7],accessList:bu(e[8])};return e.length===9||(i.hash=Sr(t),dA(i,e.slice(9),oD)),i}function lD(t){const e=Vy(t.slice(1));e.length!==8&&e.length!==11&&fo.throwArgumentError("invalid component count for transaction type: 1","payload",Fe(t));const r={type:1,chainId:Or(e[0]).toNumber(),nonce:Or(e[1]).toNumber(),gasPrice:Or(e[2]),gasLimit:Or(e[3]),to:Xy(e[4]),value:Or(e[5]),data:e[6],accessList:bu(e[7])};return e.length===8||(r.hash=Sr(t),dA(r,e.slice(8),sD)),r}function cD(t){const e=Vy(t);e.length!==9&&e.length!==6&&fo.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Or(e[0]).toNumber(),gasPrice:Or(e[1]),gasLimit:Or(e[2]),to:Xy(e[3]),value:Or(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=ke.from(e[6]).toNumber()}catch{return r}if(r.r=tr(e[7],32),r.s=tr(e[8],32),ke.from(r.r).isZero()&&ke.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(Fe(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const o=Sr(kh(i));try{r.from=uA(o,{r:Fe(r.r),s:Fe(r.s),recoveryParam:n})}catch{}r.hash=Sr(t)}return r.type=null,r}function uD(t){const e=Ue(t);if(e[0]>127)return cD(e);switch(e[0]){case 1:return lD(e);case 2:return aD(e)}return fo.throwError(`unsupported transaction type: ${e[0]}`,ue.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}class hA{constructor(e){tt(this,"alphabet",e),tt(this,"base",e.length),tt(this,"_alphabetMap",{}),tt(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Ue(e);if(r.length===0)return"";let n=[0];for(let o=0;o<r.length;++o){let s=r[o];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;r[o]===0&&o<r.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<r.length;++s)o+=r[s]*this.base,r[s]=o&255,o>>=8;for(;o>0;)r.push(o&255),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Ue(new Uint8Array(r.reverse()))}}new hA("abcdefghijklmnopqrstuvwxyz234567");const Qv=new hA("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),fD="sha2/5.7.0";new ue(fD);function v_(t){return"0x"+gi.sha256().update(Ue(t)).digest("hex")}const dD="networks/5.7.1",y_=new ue(dD);function hD(t){return t&&typeof t.renetwork=="function"}function Wi(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const o=["goerli","ropsten","rinkeby","sepolia"];try{const s=new r.PocketProvider(t,n.pocket);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const o=["ropsten"],s=new r.AnkrProvider(t,n.ankr);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let o=1;return n.quorum!=null?o=n.quorum:t==="homestead"&&(o=2),new r.FallbackProvider(i,o)}return i[0]};return e.renetwork=function(r){return Wi(r)},e}function Gd(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Gd(t,n)},r}const b_={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Wi("homestead")},w_={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Wi("ropsten")},__={chainId:63,name:"classicMordor",_defaultProvider:Gd("https://www.ethercluster.com/mordor","classicMordor")},lf={unspecified:{chainId:0,name:"unspecified"},homestead:b_,mainnet:b_,morden:{chainId:2,name:"morden"},ropsten:w_,testnet:w_,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Wi("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Wi("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Wi("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Wi("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Gd("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:__,classicTestnet:__,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Gd("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Wi("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Wi("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function pD(t){if(t==null)return null;if(typeof t=="number"){for(const n in lf){const i=lf[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=lf[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=lf[t.name];if(!e)return typeof t.chainId!="number"&&y_.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&y_.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(hD(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const mD="web/5.7.1";var gD=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function vD(t,e){return gD(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(r.mode=s.mode),s.cache&&(r.cache=s.cache),s.credentials&&(r.credentials=s.credentials),s.redirect&&(r.redirect=s.redirect),s.referrer&&(r.referrer=s.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((s,a)=>{o[a.toLowerCase()]=s}):n.headers.keys().forEach(s=>{o[s.toLowerCase()]=n.headers.get(s)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:Ue(new Uint8Array(i))}})}var yD=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Hn=new ue(mD);function S_(t){return new Promise(e=>{setTimeout(e,t)})}function _o(t,e){if(t==null)return null;if(typeof t=="string")return t;if(qy(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Th(t)}catch{}return Fe(t)}return t}function bD(t){return io(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function wD(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Hn.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,o=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Hn.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,f=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Hn.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const g in t.headers)a[g.toLowerCase()]={key:g,value:String(t.headers[g])},["if-none-match","if-modified-since"].indexOf(g.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Hn.throwError("basic authentication requires a secure https url",ue.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const g=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+OP(io(g))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=Hr(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(d):null;if(h)try{const g={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?CP(h[3]):bD(h[3])};let v=g.body;return r&&(v=r(g.body,g)),Promise.resolve(v)}catch(g){Hn.throwError("processing response error",ue.errors.SERVER_ERROR,{body:_o(h[1],h[2]),error:g,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach(g=>{const v=a[g];p[v.key]=v.value}),l.headers=p;const m=function(){let g=null;return{promise:new Promise(function(w,x){f&&(g=setTimeout(()=>{g!=null&&(g=null,x(Hn.makeError("timeout",ue.errors.TIMEOUT,{requestBody:_o(l.body,p["content-type"]),requestMethod:l.method,timeout:f,url:c})))},f))}),cancel:function(){g!=null&&(clearTimeout(g),g=null)}}}(),y=function(){return yD(this,void 0,void 0,function*(){for(let g=0;g<n;g++){let v=null;try{if(v=yield vD(c,l),g<n){if(v.statusCode===301||v.statusCode===302){const w=v.headers.location||"";if(l.method==="GET"&&w.match(/^https:/)){c=v.headers.location;continue}}else if(v.statusCode===429){let w=!0;if(i&&(w=yield i(g,c)),w){let x=0;const M=v.headers["retry-after"];typeof M=="string"&&M.match(/^[1-9][0-9]*$/)?x=parseInt(M)*1e3:x=o*parseInt(String(Math.random()*Math.pow(2,g))),yield S_(x);continue}}}}catch(w){v=w.response,v==null&&(m.cancel(),Hn.throwError("missing response",ue.errors.SERVER_ERROR,{requestBody:_o(l.body,p["content-type"]),requestMethod:l.method,serverError:w,url:c}))}let S=v.body;if(u&&v.statusCode===304?S=null:!s&&(v.statusCode<200||v.statusCode>=300)&&(m.cancel(),Hn.throwError("bad response",ue.errors.SERVER_ERROR,{status:v.statusCode,headers:v.headers,body:_o(S,v.headers?v.headers["content-type"]:null),requestBody:_o(l.body,p["content-type"]),requestMethod:l.method,url:c})),r)try{const w=yield r(S,v);return m.cancel(),w}catch(w){if(w.throttleRetry&&g<n){let x=!0;if(i&&(x=yield i(g,c)),x){const M=o*parseInt(String(Math.random()*Math.pow(2,g)));yield S_(M);continue}}m.cancel(),Hn.throwError("processing response error",ue.errors.SERVER_ERROR,{body:_o(S,v.headers?v.headers["content-type"]:null),error:w,requestBody:_o(l.body,p["content-type"]),requestMethod:l.method,url:c})}return m.cancel(),S}return Hn.throwError("failed response",ue.errors.SERVER_ERROR,{requestBody:_o(l.body,p["content-type"]),requestMethod:l.method,url:c})})}();return Promise.race([m.promise,y])}function Zy(t,e,r){let n=(o,s)=>{let a=null;if(o!=null)try{a=JSON.parse(Th(o))}catch(c){Hn.throwError("invalid JSON",ue.errors.SERVER_ERROR,{body:o,error:c})}return r&&(a=r(a,s)),a},i=null;if(e!=null){i=io(e);const o=typeof t=="string"?{url:t}:Hr(t);o.headers?Object.keys(o.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(o.headers=Hr(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},t=o}return wD(t,i,n)}function fc(t,e){return e||(e={}),e=Hr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,o=!1;const s=()=>o?!1:(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)s()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!o){if(c++,c>a){s()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(u){s()&&n(u)})}l()})}var Kd="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Jv={};for(var cf=0;cf<Kd.length;cf++){var Qm=Kd.charAt(cf);if(Jv[Qm]!==void 0)throw new TypeError(Qm+" is ambiguous");Jv[Qm]=cf}function Wa(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function pA(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Wa(e)^n>>5}for(e=Wa(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Wa(e)^i&31}return e}function _D(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=pA(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5)throw new Error("Non 5-bit word");n=Wa(n)^s,i+=Kd.charAt(s)}for(o=0;o<6;++o)n=Wa(n);for(n^=1,o=0;o<6;++o){var a=n>>(5-o)*5&31;i+=Kd.charAt(a)}return i}function mA(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var o=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var a=pA(o);if(typeof a=="string")return a;for(var c=[],l=0;l<s.length;++l){var u=s.charAt(l),f=Jv[u];if(f===void 0)return"Unknown character "+u;a=Wa(a)^f,!(l+6>=s.length)&&c.push(f)}return a!==1?"Invalid checksum for "+t:{prefix:o,words:c}}function SD(){var t=mA.apply(null,arguments);if(typeof t=="object")return t}function xD(t){var e=mA.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Ih(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],c=0;c<t.length;++c)for(i=i<<e|t[c],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function ED(t){var e=Ih(t,8,5,!0);if(Array.isArray(e))return e}function RD(t){var e=Ih(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function PD(t){var e=Ih(t,5,8,!1);if(Array.isArray(e))return e}function AD(t){var e=Ih(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var x_={decodeUnsafe:SD,decode:xD,encode:_D,toWordsUnsafe:ED,toWords:RD,fromWordsUnsafe:PD,fromWords:AD};const Dh="providers/5.7.2",Hl=new ue(Dh);class Ae{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=f=>this.data(f,!0);return e.transaction={hash:s,type:l,accessList:Ae.allowNull(this.accessList.bind(this),null),blockHash:Ae.allowNull(s,null),blockNumber:Ae.allowNull(c,null),transactionIndex:Ae.allowNull(c,null),confirmations:Ae.allowNull(c,null),from:r,gasPrice:Ae.allowNull(n),maxPriorityFeePerGas:Ae.allowNull(n),maxFeePerGas:Ae.allowNull(n),gasLimit:n,to:Ae.allowNull(r,null),value:n,nonce:c,data:o,r:Ae.allowNull(this.uint256),s:Ae.allowNull(this.uint256),v:Ae.allowNull(c),creates:Ae.allowNull(r,null),raw:Ae.allowNull(o)},e.transactionRequest={from:Ae.allowNull(r),nonce:Ae.allowNull(c),gasLimit:Ae.allowNull(n),gasPrice:Ae.allowNull(n),maxPriorityFeePerGas:Ae.allowNull(n),maxFeePerGas:Ae.allowNull(n),to:Ae.allowNull(r),value:Ae.allowNull(n),data:Ae.allowNull(u),type:Ae.allowNull(c),accessList:Ae.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:r,topics:Ae.arrayOf(s),data:o,logIndex:c,blockHash:s},e.receipt={to:Ae.allowNull(this.address,null),from:Ae.allowNull(this.address,null),contractAddress:Ae.allowNull(r,null),transactionIndex:c,root:Ae.allowNull(a),gasUsed:n,logsBloom:Ae.allowNull(o),blockHash:s,transactionHash:s,logs:Ae.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Ae.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:Ae.allowNull(n),status:Ae.allowNull(c),type:l},e.block={hash:Ae.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:Ae.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Ae.allowNull(r),extraData:o,transactions:Ae.allowNull(Ae.arrayOf(s)),baseFeePerGas:Ae.allowNull(n)},e.blockWithTransactions=Hr(e.block),e.blockWithTransactions.transactions=Ae.allowNull(Ae.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Ae.allowNull(i,void 0),toBlock:Ae.allowNull(i,void 0),blockHash:Ae.allowNull(s,void 0),address:Ae.allowNull(r,void 0),topics:Ae.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Ae.allowNull(c),blockHash:Ae.allowNull(s),transactionIndex:c,removed:Ae.allowNull(this.boolean.bind(this)),address:r,data:Ae.allowFalsish(o,"0x"),topics:Ae.arrayOf(s),transactionHash:s,logIndex:c},e}accessList(e){return bu(e||[])}number(e){return e==="0x"?0:ke.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ke.from(e).toNumber()}bigNumber(e){return ke.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),Pt(e))?e.toLowerCase():Hl.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return ti(e)}callAddress(e){if(!Pt(e,32))return null;const r=ti(Lr(e,12));return r===RN?null:r}contractAddress(e){return EN(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Pt(e))return Hy(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Ms(n)!==32?Hl.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=ke.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!Pt(e))throw new Error("invalid uint256");return tr(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Ae.check(r,e);return i._difficulty=n==null?null:ke.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Ae.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ke.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Ae.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Pt(n)&&(n=ke.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),Pt(n)&&(n=ke.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return uD(e)}receiptLog(e){return Ae.check(this.formats.receiptLog,e)}receipt(e){const r=Ae.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=ke.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Hl.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Hl.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Hl.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Ae.check(this.formats.filter,e)}filterLog(e){return Ae.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const o=e[i](r[i]);o!==void 0&&(n[i]=o)}catch(o){throw o.checkKey=i,o.checkValue=r[i],o}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}var Le=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const qe=new ue(Dh),kD=10;function E_(t){return t==null?"null":(Ms(t)!==32&&qe.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function R_(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[E_(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return E_(e)}).join("&")}function TD(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Js(t){if(typeof t=="string"){if(t=t.toLowerCase(),Ms(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+R_(t);if(pI.isForkEvent(t))throw qe.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+R_(t.topics||[])}throw new Error("invalid event - "+t)}function Vl(){return new Date().getTime()}function P_(t){return new Promise(e=>{setTimeout(e,t)})}const CD=["block","network","pending","poll"];let OD=class{constructor(e,r,n){tt(this,"tag",e),tt(this,"listener",r),tt(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=TD(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||CD.indexOf(this.tag)>=0}};const MD={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Jm(t){return tr(ke.from(t).toHexString(),32)}function A_(t){return Qv.encode(ws([t,Lr(v_(v_(t)),0,4)]))}const gA=new RegExp("^(ipfs)://(.*)$","i"),k_=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),gA,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Yf(t,e){try{return Th(tu(t,e))}catch{}return null}function tu(t,e){if(t==="0x")return null;const r=ke.from(Lr(t,e,e+32)).toNumber(),n=ke.from(Lr(t,r,r+32)).toNumber();return Lr(t,r+32,r+32+n)}function Ym(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):qe.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function T_(t){const e=Ue(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function ND(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function vA(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Ue(t[n]);e[n]=T_(r),e.push(T_(i.length)),e.push(ND(i)),r+=32+Math.ceil(i.length/32)*32}return on(e)}class C_{constructor(e,r,n,i){tt(this,"provider",e),tt(this,"name",n),tt(this,"address",e.formatter.address(r)),tt(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ke.from(e).eq(1)).catch(e=>{if(e.code===ue.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return Le(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:on([e,Kf(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=on(["0x9061b923",vA([nI(this.name),n.data])]));try{let o=yield this.provider.call(n);return Ue(o).length%32===4&&qe.throwError("resolver threw error",ue.errors.CALL_EXCEPTION,{transaction:n,data:o}),i&&(o=tu(o,0)),o}catch(o){if(o.code===ue.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(e,r){return Le(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?tu(n,0):null})}_getAddress(e,r){const n=MD[String(e)];if(n==null&&qe.throwError(`unsupported coin type: ${e}`,ue.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Ue(r);if(n.p2pkh!=null){const o=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return A_(ws([[n.p2pkh],"0x"+o[2]]))}}if(n.p2sh!=null){const o=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return A_(ws([[n.p2sh],"0x"+o[2]]))}}if(n.prefix!=null){const o=i[1];let s=i[0];if(s===0?o!==20&&o!==32&&(s=-1):s=-1,s>=0&&i.length===2+o&&o>=1&&o<=75){const a=x_.toWords(i.slice(2));return a.unshift(s),x_.encode(n.prefix,a)}}return null}getAddress(e){return Le(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===AN?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===ue.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Jm(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&qe.throwError("invalid or unsupported coin data",ue.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return Le(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<k_.length;n++){const i=r.match(k_[n]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:Ym(r)};case"erc721":case"erc1155":{const s=o==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=tr(ke.from(c[1]).toHexString(),32);if(o==="erc721"){const m=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:on(["0x6352211e",u])}));if(a!==m)return null;e.push({type:"owner",content:m})}else if(o==="erc1155"){const m=ke.from(yield this.provider.call({to:l,data:on(["0x00fdd58e",tr(a,32),u])}));if(m.isZero())return null;e.push({type:"balance",content:m.toString()})}const f={to:this.provider.formatter.address(c[0]),data:on([s,u])};let d=Yf(yield this.provider.call(f),0);if(d==null)return null;e.push({type:"metadata-url-base",content:d}),o==="erc1155"&&(d=d.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=Ym(d)),e.push({type:"metadata-url",content:d});const h=yield Zy(d);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let p=h.image;if(typeof p!="string")return null;if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(gA)==null)return null;e.push({type:"url-ipfs",content:p}),p=Ym(p)}return e.push({type:"url",content:p}),{linkage:e,url:p}}}}}catch{}return null})}getContentHash(){return Le(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=parseInt(r[3],16);if(r[4].length===s*2)return"ipfs://"+Qv.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+Qv.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&o[1].length===34*2){const s={"=":"","+":"-","/":"_"};return"sia://"+OP("0x"+o[1]).replace(/[=+\/]/g,c=>s[c])}return qe.throwError("invalid or unsupported content hash data",ue.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Le(this,void 0,void 0,function*(){let r=io(e);r=ws([Jm(64),Jm(r.length),r]),r.length%32!==0&&(r=ws([r,tr("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",Fe(r));return n==null||n==="0x"?null:Th(n)})}}let Xm=null,ID=1;class DD extends Gy{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),tt(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=uc(new.target,"getNetwork")(e);r?(tt(this,"_network",r),this.emit("network",r,null)):qe.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Le(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||qe.throwError("no network detected",ue.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:tt(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return fc(()=>this._ready().then(e=>e,e=>{if(!(e.code===ue.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Xm==null&&(Xm=new Ae),Xm}static getNetwork(e){return pD(e??"homestead")}ccipReadFetch(e,r,n){return Le(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),o=r.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",i).replace("{data}",o),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:i}),f=yield Zy({url:l,errorPassThrough:!0},u,(h,p)=>(h.status=p.statusCode,h));if(f.data)return f.data;const d=f.message||"unknown error";if(f.status>=400&&f.status<500)return qe.throwError(`response not found during CCIP fetch: ${d}`,ue.errors.SERVER_ERROR,{url:c,errorMessage:d});s.push(d)}return qe.throwError(`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,ue.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return Le(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const o=yield i;if(Vl()-o.respTime<=e)return o.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Vl(),n=br({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:o})=>{if(o)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),o;const s=Vl();return i=ke.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Le(this,void 0,void 0,function*(){const e=ID++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)qe.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",qe.makeError("network block skew detected",ue.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const o=this._emitted[i];o!=="pending"&&n-o>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const o=i.hash;let s=this.getTransactionReceipt(o).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+o]=a.blockNumber,this.emit(o,a)),null)).catch(a=>{this.emit("error",a)});r.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const o=i.filter;o.fromBlock=i._lastBlockNumber+1,o.toBlock=n;const s=o.toBlock-this._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);const a=this.getLogs(o).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(o,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Le(this,void 0,void 0,function*(){return qe.throwError("provider does not support network detection",ue.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Le(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield P_(0),this._network;const n=qe.makeError("underlying network changed",ue.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Vl();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Vl(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return Le(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return Le(this,void 0,void 0,function*(){const o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=r?o:new Promise((s,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(d=>{d()}),!1)},f=d=>{d.confirmations<r||u()||s(d)};if(this.on(e,f),c.push(()=>{this.removeListener(e,f)}),i){let d=i.startBlock,h=null;const p=m=>Le(this,void 0,void 0,function*(){l||(yield P_(1e3),this.getTransactionCount(i.from).then(y=>Le(this,void 0,void 0,function*(){if(!l){if(y<=i.nonce)d=m;else{{const g=yield this.getTransaction(e);if(g&&g.blockNumber!=null)return}for(h==null&&(h=d-3,h<i.startBlock&&(h=i.startBlock));h<=m;){if(l)return;const g=yield this.getBlockWithTransactions(h);for(let v=0;v<g.transactions.length;v++){const S=g.transactions[v];if(S.hash===e)return;if(S.from===i.from&&S.nonce===i.nonce){if(l)return;const w=yield this.waitForTransaction(S.hash,r);if(u())return;let x="replaced";S.data===i.data&&S.to===i.to&&S.value.eq(i.value)?x="repriced":S.data==="0x"&&S.from===S.to&&S.value.isZero()&&(x="cancelled"),a(qe.makeError("transaction was replaced",ue.errors.TRANSACTION_REPLACED,{cancelled:x==="replaced"||x==="cancelled",reason:x,replacement:this._wrapTransaction(S),hash:e,receipt:w}));return}}h++}}l||this.once("block",p)}}),y=>{l||this.once("block",p)}))});if(l)return;this.once("block",p),c.push(()=>{this.removeListener("block",p)})}if(typeof n=="number"&&n>0){const d=setTimeout(()=>{u()||a(qe.makeError("timeout exceeded",ue.errors.TIMEOUT,{timeout:n}))},n);d.unref&&d.unref(),c.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return Le(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Le(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ke.from(e)}catch(r){return qe.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return Le(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield br({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return ke.from(i)}catch(o){return qe.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:o})}})}getTransactionCount(e,r){return Le(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield br({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return ke.from(i).toNumber()}catch(o){return qe.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:o})}})}getCode(e,r){return Le(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield br({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return Fe(i)}catch(o){return qe.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:o})}})}getStorageAt(e,r,n){return Le(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield br({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(s=>Hy(s))}),o=yield this.perform("getStorageAt",i);try{return Fe(o)}catch(s){return qe.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:s})}})}_wrapTransaction(e,r,n){if(r!=null&&Ms(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&qe.throwError("Transaction hash mismatch from Provider.sendTransaction.",ue.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(o,s)=>Le(this,void 0,void 0,function*(){o==null&&(o=1),s==null&&(s=0);let a;o!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,o,s,a);return c==null&&o===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&qe.throwError("transaction failed",ue.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return Le(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(o=>Fe(o)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const o=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,o,i)}catch(o){throw o.transaction=n,o.transactionHash=n.hash,o}})}_getTransactionRequest(e){return Le(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?ke.from(o):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?Fe(o):null))}),this.formatter.transactionRequest(yield br(n))})}_getFilter(e){return Le(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield br(r))})}_call(e,r,n){return Le(this,void 0,void 0,function*(){n>=kD&&qe.throwError("CCIP read exceeded maximum redirections",ue.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,o=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&o.substring(0,10)==="0x556f1830"&&Ms(o)%32===4)try{const s=Lr(o,4),a=Lr(s,0,32);ke.from(a).eq(i)||qe.throwError("CCIP Read sender did not match",ue.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const c=[],l=ke.from(Lr(s,32,64)).toNumber(),u=ke.from(Lr(s,l,l+32)).toNumber(),f=Lr(s,l+32);for(let g=0;g<u;g++){const v=Yf(f,g*32);v==null&&qe.throwError("CCIP Read contained corrupt URL string",ue.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),c.push(v)}const d=tu(s,64);ke.from(Lr(s,100,128)).isZero()||qe.throwError("CCIP Read callback selector included junk",ue.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const h=Lr(s,96,100),p=tu(s,128),m=yield this.ccipReadFetch(e,d,c);m==null&&qe.throwError("CCIP Read disabled or provided no URLs",ue.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const y={to:i,data:on([h,vA([m,p])])};return this._call(y,r,n+1)}catch(s){if(s.code===ue.errors.SERVER_ERROR)throw s}try{return Fe(o)}catch(s){return qe.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:o,error:s})}})}call(e,r){return Le(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield br({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Le(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield br({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return ke.from(n)}catch(i){return qe.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return Le(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&qe.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&qe.throwError("ENS name not configured",ue.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return Le(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(Pt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Pt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{qe.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return fc(()=>Le(this,void 0,void 0,function*(){const o=yield this.perform("getBlock",i);if(o==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let s=null;for(let c=0;c<o.transactions.length;c++){const l=o.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=s-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(o);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Le(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return fc(()=>Le(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Le(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return fc(()=>Le(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return Le(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield br({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Ae.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Le(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Le(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&qe.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return Le(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new C_(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return Le(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||qe.throwError("network does not support ENS",ue.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Kf(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Le(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Pt(e))throw n}typeof e!="string"&&qe.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return Le(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=Yf(yield this.call({to:n,data:"0x691f3431"+Kf(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Le(this,void 0,void 0,function*(){let r=null;if(Pt(e)){const o=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(o,"getAvatar");if(!s)return null;r=new C_(this,s,o);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==ue.errors.CALL_EXCEPTION)throw a}try{const a=Yf(yield this.call({to:s,data:"0x691f3431"+Kf(o).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==ue.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return qe.throwError(e+" not implemented",ue.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new OD(Js(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],o=Js(e);return this._events=this._events.filter(s=>s.tag!==o?!0:(setTimeout(()=>{s.listener.apply(this,r)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let r=Js(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Js(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,o=Js(e);return this._events=this._events.filter(s=>s.tag!==o||s.listener!=r||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Js(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Hi=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(f){s(f)}}function c(u){try{l(n.throw(u))}catch(f){s(f)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Yt=new ue(Dh),LD=["call","estimateGas"];function Ec(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=Pt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Ec(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Ec(JSON.parse(t),e)}catch{}return null}function yA(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const o=Ec(e,!0);if(o)return o.data;Yt.throwError("missing revert data in call exception; Transaction reverted without a reason string",ue.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let o=Ec(e.body,!1);o==null&&(o=Ec(e,!1)),o&&Yt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ue.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===ue.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Yt.throwError("insufficient funds for intrinsic transaction cost",ue.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Yt.throwError("nonce has already been used",ue.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Yt.throwError("replacement fee too low",ue.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Yt.throwError("legacy pre-eip-155 transactions not supported",ue.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),LD.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Yt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ue.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function O_(t){return new Promise(function(e){setTimeout(e,t)})}function BD(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Wl(t){return t&&t.toLowerCase()}const Yv={};class bA extends Ky{constructor(e,r,n){if(super(),e!==Yv)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");tt(this,"provider",r),n==null&&(n=0),typeof n=="string"?(tt(this,"_address",this.provider.formatter.address(n)),tt(this,"_index",null)):typeof n=="number"?(tt(this,"_index",n),tt(this,"_address",null)):Yt.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Yt.throwError("cannot alter JSON-RPC Signer connection",ue.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new $D(Yv,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Yt.throwError("unknown account #"+this._index,ue.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Hr(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Hr(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Hi(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Yt.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),br({tx:br(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Yt.throwArgumentError("from address mismatch","transaction",e):n.from=i;const o=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&Yt.throwError("user rejected transaction",ue.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),yA("sendTransaction",s,o)))})}signTransaction(e){return Yt.throwError("signing transactions is unsupported",ue.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Hi(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield fc(()=>Hi(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Hi(this,void 0,void 0,function*(){const r=typeof e=="string"?io(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Fe(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Yt.throwError("user rejected signing",ue.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Hi(this,void 0,void 0,function*(){const r=typeof e=="string"?io(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),Fe(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Yt.throwError("user rejected signing",ue.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Hi(this,void 0,void 0,function*(){const i=yield en.resolveNames(e,r,n,s=>this.provider.resolveName(s)),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(en.getPayload(i.domain,r,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Yt.throwError("user rejected signing",ue.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:i.domain,types:r,value:i.value}}),s}})}unlock(e){return Hi(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class $D extends bA{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const FD={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class jD extends DD{constructor(e,r){let n=r;n==null&&(n=new Promise((i,o)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{o(s)})},0)})),super(n),e||(e=uc(this.constructor,"defaultUrl")()),typeof e=="string"?tt(this,"connection",Object.freeze({url:e})):tt(this,"connection",Object.freeze(Hr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Hi(this,void 0,void 0,function*(){yield O_(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=uc(this.constructor,"getNetwork");try{return r(ke.from(e).toNumber())}catch(n){return Yt.throwError("could not detect network",ue.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Yt.throwError("could not detect network",ue.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new bA(Yv,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ns(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const o=Zy(this.connection,JSON.stringify(n),BD).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[e]=o,setTimeout(()=>{this._cache[e]=null},0)),o}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Wl(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Wl(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Wl(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Wl(r.address),tr(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[uc(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[uc(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Wl(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Hi(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&ke.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(r=Hr(r),r.transaction=Hr(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Yt.throwError(e+" not implemented",ue.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return yA(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(o){if(e._pendingFilter!=r)return null;let s=Promise.resolve();return o.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),s.then(function(){return O_(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(o=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Hr(FD);if(r)for(const o in r)r[o]&&(n[o]=!0);hN(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(e[o]==null)return;const s=Hy(ke.from(e[o]));o==="gasLimit"&&(o="gas"),i[o]=s}),["from","to","data"].forEach(function(o){e[o]!=null&&(i[o]=Fe(e[o]))}),e.accessList&&(i.accessList=bu(e.accessList)),i}}const M_=new ue(Dh);let UD=1;function N_(t,e){const r="Web3LegacyFetcher";return function(n,i){const o={method:n,params:i,id:UD++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:r,request:Ns(o),provider:this}),e(o,(c,l)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:o,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:o,response:l,provider:this}),l.error){const u=new Error(l.error.message);return u.code=l.error.code,u.data=l.error.data,a(u)}s(l.result)})})}}function zD(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Ns(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class qD extends jD{constructor(e,r){e==null&&M_.throwArgumentError("missing provider","provider",e);let n=null,i=null,o=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),o=e,e.request?(n===""&&(n="eip-1193:"),i=zD(e)):e.sendAsync?i=N_(e,e.sendAsync.bind(e)):e.send?i=N_(e,e.send.bind(e)):M_.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),tt(this,"jsonRpcFetchFunc",i),tt(this,"provider",o)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}function wA(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=wA(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function et(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=wA(t))&&(n&&(n+=" "),n+=e);return n}const Rc=t=>typeof t=="number"&&!isNaN(t),Ds=t=>typeof t=="string",Vr=t=>typeof t=="function",Xf=t=>Ds(t)||Vr(t)?t:null,Zm=t=>G.isValidElement(t)||Ds(t)||Vr(t)||Rc(t);function HD(t,e,r){r===void 0&&(r=300);const{scrollHeight:n,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,r)})})}function Lh(t){let{enter:e,exit:r,appendPosition:n=!1,collapse:i=!0,collapseDuration:o=300}=t;return function(s){let{children:a,position:c,preventExitTransition:l,done:u,nodeRef:f,isIn:d}=s;const h=n?`${e}--${c}`:e,p=n?`${r}--${c}`:r,m=G.useRef(0);return G.useLayoutEffect(()=>{const y=f.current,g=h.split(" "),v=S=>{S.target===f.current&&(y.dispatchEvent(new Event("d")),y.removeEventListener("animationend",v),y.removeEventListener("animationcancel",v),m.current===0&&S.type!=="animationcancel"&&y.classList.remove(...g))};y.classList.add(...g),y.addEventListener("animationend",v),y.addEventListener("animationcancel",v)},[]),G.useEffect(()=>{const y=f.current,g=()=>{y.removeEventListener("animationend",g),i?HD(y,u,o):u()};d||(l?g():(m.current=1,y.className+=` ${p}`,y.addEventListener("animationend",g)))},[d]),ze.createElement(ze.Fragment,null,a)}}function I_(t,e){return{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}}const yn={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const r=this.list.get(t).filter(n=>n!==e);return this.list.set(t,r),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const r=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(r)})}},uf=t=>{let{theme:e,type:r,...n}=t;return ze.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...n})},eg={info:function(t){return ze.createElement(uf,{...t},ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ze.createElement(uf,{...t},ze.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ze.createElement(uf,{...t},ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ze.createElement(uf,{...t},ze.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ze.createElement("div",{className:"Toastify__spinner"})}};function VD(t){const[,e]=G.useReducer(h=>h+1,0),[r,n]=G.useState([]),i=G.useRef(null),o=G.useRef(new Map).current,s=h=>r.indexOf(h)!==-1,a=G.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:s,getToast:h=>o.get(h)}).current;function c(h){let{containerId:p}=h;const{limit:m}=a.props;!m||p&&a.containerId!==p||(a.count-=a.queue.length,a.queue=[])}function l(h){n(p=>h==null?[]:p.filter(m=>m!==h))}function u(){const{toastContent:h,toastProps:p,staleId:m}=a.queue.shift();d(h,p,m)}function f(h,p){let{delay:m,staleId:y,...g}=p;if(!Zm(h)||function(L){return!i.current||a.props.enableMultiContainer&&L.containerId!==a.props.containerId||o.has(L.toastId)&&L.updateId==null}(g))return;const{toastId:v,updateId:S,data:w}=g,{props:x}=a,M=()=>l(v),k=S==null;k&&a.count++;const N={...x,style:x.toastStyle,key:a.toastKey++,...g,toastId:v,updateId:S,data:w,closeToast:M,isIn:!1,className:Xf(g.className||x.toastClassName),bodyClassName:Xf(g.bodyClassName||x.bodyClassName),progressClassName:Xf(g.progressClassName||x.progressClassName),autoClose:!g.isLoading&&(U=g.autoClose,D=x.autoClose,U===!1||Rc(U)&&U>0?U:D),deleteToast(){const L=I_(o.get(v),"removed");o.delete(v),yn.emit(4,L);const A=a.queue.length;if(a.count=v==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),A>0){const b=v==null?a.props.limit:1;if(A===1||b===1)a.displayedToast++,u();else{const E=b>A?A:b;a.displayedToast=E;for(let I=0;I<E;I++)u()}}else e()}};var U,D;N.iconOut=function(L){let{theme:A,type:b,isLoading:E,icon:I}=L,F=null;const $={theme:A,type:b};return I===!1||(Vr(I)?F=I($):G.isValidElement(I)?F=G.cloneElement(I,$):Ds(I)||Rc(I)?F=I:E?F=eg.spinner():(B=>B in eg)(b)&&(F=eg[b]($))),F}(N),Vr(g.onOpen)&&(N.onOpen=g.onOpen),Vr(g.onClose)&&(N.onClose=g.onClose),N.closeButton=x.closeButton,g.closeButton===!1||Zm(g.closeButton)?N.closeButton=g.closeButton:g.closeButton===!0&&(N.closeButton=!Zm(x.closeButton)||x.closeButton);let O=h;G.isValidElement(h)&&!Ds(h.type)?O=G.cloneElement(h,{closeToast:M,toastProps:N,data:w}):Vr(h)&&(O=h({closeToast:M,toastProps:N,data:w})),x.limit&&x.limit>0&&a.count>x.limit&&k?a.queue.push({toastContent:O,toastProps:N,staleId:y}):Rc(m)?setTimeout(()=>{d(O,N,y)},m):d(O,N,y)}function d(h,p,m){const{toastId:y}=p;m&&o.delete(m);const g={content:h,props:p};o.set(y,g),n(v=>[...v,y].filter(S=>S!==m)),yn.emit(4,I_(g,g.props.updateId==null?"added":"updated"))}return G.useEffect(()=>(a.containerId=t.containerId,yn.cancelEmit(3).on(0,f).on(1,h=>i.current&&l(h)).on(5,c).emit(2,a),()=>{o.clear(),yn.emit(3,a)}),[]),G.useEffect(()=>{a.props=t,a.isToastActive=s,a.displayedToast=r.length}),{getToastToRender:function(h){const p=new Map,m=Array.from(o.values());return t.newestOnTop&&m.reverse(),m.forEach(y=>{const{position:g}=y.props;p.has(g)||p.set(g,[]),p.get(g).push(y)}),Array.from(p,y=>h(y[0],y[1]))},containerRef:i,isToastActive:s}}function D_(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function L_(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function WD(t){const[e,r]=G.useState(!1),[n,i]=G.useState(!1),o=G.useRef(null),s=G.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=G.useRef(t),{autoClose:c,pauseOnHover:l,closeToast:u,onClick:f,closeOnClick:d}=t;function h(w){if(t.draggable){w.nativeEvent.type==="touchstart"&&w.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",v),document.addEventListener("touchmove",g),document.addEventListener("touchend",v);const x=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=x.getBoundingClientRect(),x.style.transition="",s.x=D_(w.nativeEvent),s.y=L_(w.nativeEvent),t.draggableDirection==="x"?(s.start=s.x,s.removalDistance=x.offsetWidth*(t.draggablePercent/100)):(s.start=s.y,s.removalDistance=x.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function p(w){if(s.boundingRect){const{top:x,bottom:M,left:k,right:N}=s.boundingRect;w.nativeEvent.type!=="touchend"&&t.pauseOnHover&&s.x>=k&&s.x<=N&&s.y>=x&&s.y<=M?y():m()}}function m(){r(!0)}function y(){r(!1)}function g(w){const x=o.current;s.canDrag&&x&&(s.didMove=!0,e&&y(),s.x=D_(w),s.y=L_(w),s.delta=t.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),x.style.transform=`translate${t.draggableDirection}(${s.delta}px)`,x.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function v(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",v);const w=o.current;if(s.canDrag&&s.didMove&&w){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),void t.closeToast();w.style.transition="transform 0.2s, opacity 0.2s",w.style.transform=`translate${t.draggableDirection}(0)`,w.style.opacity="1"}}G.useEffect(()=>{a.current=t}),G.useEffect(()=>(o.current&&o.current.addEventListener("d",m,{once:!0}),Vr(t.onOpen)&&t.onOpen(G.isValidElement(t.children)&&t.children.props),()=>{const w=a.current;Vr(w.onClose)&&w.onClose(G.isValidElement(w.children)&&w.children.props)}),[]),G.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",m),window.addEventListener("blur",y)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",y))}),[t.pauseOnFocusLoss]);const S={onMouseDown:h,onTouchStart:h,onMouseUp:p,onTouchEnd:p};return c&&l&&(S.onMouseEnter=y,S.onMouseLeave=m),d&&(S.onClick=w=>{f&&f(w),s.canCloseOnClick&&u()}),{playToast:m,pauseToast:y,isRunning:e,preventExitTransition:n,toastRef:o,eventHandlers:S}}function _A(t){let{closeToast:e,theme:r,ariaLabel:n="close"}=t;return ze.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":n},ze.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ze.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function GD(t){let{delay:e,isRunning:r,closeToast:n,type:i="default",hide:o,className:s,style:a,controlledProgress:c,progress:l,rtl:u,isIn:f,theme:d}=t;const h=o||c&&l===0,p={...a,animationDuration:`${e}ms`,animationPlayState:r?"running":"paused",opacity:h?0:1};c&&(p.transform=`scaleX(${l})`);const m=et("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),y=Vr(s)?s({rtl:u,type:i,defaultClassName:m}):et(m,s);return ze.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:y,style:p,[c&&l>=1?"onTransitionEnd":"onAnimationEnd"]:c&&l<1?null:()=>{f&&n()}})}const KD=t=>{const{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:i}=WD(t),{closeButton:o,children:s,autoClose:a,onClick:c,type:l,hideProgressBar:u,closeToast:f,transition:d,position:h,className:p,style:m,bodyClassName:y,bodyStyle:g,progressClassName:v,progressStyle:S,updateId:w,role:x,progress:M,rtl:k,toastId:N,deleteToast:U,isIn:D,isLoading:O,iconOut:L,closeOnClick:A,theme:b}=t,E=et("Toastify__toast",`Toastify__toast-theme--${b}`,`Toastify__toast--${l}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":A}),I=Vr(p)?p({rtl:k,position:h,type:l,defaultClassName:E}):et(E,p),F=!!M||!a,$={closeToast:f,type:l,theme:b};let B=null;return o===!1||(B=Vr(o)?o($):G.isValidElement(o)?G.cloneElement(o,$):_A($)),ze.createElement(d,{isIn:D,done:U,position:h,preventExitTransition:r,nodeRef:n},ze.createElement("div",{id:N,onClick:c,className:I,...i,style:m,ref:n},ze.createElement("div",{...D&&{role:x},className:Vr(y)?y({type:l}):et("Toastify__toast-body",y),style:g},L!=null&&ze.createElement("div",{className:et("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},L),ze.createElement("div",null,s)),B,ze.createElement(GD,{...w&&!F?{key:`pb-${w}`}:{},rtl:k,theme:b,delay:a,isRunning:e,isIn:D,closeToast:f,hide:u,type:l,style:S,className:v,controlledProgress:F,progress:M||0})))},Bh=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},QD=Lh(Bh("bounce",!0));Lh(Bh("slide",!0));Lh(Bh("zoom"));Lh(Bh("flip"));const Xv=G.forwardRef((t,e)=>{const{getToastToRender:r,containerRef:n,isToastActive:i}=VD(t),{className:o,style:s,rtl:a,containerId:c}=t;function l(u){const f=et("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return Vr(o)?o({position:u,rtl:a,defaultClassName:f}):et(f,Xf(o))}return G.useEffect(()=>{e&&(e.current=n.current)},[]),ze.createElement("div",{ref:n,className:"Toastify",id:c},r((u,f)=>{const d=f.length?{...s}:{...s,pointerEvents:"none"};return ze.createElement("div",{className:l(u),style:d,key:`container-${u}`},f.map((h,p)=>{let{content:m,props:y}=h;return ze.createElement(KD,{...y,isIn:i(y.toastId),style:{...y.style,"--nth":p+1,"--len":f.length},key:`toast-${y.key}`},m)}))}))});Xv.displayName="ToastContainer",Xv.defaultProps={position:"top-right",transition:QD,autoClose:5e3,closeButton:_A,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let tg,ds=new Map,dc=[],JD=1;function SA(){return""+JD++}function YD(t){return t&&(Ds(t.toastId)||Rc(t.toastId))?t.toastId:SA()}function Pc(t,e){return ds.size>0?yn.emit(0,t,e):dc.push({content:t,options:e}),e.toastId}function Qd(t,e){return{...e,type:e&&e.type||t,toastId:YD(e)}}function ff(t){return(e,r)=>Pc(e,Qd(t,r))}function Rt(t,e){return Pc(t,Qd("default",e))}Rt.loading=(t,e)=>Pc(t,Qd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Rt.promise=function(t,e,r){let n,{pending:i,error:o,success:s}=e;i&&(n=Ds(i)?Rt.loading(i,r):Rt.loading(i.render,{...r,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},c=(u,f,d)=>{if(f==null)return void Rt.dismiss(n);const h={type:u,...a,...r,data:d},p=Ds(f)?{render:f}:f;return n?Rt.update(n,{...h,...p}):Rt(p.render,{...h,...p}),d},l=Vr(t)?t():t;return l.then(u=>c("success",s,u)).catch(u=>c("error",o,u)),l},Rt.success=ff("success"),Rt.info=ff("info"),Rt.error=ff("error"),Rt.warning=ff("warning"),Rt.warn=Rt.warning,Rt.dark=(t,e)=>Pc(t,Qd("default",{theme:"dark",...e})),Rt.dismiss=t=>{ds.size>0?yn.emit(1,t):dc=dc.filter(e=>t!=null&&e.options.toastId!==t)},Rt.clearWaitingQueue=function(t){return t===void 0&&(t={}),yn.emit(5,t)},Rt.isActive=t=>{let e=!1;return ds.forEach(r=>{r.isToastActive&&r.isToastActive(t)&&(e=!0)}),e},Rt.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const r=function(n,i){let{containerId:o}=i;const s=ds.get(o||tg);return s&&s.getToast(n)}(t,e);if(r){const{props:n,content:i}=r,o={...n,...e,toastId:e.toastId||t,updateId:SA()};o.toastId!==t&&(o.staleId=t);const s=o.render||i;delete o.render,Pc(s,o)}},0)},Rt.done=t=>{Rt.update(t,{progress:1})},Rt.onChange=t=>(yn.on(4,t),()=>{yn.off(4,t)}),Rt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Rt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},yn.on(2,t=>{tg=t.containerId||t,ds.set(tg,t),dc.forEach(e=>{yn.emit(0,e.content,e.options)}),dc=[]}).on(3,t=>{ds.delete(t.containerId||t),ds.size===0&&yn.off(0).off(1).off(5)});var e1={},Zv={},XD={get exports(){return Zv},set exports(t){Zv=t}};(function(t){(function(e,r,n){function i(c){var l=this,u=a();l.next=function(){var f=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=f-(l.c=f|0)},l.c=1,l.s0=u(" "),l.s1=u(" "),l.s2=u(" "),l.s0-=u(c),l.s0<0&&(l.s0+=1),l.s1-=u(c),l.s1<0&&(l.s1+=1),l.s2-=u(c),l.s2<0&&(l.s2+=1),u=null}function o(c,l){return l.c=c.c,l.s0=c.s0,l.s1=c.s1,l.s2=c.s2,l}function s(c,l){var u=new i(c),f=l&&l.state,d=u.next;return d.int32=function(){return u.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&o(f,u),d.state=function(){return o(u,{})}),d}function a(){var c=4022871197,l=function(u){u=String(u);for(var f=0;f<u.length;f++){c+=u.charCodeAt(f);var d=.02519603282416938*c;c=d>>>0,d-=c,d*=c,c=d>>>0,d-=c,c+=d*4294967296}return(c>>>0)*23283064365386963e-26};return l}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.alea=s})(oe,t,!1)})(XD);var e0={},ZD={get exports(){return e0},set exports(t){e0=t}};(function(t){(function(e,r,n){function i(a){var c=this,l="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var f=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^f^f>>>8},a===(a|0)?c.x=a:l+=a;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,c.next()}function o(a,c){return c.x=a.x,c.y=a.y,c.z=a.z,c.w=a.w,c}function s(a,c){var l=new i(a),u=c&&c.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=l.next,f.quick=f,u&&(typeof u=="object"&&o(u,l),f.state=function(){return o(l,{})}),f}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xor128=s})(oe,t,!1)})(ZD);var t0={},eL={get exports(){return t0},set exports(t){t0=t}};(function(t){(function(e,r,n){function i(a){var c=this,l="";c.next=function(){var f=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(f^f<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,a===(a|0)?c.x=a:l+=a;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,u==l.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function o(a,c){return c.x=a.x,c.y=a.y,c.z=a.z,c.w=a.w,c.v=a.v,c.d=a.d,c}function s(a,c){var l=new i(a),u=c&&c.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=l.next,f.quick=f,u&&(typeof u=="object"&&o(u,l),f.state=function(){return o(l,{})}),f}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xorwow=s})(oe,t,!1)})(eL);var r0={},tL={get exports(){return r0},set exports(t){r0=t}};(function(t){(function(e,r,n){function i(a){var c=this;c.next=function(){var u=c.x,f=c.i,d,h;return d=u[f],d^=d>>>7,h=d^d<<24,d=u[f+1&7],h^=d^d>>>10,d=u[f+3&7],h^=d^d>>>3,d=u[f+4&7],h^=d^d<<7,d=u[f+7&7],d=d^d<<13,h^=d^d<<9,u[f]=h,c.i=f+1&7,h};function l(u,f){var d,h=[];if(f===(f|0))h[0]=f;else for(f=""+f,d=0;d<f.length;++d)h[d&7]=h[d&7]<<15^f.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],u.x=h,u.i=0,d=256;d>0;--d)u.next()}l(c,a)}function o(a,c){return c.x=a.x.slice(),c.i=a.i,c}function s(a,c){a==null&&(a=+new Date);var l=new i(a),u=c&&c.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=l.next,f.quick=f,u&&(u.x&&o(u,l),f.state=function(){return o(l,{})}),f}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xorshift7=s})(oe,t,!1)})(tL);var n0={},rL={get exports(){return n0},set exports(t){n0=t}};(function(t){(function(e,r,n){function i(a){var c=this;c.next=function(){var u=c.w,f=c.X,d=c.i,h,p;return c.w=u=u+1640531527|0,p=f[d+34&127],h=f[d=d+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=f[d]=p^h,c.i=d,p+(u^u>>>16)|0};function l(u,f){var d,h,p,m,y,g=[],v=128;for(f===(f|0)?(h=f,f=null):(f=f+"\0",h=0,v=Math.max(v,f.length)),p=0,m=-32;m<v;++m)f&&(h^=f.charCodeAt((m+32)%f.length)),m===0&&(y=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,m>=0&&(y=y+1640531527|0,d=g[m&127]^=h+y,p=d==0?p+1:0);for(p>=128&&(g[(f&&f.length||0)&127]=-1),p=127,m=4*128;m>0;--m)h=g[p+34&127],d=g[p=p+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,g[p]=h^d;u.w=y,u.X=g,u.i=p}l(c,a)}function o(a,c){return c.i=a.i,c.w=a.w,c.X=a.X.slice(),c}function s(a,c){a==null&&(a=+new Date);var l=new i(a),u=c&&c.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=l.next,f.quick=f,u&&(u.X&&o(u,l),f.state=function(){return o(l,{})}),f}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xor4096=s})(oe,t,!1)})(rL);var i0={},nL={get exports(){return i0},set exports(t){i0=t}};(function(t){(function(e,r,n){function i(a){var c=this,l="";c.next=function(){var f=c.b,d=c.c,h=c.d,p=c.a;return f=f<<25^f>>>7^d,d=d-h|0,h=h<<24^h>>>8^p,p=p-f|0,c.b=f=f<<20^f>>>12^d,c.c=d=d-h|0,c.d=h<<16^d>>>16^p,c.a=p-f|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,a===Math.floor(a)?(c.a=a/4294967296|0,c.b=a|0):l+=a;for(var u=0;u<l.length+20;u++)c.b^=l.charCodeAt(u)|0,c.next()}function o(a,c){return c.a=a.a,c.b=a.b,c.c=a.c,c.d=a.d,c}function s(a,c){var l=new i(a),u=c&&c.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=l.next,f.quick=f,u&&(typeof u=="object"&&o(u,l),f.state=function(){return o(l,{})}),f}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.tychei=s})(oe,t,!1)})(nL);var o0={},iL={get exports(){return o0},set exports(t){o0=t}};(function(t){(function(e,r,n){var i=256,o=6,s=52,a="random",c=n.pow(i,o),l=n.pow(2,s),u=l*2,f=i-1,d;function h(w,x,M){var k=[];x=x==!0?{entropy:!0}:x||{};var N=g(y(x.entropy?[w,S(r)]:w??v(),3),k),U=new p(k),D=function(){for(var O=U.g(o),L=c,A=0;O<l;)O=(O+A)*i,L*=i,A=U.g(1);for(;O>=u;)O/=2,L/=2,A>>>=1;return(O+A)/L};return D.int32=function(){return U.g(4)|0},D.quick=function(){return U.g(4)/4294967296},D.double=D,g(S(U.S),r),(x.pass||M||function(O,L,A,b){return b&&(b.S&&m(b,U),O.state=function(){return m(U,{})}),A?(n[a]=O,L):O})(D,N,"global"in x?x.global:this==n,x.state)}function p(w){var x,M=w.length,k=this,N=0,U=k.i=k.j=0,D=k.S=[];for(M||(w=[M++]);N<i;)D[N]=N++;for(N=0;N<i;N++)D[N]=D[U=f&U+w[N%M]+(x=D[N])],D[U]=x;(k.g=function(O){for(var L,A=0,b=k.i,E=k.j,I=k.S;O--;)L=I[b=f&b+1],A=A*i+I[f&(I[b]=I[E=f&E+L])+(I[E]=L)];return k.i=b,k.j=E,A})(i)}function m(w,x){return x.i=w.i,x.j=w.j,x.S=w.S.slice(),x}function y(w,x){var M=[],k=typeof w,N;if(x&&k=="object")for(N in w)try{M.push(y(w[N],x-1))}catch{}return M.length?M:k=="string"?w:w+"\0"}function g(w,x){for(var M=w+"",k,N=0;N<M.length;)x[f&N]=f&(k^=x[f&N]*19)+M.charCodeAt(N++);return S(x)}function v(){try{var w;return d&&(w=d.randomBytes)?w=w(i):(w=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(w)),S(w)}catch{var x=e.navigator,M=x&&x.plugins;return[+new Date,e,M,e.screen,S(r)]}}function S(w){return String.fromCharCode.apply(0,w)}if(g(n.random(),r),t.exports){t.exports=h;try{d=wP}catch{}}else n["seed"+a]=h})(typeof self<"u"?self:oe,[],Math)})(iL);var oL=Zv,sL=e0,aL=t0,lL=r0,cL=n0,uL=i0,qs=o0;qs.alea=oL;qs.xor128=sL;qs.xorwow=aL;qs.xorshift7=lL;qs.xor4096=cL;qs.tychei=uL;var fL=qs,dL=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e1,"__esModule",{value:!0});var s0=e1.AvatarGenerator=void 0,B_=dL(fL),hL=function(){function t(){}return t.prototype.generateRandomAvatar=function(e){var r=new Array;r.push("NoHair","Eyepatch","Hat","Hijab","Turban","WinterHat1","WinterHat2","WinterHat3","WinterHat4","LongHairBigHair","LongHairBob","LongHairBun","LongHairCurly","LongHairCurvy","LongHairDreads","LongHairFrida","LongHairFro","LongHairFroBand","LongHairNotTooLong","LongHairShavedSides","LongHairMiaWallace","LongHairStraight","LongHairStraight2","LongHairStraightStrand","ShortHairDreads01","ShortHairDreads02","ShortHairFrizzle","ShortHairShaggyMullet","ShortHairShortCurly","ShortHairShortFlat","ShortHairShortRound","ShortHairShortWaved","ShortHairSides","ShortHairTheCaesar","ShortHairTheCaesarSidePart");var n=new Array;n.push("Blank","Kurt","Prescription01","Prescription02","Round","Sunglasses","Wayfarers");var i=new Array;i.push("Blank","BeardMedium","BeardLight","BeardMagestic","MoustacheFancy","MoustacheMagnum");var o=new Array;o.push("Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","Platinum","Red");var s=new Array;s.push("BlazerShirt","BlazerSweater","CollarSweater","GraphicShirt","Hoodie","Overall","ShirtCrewNeck","ShirtScoopNeck","ShirtVNeck");var a=new Array;a.push("Close","Cry","Default","Dizzy","EyeRoll","Happy","Hearts","Side","Squint","Surprised","Wink","WinkWacky");var c=new Array;c.push("Angry","AngryNatural","Default","DefaultNatural","FlatNatural","RaisedExcited","RaisedExcitedNatural","SadConcerned","SadConcernedNatural","UnibrowNatural","UpDown","UpDownNatural");var l=new Array;l.push("Concerned","Default","Disbelief","Eating","Grimace","Sad","ScreamOpen","Serious","Smile","Tongue","Twinkle","Vomit");var u=new Array;u.push("Tanned","Yellow","Pale","Light","Brown","DarkBrown","Black");var f=new Array;f.push("Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","PastelPink","Platinum","Red","SilverGray");var d=new Array;d.push("Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White");var h=new Array;h.push("Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White");var p=e?B_.default(e):B_.default();return"https://avataaars.io/?accessoriesType="+n[Math.floor(p()*n.length)]+"&avatarStyle=Circle&clotheColor="+h[Math.floor(p()*h.length)]+"&clotheType="+s[Math.floor(p()*s.length)]+"&eyeType="+a[Math.floor(p()*a.length)]+"&eyebrowType="+c[Math.floor(p()*c.length)]+"&facialHairColor="+o[Math.floor(p()*o.length)]+"&facialHairType="+i[Math.floor(p()*i.length)]+"&hairColor="+f[Math.floor(p()*f.length)]+"&hatColor="+d[Math.floor(p()*d.length)]+"&mouthType="+l[Math.floor(p()*l.length)]+"&skinColor="+u[Math.floor(p()*u.length)]+"&topType="+r[Math.floor(p()*r.length)]},t}();s0=e1.AvatarGenerator=hL;const wu=()=>{const[t,e]=G.useState(!1);zy();const[r,n]=G.useState(null),[i,o]=G.useState(null),[s,a]=G.useState(null),c=u=>{window.ethereum!=null&&window.ethereum.isMetaMask===!0&&window.ethereum.isConnected()===!0?(o(new qD(window.ethereum)),window.ethereum.request({method:"eth_requestAccounts"}).then(f=>{console.log(f),u&&Rt.success("Wallet Connected"),e(!0),n(f[0]),localStorage.setItem("defaultAccount",JSON.stringify(f[0])),localStorage.setItem("userBalance",JSON.stringify(f[0]));const d=new s0;a(d.generateRandomAvatar(`${f[0]}`))}).catch(f=>{})):(console.log("Need to install MetaMask and enable it on this tab"),Rt.error("Please install MetaMask browser extension and enable it on this tab to interact "))},l=()=>{localStorage.removeItem("defaultAccount"),localStorage.removeItem("userBalance"),n(null),e(!1),Rt("Logged Out"),window.location.reload()};return G.useEffect(()=>{const u=JSON.parse(localStorage.getItem("defaultAccount"));if(u&&window.ethereum.selectedAddress===u){c(),n(u),e(!0);const f=new s0;a(f.generateRandomAvatar(""+u))}else e(!1)},[]),Ee("div",{className:"w-11/12 md:mr-10 md:ml-10 ml-5 mt-5 rounded-xl navbar ",children:[V("div",{className:"flex-1",children:V("a",{className:" normal-case text-xl",href:"/",children:"Proxima"})}),Ee("div",{className:"flex-none",children:[!t&&V("div",{className:"dropdown dropdown-end flex gap-3",children:V("button",{className:"justify-between",onClick:()=>c(!0),children:"Connect Now"})}),t&&Ee("div",{className:"dropdown dropdown-end",children:[V("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:V("div",{className:"w-10 rounded-full",children:V("img",{src:s})})}),Ee("ul",{tabIndex:0,className:"menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52",children:[V("li",{children:Ee("a",{href:"/dashboard",className:"justify-between",children:["Dashboard",V("span",{className:"badge",children:"New"})]})}),V("li",{onClick:l,children:V("a",{children:"Logout"})})]})]})]})]})};const $_="/assets/feature-icon-01-18817b60.svg",F_="/assets/feature-icon-02-94272e2d.svg",j_="/assets/feature-icon-03-2336de93.svg",pL="/assets/feature-icon-04-f99b8b47.svg",mL="/assets/feature-icon-05-fc57e5f5.svg",gL="/assets/feature-icon-06-e93cd88c.svg";function _u(){return V("div",{className:"Waves",children:V("div",{children:V("div",{className:"header",children:V("div",{children:Ee("svg",{className:"waves",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none",shapeRendering:"auto",children:[V("defs",{children:V("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})}),Ee("g",{className:"parallax",children:[V("use",{xlinkHref:"#gentle-wave",x:48,y:0,fill:"rgba(255,255,255,0.7"}),V("use",{xlinkHref:"#gentle-wave",x:48,y:3,fill:"rgba(255,255,255,0.5)"}),V("use",{xlinkHref:"#gentle-wave",x:48,y:5,fill:"rgba(255,255,255,0.3)"}),V("use",{xlinkHref:"#gentle-wave",x:48,y:7,fill:"#fff"})]})]})})})})})}const U_=()=>Ee(lh,{children:[V(_u,{}),V(wu,{}),Ee("div",{className:"lg:h-full grid grid-cols-1 lg:grid-cols-2",children:[Ee("div",{className:"slogan ml-5 lg:mt-24",children:[V("h1",{className:"text-3xl",children:"Code without worrying about privacy"}),V("h1",{className:"text-3xl",children:"Meet without worrying about privacy"}),V("h1",{className:"text-3xl",children:"Collaborate without worrying about privacy"}),Ee("h2",{className:"mt-4 subtitle",children:[V("hr",{}),V("p",{className:"",children:"Say hello to One click decentralised Live Code Collaboration"})]}),Ee("div",{className:"lg:mt-12",children:[V("a",{href:"/create",className:"text-xl bg-purple-600 inline-block text-center rounded m-1 p-5 ml-10",children:"Create A Meeting"}),V("a",{href:"/lobby",className:"text-xl bg-purple-600 inline-block text-center rounded m-1 p-5 ml-10",children:"Join a Meeting"})]})]}),V("div",{className:"gif",children:V("img",{src:eN,alt:"gif"})})]}),V("div",{className:"Container-landing",children:V("div",{className:"features-inner section-inner has-bottom-divider",children:Ee("div",{className:"features-wrap",children:[V("div",{className:"feature text-center is-revealing",children:Ee("div",{className:"feature-inner",children:[V("div",{className:"feature-icon",children:V("img",{src:$_,alt:"mirotalksfu-screen"})}),V("h4",{className:"feature-title text-sky-600 mt-24",children:"Screen Sharing"}),V("p",{className:"text-sm mb-0",children:"Share your screen, application window, present your documents, slides and more."})]})}),V("div",{className:"feature text-center is-revealing",children:Ee("div",{className:"feature-inner",children:[V("div",{className:"feature-icon",children:V("img",{src:F_,alt:"mirotalksfu-webcam"})}),V("h4",{className:"feature-title text-sky-600 mt-24",children:"WebCam Streaming"}),V("p",{className:"text-sm mb-0",children:"Having the webcam on, allows participants to make a deeper connection with you. Up to 4k resolution."})]})}),V("div",{className:"feature text-center is-revealing",children:Ee("div",{className:"feature-inner",children:[V("div",{className:"feature-icon",children:V("img",{src:j_,alt:"mirotalksfu-audio"})}),V("h4",{className:"feature-title text-sky-600 mt-24",children:"Audio Streaming"}),V("p",{className:"text-sm mb-0",children:"Echo cancellation and noise suppression that make your audio crystal clear."})]})}),V("div",{className:"feature text-center is-revealing",children:Ee("div",{className:"feature-inner",children:[V("div",{className:"feature-icon",children:V("img",{src:pL,alt:"mirotalksfu-chat"})}),V("h4",{className:"feature-title text-sky-600 mt-24",children:"Chat"}),V("p",{className:"text-sm mb-0",children:"Chat with others in meeting with integrated emoji picker to show your feeling."})]})}),V("div",{className:"feature text-center is-revealing",children:Ee("div",{className:"feature-inner",children:[V("div",{className:"feature-icon",children:V("img",{src:mL,alt:"mirotalksfu-recording"})}),V("h4",{className:"feature-title text-sky-600 mt-24",children:"Recording meeting"}),V("p",{className:"text-sm mb-0",children:"Record your Screen, Video, and Audio on Your browser Blob. Save it for using it in the future or to share with others."})]})}),V("div",{className:"feature text-center is-revealing",children:Ee("div",{className:"feature-inner",children:[V("div",{className:"feature-icon",children:V("img",{src:gL,alt:"mirotalksfu-whiteboard"})}),V("h4",{className:"feature-title text-sky-600 mt-24",children:"Collaborative Whiteboard"}),V("p",{className:"text-sm mb-0",children:"Advanced interactive whiteboard to draw and explain your concepts to the other participants in the meeting."})]})}),V("div",{className:"feature text-center is-revealing",children:Ee("div",{className:"feature-inner",children:[V("div",{className:"feature-icon",children:V("img",{src:$_,alt:"mirotalksfu-filesharing"})}),V("h4",{className:"feature-title text-sky-600 mt-24",children:"File Sharing"}),V("p",{className:"text-sm mb-0",children:"Share any types of files with all participants in the meeting."})]})}),V("div",{className:"feature text-center is-revealing",children:Ee("div",{className:"feature-inner",children:[V("div",{className:"feature-icon",children:V("img",{src:F_,alt:"mirotalksfu-privacy"})}),V("h4",{className:"feature-title text-sky-600 mt-24",children:"Total privacy"}),V("p",{className:"text-sm mb-0",children:"Data stays between you and your participants. MiroTalk SFU doesn't collect or share personal information."})]})}),V("div",{className:"feature text-center is-revealing",children:Ee("div",{className:"feature-inner",children:[V("div",{className:"feature-icon",children:V("img",{src:j_,alt:"mirotalksfu-security"})}),V("h4",{className:"feature-title text-sky-600 mt-24",children:"Maximum security"}),V("p",{className:"text-sm mb-0",children:"Thanks to WebRTC, all the media streams are encrypted using Secure Real-time Transport Protocol (SRTP)."})]})})]})})})]});function vL(){zy();const[t,e]=G.useState(!1),[r,n]=G.useState({meetings:[{id:1,name:"Meeting 1",date:"2021-09-03",time:"12:00",duration:"1 hour"},{id:2,name:"Meeting 2",date:"2021-09-02",time:"13:00",duration:"1 hour"}]});return G.useEffect(()=>{if(localStorage.getItem("defaultAccount")){e(!0);const i=r;i.meetings.sort((o,s)=>new Date(o.date)-new Date(s.date)),n(i)}},[]),Ee("div",{children:[V(_u,{}),V(wu,{}),t?V("div",{className:"container",children:V("div",{className:"flex flex-col",children:V("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:V("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:V("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Ee("table",{className:"min-w-full divide-y divide-gray-200",children:[V("thead",{className:"bg-gray-50",children:Ee("tr",{children:[V("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Meeting Name"}),V("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),V("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),V("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),V("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Join Meeting"}),V("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View Transcript"}),V("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View Recording"})]})}),V("tbody",{className:"bg-white divide-y divide-gray-200",children:r.meetings.map(i=>Ee("tr",{children:[V("td",{className:"px-6 py-4 whitespace-nowrap",children:V("div",{className:"flex items-center",children:V("div",{className:"ml-4",children:V("div",{className:"text-sm font-medium text-gray-900",children:i.name})})})}),V("td",{className:"px-6 py-4 whitespace-nowrap",children:V("div",{className:"text-sm text-gray-900",children:i.date})}),V("td",{className:"px-6 py-4 whitespace-nowrap",children:V("div",{className:"text-sm text-gray-900",children:i.time})}),V("td",{className:"px-6 py-4 whitespace-nowrap",children:V("div",{className:"text-sm text-gray-900",children:i.duration})}),V("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:()=>{console.log("Joining meeting")},children:"Join"})}),V("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:()=>{console.log("Viewing transcript")},children:"View Transcript"})}),V("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:()=>{console.log("Viewing Recording")},children:"View Recording"})})]},i.id))})]})})})})})}):V("div",{className:"container",children:"You are not logged in"})]})}let df;const yL=new Uint8Array(16);function bL(){if(!df&&(df=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!df))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return df(yL)}const gr=[];for(let t=0;t<256;++t)gr.push((t+256).toString(16).slice(1));function wL(t,e=0){return(gr[t[e+0]]+gr[t[e+1]]+gr[t[e+2]]+gr[t[e+3]]+"-"+gr[t[e+4]]+gr[t[e+5]]+"-"+gr[t[e+6]]+gr[t[e+7]]+"-"+gr[t[e+8]]+gr[t[e+9]]+"-"+gr[t[e+10]]+gr[t[e+11]]+gr[t[e+12]]+gr[t[e+13]]+gr[t[e+14]]+gr[t[e+15]]).toLowerCase()}const _L=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),z_={randomUUID:_L};function xA(t,e,r){if(z_.randomUUID&&!e&&!t)return z_.randomUUID();t=t||{};const n=t.random||(t.rng||bL)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return wL(n)}function SL(){const t=zy(),e=()=>{t(`/meeting/${xA()}`)};return Ee("div",{children:[V(_u,{}),V(wu,{}),Ee("div",{className:"flex flex-col items-center justify-center h-screen",children:[V("h1",{className:"text-3xl",children:"Create a Meeting"}),V("button",{onClick:e,className:"bg-purple-600 text-white p-3 rounded mt-5",children:"Create"}),Ee("div",{className:"flex flex-col items-center justify-center h-screen",children:[V("h1",{className:"text-3xl",children:"Join a Meeting"}),V("input",{type:"text",placeholder:"Enter Meeting ID",defaultValue:e,className:"border-2 border-purple-600 p-2 rounded mt-5"}),V("button",{onClick:e,className:"bg-purple-600 text-white p-3 rounded mt-5",children:"Join"})]})]})]})}function q_(){const t=()=>{console.log("Meeting Scheduled"),Rt.success("Meeting Scheduled Successfully")};return Ee("div",{children:[V(_u,{}),V(wu,{}),Ee("div",{className:"bg-gray-50 flex flex-col sm:py-12",children:[Ee("div",{className:"p-10 xs:p-0 mx-auto md:w-full md:max-w-md",children:[V("h1",{className:"font-bold text-center text-2xl mb-5",children:"Schedule a Meeting"}),Ee("div",{className:"bg-white shadow w-full rounded-lg divide-y divide-gray-200",children:[Ee("div",{className:"px-5 py-7",children:[V("label",{className:"font-semibold text-sm text-gray-600 pb-1 block",children:"Meeting Title"}),V("input",{type:"text",className:"border rounded-lg px-3 py-2 mt-1 mb-5 text-sm w-full"}),V("label",{className:"font-semibold text-sm text-gray-600 pb-1 block",children:"Date & Time"}),V("input",{type:"datetime-local",className:"border rounded-lg px-3 py-2 mt-1 mb-5 text-sm w-full"}),V("label",{className:"font-semibold text-sm text-gray-600 pb-1 block",children:"Meeting Code"}),V("input",{type:"text",className:"border rounded-lg px-3 py-2 mt-1 mb-5 text-sm w-full",placeholder:xA(),required:!0}),V("label",{className:"font-semibold text-sm text-gray-600 pb-1 block",children:"Enter Host Wallet Address *"}),V("input",{type:"text",className:"border rounded-lg px-3 py-2 mt-1 mb-5 text-sm w-full",placeholder:"Enter Host Wallet Address"}),V("label",{className:"font-semibold text-sm text-gray-600 pb-1 block",children:"Description"}),V("input",{type:"text",className:"border rounded-lg px-3 py-2 mt-1 mb-5 text-sm w-full"})]}),Ee("div",{className:"flex w-full items-center justify-center bg-gray-100 gap-2",children:[V("div",{className:"flex items-center justify-center py-4 bg-gray-100 rounded-b-lg",children:V("button",{className:"bg-purple-600 text-white px-4 py-3 rounded-xl font-medium text-sm",onClick:t,children:"Schedule"})}),V("div",{className:"flex items-center justify-center py-4 bg-gray-100 rounded-b-lg",children:V("button",{className:"bg-purple-600 text-white px-4 py-3 rounded-xl font-medium text-sm",onClick:()=>{},children:"Start An instant Meeting"})})]})]})]}),Ee("div",{className:"flex justify-center gap-6 items-center mt-6",children:[V("a",{href:"#",className:"text-xs font-semibold text-gray-500 hover:text-blue-700",children:"Back to Dashboard"}),V("a",{href:"#",className:"text-xs font-semibold text-gray-500 hover:text-blue-700",children:"Back to Home"}),V("a",{href:"#",className:"text-xs font-semibold text-gray-500 hover:text-blue-700",children:"Back to Login"}),V("a",{href:"#",className:"text-xs font-semibold text-gray-500 hover:text-blue-700",children:"Back to Register"}),V("a",{href:"#",className:"text-xs font-semibold text-gray-500 hover:text-blue-700",children:"Back to Profile"}),V("a",{href:"#",className:"text-xs font-semibold text-gray-500 hover:text-blue-700",children:"Back to Settings"})]})]})]})}G.createContext({});var xL=console,Y=xL,EL=(t,e)=>({peers:new Set,addPeerPort:r=>{Y.info({message:`Adding peer ${r} to port store`,meta:{peer:r}}),t(n=>({peers:n.peers.add(r)}))},removePeerPort:r=>{const n=e().peers;n.delete(r),Y.info({message:`Removed peer ${r} from port store`,meta:{peerSet:n}}),t({peers:n})}}),RL=EL,PL=t=>({isTest:!0,toggleIsTest:()=>{t(e=>({isTest:!e.isTest}))}}),AL=PL,kL=(t,e)=>({isLastNActive:!1,activeViewPortIds:new Set,activeViewPortCount:0,maxViewPortCount:7,getSpaceLeftInViewport:()=>e().maxViewPortCount-e().activeViewPortCount,getActiveViewPortIds:()=>e().activeViewPortIds,activateLastN:()=>{e().getSpaceLeftInViewport()===0&&(Y.info({type:"ViewPortStore",message:"activateLastN() | no space left in viewport"}),t({isLastNActive:!0}))},deactivateLastN:()=>{e().activeViewPortCount<=e().maxViewPortCount&&(Y.info({type:"ViewPortStore",message:"deactivateLastN() | deactivating last n"}),t({isLastNActive:!1}))},setActiveViewPort:r=>{Y.info({activeViewPortIds:r,message:"Setting active view port ids",meta:{activeViewPortIds:r}});const n=r.length;let i=e().isLastNActive;n<e().maxViewPortCount&&(Y.info({message:"setActiveViewPort() | Setting lastNStatus to false as less peers joined",meta:{initViewPortCount:n,maxViewPortCount:e().maxViewPortCount}}),i=!1);const o=new Set(r);t({isLastNActive:i,activeViewPortIds:o,activeViewPortCount:n})},addPeerViewPort:r=>{Y.info({peerId:r,message:"Adding peer view port",meta:{peerId:r}});const n=e().activeViewPortCount;if(n<e().maxViewPortCount){Y.info({message:"addPeerViewPort() | Adding peer to active view port ids",meta:{peerId:r,activeViewPortCount:n,maxViewPortCount:e().maxViewPortCount}});const i=e().activeViewPortIds;i.add(r),t({activeViewPortIds:i,activeViewPortCount:n+1})}},removePeerViewPort(r){Y.info({peerId:r,message:"Removing peer view port",meta:{peerId:r}});const n=e().activeViewPortCount,i=e().activeViewPortIds;i.has(r)&&n>0&&(Y.info({message:"removePeerViewPort() | Removing peer from active view port ids",meta:{peerId:r,activeViewPortCount:n,maxViewPortCount:e().maxViewPortCount}}),i.delete(r),t({activeViewPortIds:i,activeViewPortCount:n-1}))}}),TL=kL;const H_=t=>{let e;const r=new Set,n=(c,l)=>{const u=typeof c=="function"?c(e):c;if(!Object.is(u,e)){const f=e;e=l??typeof u!="object"?u:Object.assign({},e,u),r.forEach(d=>d(e,f))}},i=()=>e,a={setState:n,getState:i,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{({VITE_BACKEND_SERVER:"http://localhost:3000",VITE_HUDDLE_KEY:"2cb67b5aff41dc9a61409cb63d7414c64e2a070723e82b362a1dba20b93c0af7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),r.clear()}};return e=t(n,i,a),a},EA=t=>t?H_(t):H_;var CL=t=>(({VITE_BACKEND_SERVER:"http://localhost:3000",VITE_HUDDLE_KEY:"2cb67b5aff41dc9a61409cb63d7414c64e2a070723e82b362a1dba20b93c0af7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[DEPRECATED] default export is deprecated, instead import { createStore } ..."),EA(t)),a0={},OL={get exports(){return a0},set exports(t){a0=t}},RA={},l0={},ML={get exports(){return l0},set exports(t){l0=t}},PA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=G;function NL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IL=typeof Object.is=="function"?Object.is:NL,DL=cl.useState,LL=cl.useEffect,BL=cl.useLayoutEffect,$L=cl.useDebugValue;function FL(t,e){var r=e(),n=DL({inst:{value:r,getSnapshot:e}}),i=n[0].inst,o=n[1];return BL(function(){i.value=r,i.getSnapshot=e,rg(i)&&o({inst:i})},[t,r,e]),LL(function(){return rg(i)&&o({inst:i}),t(function(){rg(i)&&o({inst:i})})},[t]),$L(r),r}function rg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!IL(t,r)}catch{return!0}}function jL(t,e){return e()}var UL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jL:FL;PA.useSyncExternalStore=cl.useSyncExternalStore!==void 0?cl.useSyncExternalStore:UL;(function(t){t.exports=PA})(ML);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h=G,zL=l0;function qL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var HL=typeof Object.is=="function"?Object.is:qL,VL=zL.useSyncExternalStore,WL=$h.useRef,GL=$h.useEffect,KL=$h.useMemo,QL=$h.useDebugValue;RA.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var o=WL(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=KL(function(){function c(h){if(!l){if(l=!0,u=h,h=n(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,HL(u,h))return p;var m=n(h);return i!==void 0&&i(p,m)?p:(u=h,f=m)}var l=!1,u,f,d=r===void 0?null:r;return[function(){return c(e())},d===null?void 0:function(){return c(d())}]},[e,r,n,i]);var a=VL(t,o[0],o[1]);return GL(function(){s.hasValue=!0,s.value=a},[a]),QL(a),a};(function(t){t.exports=RA})(OL);const JL=du(a0),{useSyncExternalStoreWithSelector:YL}=JL;function XL(t,e=t.getState,r){const n=YL(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return G.useDebugValue(n),n}const V_=t=>{({VITE_BACKEND_SERVER:"http://localhost:3000",VITE_HUDDLE_KEY:"2cb67b5aff41dc9a61409cb63d7414c64e2a070723e82b362a1dba20b93c0af7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&typeof t!="function"&&console.warn('[DEPRECATED] Passing a vanilla store will be unsupported in the future version. Please use `import { useStore } from "zustand"` to use the vanilla store in React.');const e=typeof t=="function"?EA(t):t,r=(n,i)=>XL(e,n,i);return Object.assign(r,e),r},ZL=t=>t?V_(t):V_;var AA=t=>(({VITE_BACKEND_SERVER:"http://localhost:3000",VITE_HUDDLE_KEY:"2cb67b5aff41dc9a61409cb63d7414c64e2a070723e82b362a1dba20b93c0af7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[DEPRECATED] default export is deprecated, instead import { create } from'zustand'"),ZL(t));const c0=new Map,hf=t=>{const e=c0.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},e5=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=c0.get(r.name);if(n)return{type:"tracked",store:t,...n};const i={connection:e.connect(r),stores:{}};return c0.set(r.name,i),{type:"tracked",store:t,...i}},t5=(t,e={})=>(r,n,i)=>{const{enabled:o,anonymousActionType:s,store:a,...c}=e;let l;try{l=(o??({VITE_BACKEND_SERVER:"http://localhost:3000",VITE_HUDDLE_KEY:"2cb67b5aff41dc9a61409cb63d7414c64e2a070723e82b362a1dba20b93c0af7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!l)return({VITE_BACKEND_SERVER:"http://localhost:3000",VITE_HUDDLE_KEY:"2cb67b5aff41dc9a61409cb63d7414c64e2a070723e82b362a1dba20b93c0af7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(r,n,i);const{connection:u,...f}=e5(a,l,c);let d=!0;i.setState=(m,y,g)=>{const v=r(m,y);if(!d)return v;const S=g===void 0?{type:s||"anonymous"}:typeof g=="string"?{type:g}:g;return a===void 0?(u==null||u.send(S,n()),v):(u==null||u.send({...S,type:`${a}/${S.type}`},{...hf(c.name),[a]:i.getState()}),v)};const h=(...m)=>{const y=d;d=!1,r(...m),d=y},p=t(i.setState,n,i);if(f.type==="untracked"?u==null||u.init(p):(f.stores[f.store]=i,u==null||u.init(Object.fromEntries(Object.entries(f.stores).map(([m,y])=>[m,m===f.store?p:y.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let m=!1;const y=i.dispatch;i.dispatch=(...g)=>{({VITE_BACKEND_SERVER:"http://localhost:3000",VITE_HUDDLE_KEY:"2cb67b5aff41dc9a61409cb63d7414c64e2a070723e82b362a1dba20b93c0af7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&g[0].type==="__setState"&&!m&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),m=!0),y(...g)}}return u.subscribe(m=>{var y;switch(m.type){case"ACTION":if(typeof m.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return ng(m.payload,g=>{if(g.type==="__setState"){if(a===void 0){h(g.state);return}Object.keys(g.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const v=g.state[a];if(v==null)return;JSON.stringify(i.getState())!==JSON.stringify(v)&&h(v);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(g)});case"DISPATCH":switch(m.payload.type){case"RESET":return h(p),a===void 0?u==null?void 0:u.init(i.getState()):u==null?void 0:u.init(hf(c.name));case"COMMIT":if(a===void 0){u==null||u.init(i.getState());return}return u==null?void 0:u.init(hf(c.name));case"ROLLBACK":return ng(m.state,g=>{if(a===void 0){h(g),u==null||u.init(i.getState());return}h(g[a]),u==null||u.init(hf(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return ng(m.state,g=>{if(a===void 0){h(g);return}JSON.stringify(i.getState())!==JSON.stringify(g[a])&&h(g[a])});case"IMPORT_STATE":{const{nextLiftedState:g}=m.payload,v=(y=g.computedStates.slice(-1)[0])==null?void 0:y.state;if(!v)return;h(a===void 0?v:v[a]),u==null||u.send(null,g);return}case"PAUSE_RECORDING":return d=!d}return}}),p},kA=t5,ng=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};var r5=(t,e)=>({...AL(t),...RL(t,e),...TL(t,e)}),n5=AA(kA(r5,{name:"huddle01-PortStore",anonymousActionType:"action"})),{getState:Un,setState:kK}=n5,i5=t=>({isTest:!0,toggleIsTest:()=>{t(e=>({isTest:!e.isTest}))}}),o5=i5,TA={qvga:{width:{ideal:320},height:{ideal:240}},vga:{width:{ideal:640},height:{ideal:480}},hd:{width:{ideal:1280},height:{ideal:720}}},s5={optional:[{googDscp:!0}]},a5=[{scaleResolutionDownBy:4,maxBitrate:3e5,rid:"r0",scalabilityMode:"S1T3"},{scaleResolutionDownBy:2,maxBitrate:6e5,rid:"r1",scalabilityMode:"S1T3"},{scaleResolutionDownBy:1,maxBitrate:9e6,rid:"r2",scalabilityMode:"S1T3"}],l5=(t,e)=>({mediaDevice:null,stream:null,streamError:null,deviceLoading:!0,streamsArry:[],enableStream:async()=>{var r;if(e().stream){Y.error({type:"error",msg:"createMediaSlice.enableStream() | No stream"});return}const n={video:{...TA.hd,deviceId:(r=e().mediaDevice)==null?void 0:r.deviceId}};if(await navigator.mediaDevices.getUserMedia(n).then(i=>{const o=[...e().streamsArry,i];t(()=>({stream:i,deviceLoading:!1,streamsArry:o}))}).catch(i=>{t(()=>({streamError:{type:i.name,blocked:!0},deviceLoading:!1}))}),!e().mediaDevice){const i=await e().getMediaDevices();Y.info({mediaDevices:i}),e().setMediaDevice(i[0])}},getMediaDevices:async()=>{const{setStreamError:r}=e();try{return(await navigator.mediaDevices.enumerateDevices()).filter(({kind:o})=>o==="videoinput")}catch(n){return r(n==null?void 0:n.name),[]}},setMediaDevice:r=>{t(()=>({mediaDevice:r})),Y.info("set")},switchMediaStream:r=>{if(Y.info({type:"info",msg:"switchMediaStream() | Switching media stream"}),!r){Y.info({type:"info",msg:"switchMediaStream() | No stream Found using default Stream"});return}e().pauseTracks(),e().setMediaStream(r)},setMediaStream:r=>{Y.info({type:"info",msg:"setMediaStream() | Setting media stream",stream:r}),t(()=>({stream:r}))},pauseTracks:()=>{const{stream:r}=e();r&&(e().streamsArry.forEach(n=>{n.getTracks().forEach(i=>{i.stop()})}),r.getTracks().forEach(n=>n.stop()),t(()=>({stream:null,streamsArry:[]})))},setDeviceLoading:r=>{t(()=>({deviceLoading:r}))},setStreamError:r=>{t(()=>({streamError:{type:r||"UnknownError",blocked:r==="NotAllowedError"}}))}}),c5=l5,u5=(t,e)=>({micState:{mediaDevice:null,stream:null,streamError:null,deviceLoading:!0},audioDevices:[],enableAudioStream:async()=>{var r;if(e().micState.stream){Y.error({type:"error",msg:"createMediaSlice.enableStream() | No stream"});return}const n={audio:{deviceId:(r=e().micState.mediaDevice)==null?void 0:r.deviceId}};if(Y.info("Enabling new Mic stream"),await navigator.mediaDevices.getUserMedia(n).then(i=>{t(()=>({micState:{...e().micState,stream:i,deviceLoading:!1}}))}).catch(i=>{t(()=>({micState:{...e().micState,streamError:{type:i.name,blocked:i.name==="NotAllowedError"},deviceLoading:!1}}))}),navigator.mediaDevices.ondevicechange=()=>{e().getAudioDevices()},!e().micState.mediaDevice){const i=await e().getAudioDevices();Y.info({audioDevices:i}),e().setAudioDevice(i[0])}},getAudioDevices:async()=>{const{setAudioStreamError:r}=e();try{const i=(await navigator.mediaDevices.enumerateDevices()).filter(({kind:o})=>o==="audioinput");return t(()=>({audioDevices:i})),i}catch(n){return r(n==null?void 0:n.name),[]}},setAudioDevice:r=>{t(()=>({micState:{...e().micState,mediaDevice:r}}))},switchAudioStream:r=>{if(Y.info({type:"info",msg:"switchAudioStream() | Switching A stream"}),!r){Y.info({type:"info",msg:"switchAudioStream() | No stream Found using default Stream"});return}e().pauseAudioTracks(),e().setAudioStream(r)},setAudioStream:r=>{Y.info({type:"info",msg:"setAudioStream() | Setting Audio stream",stream:r}),t(()=>({micState:{...e().micState,stream:r}}))},pauseAudioTracks:()=>{const{stream:r}=e().micState;r&&(Y.info({type:"info",msg:"pauseAudioTracks() | Pausing Audio stream"}),r.getTracks().forEach(n=>n.stop()),t(()=>({micState:{...e().micState,stream:null}})))},setAudioDeviceLoading:r=>{t(()=>({micState:{...e().micState,deviceLoading:r}}))},setAudioStreamError:r=>{t(()=>({micState:{...e().micState,streamError:{type:r||"UnknownError",blocked:r==="NotAllowedError"}}}))}}),f5=u5,d5=(t,e)=>({networkStats:{last_updated:Date.now(),data:{}},bandwidthSaver:!1,setBandwidthSaver:r=>{t(()=>({bandwidthSaver:r}))},setNetworkStats:r=>{const n=e().networkStats;n.last_updated>r.last_updated||n.data!==r.data&&t(()=>({networkStats:r}))}}),h5=d5,p5=t=>({peerDisplayName:"",setPeerDisplayName:e=>{t(()=>({peerDisplayName:e}))}}),m5=p5,pf={cam:"isCamPaused",mic:"isMicPaused",share:"isSharePaused",shareAudio:"isShareAudioPaused"},g5=(t,e)=>({peerCount:0,peers:{},increasePeerCount:(r=1)=>{t(n=>({peerCount:n.peerCount+r})),Y.info({message:"increasePeerCount",peerCount:e().peerCount})},decreasePeerCount:(r=1)=>{if(e().peerCount<r){Y.error({message:"decreacePeerCount | peerCount is not sufficient",peerCount:e().peerCount});return}t(n=>({peerCount:n.peerCount-r})),Y.info({message:"decreacePeerCount",peerCount:e().peerCount})},addPeer:(r,n)=>{const i=e().peers;t(()=>({peers:{...i,[r]:n}}))},removePeer:r=>{const n=e().peers;delete n[r],t(()=>({peers:{...n}}))},addConsumerMedia:(r,n,i)=>{const o=e().peers[r];t(()=>{var s,a,c,l;return{peers:{...e().peers,[r]:{...o,consumers:{mic:(s=o.consumers)==null?void 0:s.mic,cam:(a=o.consumers)==null?void 0:a.cam,share:(c=o.consumers)==null?void 0:c.share,shareAudio:(l=o.consumers)==null?void 0:l.shareAudio,[n]:i},[pf[n]]:!1,isSharePaused:n==="share"}}}})},removeConsumerMedia:(r,n)=>{var i,o;const s=e().peers;s[r]&&((o=(i=s[r])==null?void 0:i.consumers)==null||delete o[n],t(()=>({peers:{...s,[r]:{...s[r],[pf[n]]:!0}}})))},pauseConsumerMedia:(r,n)=>{const i=e().peers;i[r]&&t(()=>({peers:{...i,[r]:{...i[r],[pf[n]]:!0}}}))},resumeConsumerMedia(r,n){const i=e().peers;i[r]&&t(()=>({peers:{...i,[r]:{...i[r],[pf[n]]:!1}}}))},togglePeerHandRaise(r,n){const i=e().peers;i[r]&&t(()=>({peers:{...i,[r]:{...i[r],isHandRaised:n}}}))},updatePeers:(r,n,i)=>{const o=e().peers,s={...o,[r]:{...o[r],[n]:i}};t(()=>({peers:{...s}}))},addReaction:(r,n)=>{const i=e().peers,o=i[r];delete i[r],t(()=>({peers:{...i,[r]:{...o,reaction:n}}})),setTimeout(()=>{e().removeReaction(r)},5e3)},removeReaction:r=>{const n=e().peers,i=n[r];delete n[r],t(()=>({peers:{...n,[r]:{...i,reaction:""}}}))},setPeerAvatarUrl(r,n){const i=e().peers,o=i[r];delete i[r],t(()=>({peers:{...i,[r]:{...o,avatarUrl:n}}}))}}),v5=g5,y5=t=>({recordingState:{inProgress:!1,processing:!1,started:!1},uploadToIpfs:!1,recordings:[],newRecording:null,notifyRecording:{started:!1,finished:!1},startRecording:()=>{t(e=>({recordingState:{...e.recordingState,inProgress:!0}}))},toggleRecording:e=>{t(r=>({recordingState:{...r.recordingState,started:e}}))},stopRecording:()=>{t(e=>({recordingState:{...e.recordingState,inProgress:!1,processing:!0}}))},updateRecordings:e=>{t(r=>({recordings:[...r.recordings,e],newRecording:e,recordingState:{...r.recordingState,processing:!1},uploadToIpfs:e.uploadToIpfs}))},setRecordings:e=>{t(r=>({...r,recordings:e}))},endRecording:()=>{t(e=>({recordingState:{...e.recordingState,inProgress:!1,processing:!1}}))},removeNewrecording:()=>{t(()=>({newRecording:null}))},setNotifyRecording:(e,r)=>{t(n=>({notifyRecording:{...n.notifyRecording,[e]:r}}))}}),b5=y5,w5=(t,e)=>({roomState:{roomId:"",joined:!1,droppedState:{type:"not-joined",isDropped:!1},createdAt:0,isRoomLocked:!1},setRoomLockState:r=>{const n=e().roomState;t(()=>({roomState:{...n,isRoomLocked:r}}))},setRoomId:r=>{const n=e().roomState;t(()=>({roomState:{...n,roomId:r}}))},setJoined:()=>{const r=e().roomState;t(()=>({roomState:{...r,joined:!0}}))},setCreatedAt:r=>{const n=e().roomState;t(()=>({roomState:{...n,createdAt:r}}))},setDropState:r=>{const n=e().roomState;t(()=>({roomState:{roomId:n.roomId,joined:!1,droppedState:{type:r,isDropped:!0},createdAt:n.createdAt,isRoomLocked:n.isRoomLocked}}))}}),_5=w5,S5=(t,e)=>({activeSpeaker:null,setActiveSpeaker(r){t(()=>({activeSpeaker:r}))}}),x5=S5,_s,E5=async t=>{if(_s&&_s.isActive())return Y.info({type:"error",msg:"initFigment() | Figment is already active"}),t;_s=new window.FigmentApp({customerKey:"d41d8cd98f00b204e9800998ecf8427e"});const e=await _s.activate({activeApp:"VB",vbQuality:"performance",inputMediaStream:{mediaStream:t,stopTracksOnDestruction:!0}});return Y.info({type:"info",msg:"initFigment() | Figment is activated"}),e},u0=async()=>{try{_s&&_s.isActive()&&await _s.deactivate()}catch(t){Y.error(t)}},R5=(t,e)=>({isFigmentEnabled:!1,figment:{figmentType:"enable",figmentStream:null,figmentstreamError:null,figmentLoading:!1},enableFigmentCamStream:async r=>{if(e().isFigmentEnabled){Y.info({type:"info",msg:"Figment stream already enabled"});return}const n={video:{...TA.hd,deviceId:r==null?void 0:r.deviceId}};Y.info("Enabling new figment stream");const i=e().figment;await navigator.mediaDevices.getUserMedia(n).then(o=>{t(()=>({figment:{...i,figmentStream:o,figmentLoading:!1},isFigmentEnabled:!0}))}).catch(o=>{t(()=>({figment:{...i,figmentstreamError:{type:o.name,blocked:o.name==="NotAllowedError"},figmentLoading:!1},isFigmentEnabled:!1}))})},disableFigmentStream:()=>{const{figment:{figmentStream:r}}=e();if(!r){Y.info({type:"error",message:"figmentStream is null"});return}r.getTracks().forEach(n=>n.stop()),t(()=>({figment:{...e().figment,figmentStream:null,figmentLoading:!1},isFigmentEnabled:!1}))},setFigmentStream:r=>{t(()=>({figment:{...e().figment,figmentStream:r}}))},setFigmentStreamError:r=>{t(()=>({figment:{...e().figment,figmentstreamError:{type:r||"UnknownError",blocked:r==="NotAllowedError"}}}))},setFigmentEnabled:r=>{t(()=>({isFigmentEnabled:r}))},toggleFigmentType:r=>{Y.info("toggleFigmentType",{figmentType:r}),t(()=>({figment:{...e().figment,figmentType:r}}))},toggleFigmentStream:async r=>{if(r==="enable"&&!e().figment.figmentStream){Y.info({type:"info",msg:"Figment Stream Init, Cam Stream Returned"}),await e().enableFigmentCamStream();return}if(r==="switch"){Y.info({type:"info",msg:"Toggling figment stream"}),e().disableFigmentStream(),Y.info({type:"info",msg:"Disable figment stream",figment:e().figment.figmentStream}),await e().enableFigmentCamStream(),Y.info({type:"info",msg:"Enable figment stream",figment:e().figment.figmentStream});return}r==="disable"?e().disableFigmentStream():Y.error({type:"error",message:"toggleFigmentStream: invalid streamState",streamState:r})},initFigmentStream:async()=>{const r=e().figment.figmentStream;if(r&&e().isFigmentEnabled){const n=await E5(r);Y.info({figTrack:n,stream:r,isSame:n===r}),e().setFigmentStream(n),Y.info({type:"info",msg:"Figment Stream Initialised finally",figment:n})}r||Y.error({type:"error",message:"Figment Stream is null",stream:r})}}),P5=R5,A5=(t,e)=>({gridView:"grid",screenSharePeerId:null,setGridView:(r,n)=>{if(r==="share"&&!n){Y.error({type:"error",message:"GridViewTypes.share requires peerId",gridView:r});return}if(r==="share"&&n){t(()=>({gridView:r,screenSharePeerId:n}));return}t(()=>({gridView:r,screenSharePeerId:null}))},enableScreenShare:r=>{if(!r){Y.error({type:"error",message:"GridViewTypes.share requires peerId",peerId:r});return}t(()=>({gridView:"share",screenSharePeerId:r}))},disableScreenShare:(r="grid")=>{e().gridView==="share"&&t(()=>({gridView:r,screenSharePeerId:null}))}}),k5=A5,T5=(t,e)=>({hostId:null,hostState:"host-true",meId:"",coHosts:[],hostControl:{allowVideo:!0,allowAudio:!0,allowScreenShare:!0,allowChat:!0},setHost:r=>{t(()=>({hostId:r}))},setCoHosts:r=>{t(()=>({coHosts:r}))},setHostState:r=>{t(()=>({hostState:r}))},setHostControl:r=>{t(()=>({hostControl:r}))},setSingleHostControl:(r,n)=>{t(()=>({hostControl:{...e().hostControl,[r]:n}}))},initHostControls:(r,n,i,o)=>{t(()=>({hostId:r,meId:n,coHosts:o,hostControl:i}))}}),C5=T5,O5=(t,e)=>({maxViewPortCount:7,activeViewPort:0,isLastNActive:!1,lastNPeerIds:[],getTotalNumberOfSwaps:r=>{let n=0;const i=e().lastNPeerIds,o=new Set(i);return r.map(s=>{o.has(s)||(n+=1)}),n},setLastNPeerIds:r=>{const n=e().lastNPeerIds,i=e().getTotalNumberOfSwaps(r);Y.info({type:"info",message:`totalNumberOfSwaps: ${i}`,meta:{lastNPeerIds:r,prevLastN:n,totalNumberOfSwaps:i}}),t(()=>({lastNPeerIds:r})),Y.info({type:"info",message:"setLastNPeerIds() | Added a new LastNPeerId",meta:{prevLastN:n,lastN:e().lastNPeerIds}})},addPeerToLastN:r=>{const n=e().lastNPeerIds;if(n.length>e().maxViewPortCount){Y.error({type:"error",message:"addPeerToLastN() | lastNPeerIds.length > get().maxViewPortCount",meta:{lastNPeerIds:n,maxViewPortCount:e().maxViewPortCount}});return}if(n.length===e().maxViewPortCount){Y.error({type:"error",message:"addPeerToLastN() | lastNPeerIds.length === get().maxViewPortCount",meta:{lastNPeerIds:n,maxViewPortCount:e().maxViewPortCount}});return}n.length<e().maxViewPortCount&&(n.push(r),t(()=>({lastNPeerIds:n})),Y.info({type:"info",message:"addPeerToLastN() | Peer Added to lastN",meta:{lastN:e().lastNPeerIds}}))},removePeerFromLastN:r=>{const n=e().lastNPeerIds,i=n.indexOf(r);if(i>-1){n.splice(i,1),t(()=>({lastNPeerIds:n})),Y.info({type:"info",message:"removePeerFromLastN() | Peer Removed from lastN",meta:{lastN:e().lastNPeerIds}});return}Y.error({type:"error",message:"removePeerFromLastN() | Peer not found in lastN",meta:{peerId:r,lastN:e().lastNPeerIds}})},activateLastN:()=>{Y.info({type:"info",message:"activateLastN",meta:{lastN:e().lastNPeerIds}});const r=!0;t(()=>({isLastNActive:r}))},deactivateLastN:()=>{Y.info({type:"info",message:"deactivateLastN",meta:{lastN:e().lastNPeerIds}});const r=!1;t(()=>({isLastNActive:r}))},addActiveViewPort:(r=1)=>{const n=e().activeViewPort;if(n+r>e().maxViewPortCount){Y.error({type:"error",message:"activeViewPort() | Cannot render these many viewports check calculation",meta:{activeViewPort:n}});return}t(()=>({activeViewPort:n+r}))},removeActiveViewPort:(r=1)=>{const n=e().activeViewPort;if(n<r){Y.error({type:"error",message:"removeActiveViewPort() | No Active ViewPort",meta:{activeViewPort:n,value:r}});return}t(()=>({activeViewPort:n-r}))}}),M5=O5,N5=(t,e)=>({layout:{type:"sideBarView"},setLayoutView:r=>{if(e().layout.type===r){Y.warn("Layout type is already set to: ",r);return}t(()=>({layout:{type:r}}))}}),I5=N5,D5=(t,e)=>({streamData:{},isLiveStreaming:!1,livePlatform:"livepeer",setPlatform:r=>{t({livePlatform:r})},startStreaming:r=>{if(e().streamData[r]){Y.info({message:`Live streaming already started for platform ${r}`,platform:r});return}const i={isLive:!1,isLoading:!0,url:""};t({streamData:{...e().streamData,[r]:i},livePlatform:r})},stopStreaming:r=>{const n=e().streamData[r];if(!n){Y.info({message:`Tried to set stream loading for platform ${r} but it was not found in the store`,meta:{platform:r}});return}if(!n.isLive){Y.info({message:`Tried to set stream loading for platform ${r} but it was NOT live`,meta:{platform:r}});return}const i=e().streamData;e().removeStreamData(r),t({streamData:i})},setStreamData:(r,n)=>{Y.info({message:`Setting stream data for platform ${r}`,meta:{platform:r,streamData:n}}),t({streamData:{...e().streamData,[r]:n}})},removeStreamData:r=>{const n=e().streamData;if(!n){Y.info({message:`Tried to remove stream data for platform ${r} but it was not found in the store`,meta:{platform:r}});return}Y.info({message:`Removing stream data for platform ${r}`,meta:{platform:r}}),delete n[r],t({streamData:n})}}),L5=D5,B5=t=>({lobbyPeers:[],addLobbyPeer:e=>{t(r=>({lobbyPeers:[...r.lobbyPeers,e]}))},setLobbyPeers:e=>{t(()=>({lobbyPeers:e}))}}),$5=B5,Zf={cam:"isCamPaused",mic:"isMicPaused",share:"isShared",shareAudio:"isAudioShared"},F5=(t,e)=>({peerId:"",geo:"",displayName:"",avatarUrl:"",isSharePaused:!0,isCamPaused:!1,isMicPaused:!1,isHandRaised:!1,reaction:"",producers:{cam:void 0,mic:void 0,share:void 0,shareAudio:void 0},initMe:r=>{t(r)},setMe:(r,n)=>{t(()=>({[r]:n}))},setGeo:r=>{t(()=>({geo:r}))},setAvatarUrl:r=>{t(()=>({avatarUrl:r}))},addProducerMedia:(r,n)=>{const i=e().producers;t(()=>({producers:{...i,[r]:n},[Zf[r]]:!1}))},removeProducerMedia:r=>{const n=e().producers;delete n[r],t(()=>({producers:{...n},[Zf[r]]:!0}))},toggleProducerMedia:(r,n)=>{t(()=>({[Zf[r]]:n==="off"}))},updateProducerMedia(r,n){const i=e().producers;t(()=>({producers:{...i,[r]:n}}))},toggleMeHandRaise:r=>{t(()=>({isHandRaised:r}))},addMeReaction:r=>{t(()=>({reaction:r})),setTimeout(()=>{e().rmMeReaction()},5e3)},rmMeReaction:()=>{t(()=>({reaction:""}))}}),j5=F5,U5=new Map,ig=U5,z5=Jd;function Jd(){}Jd.mixin=function(t){var e=t.prototype||t;e.isWildEmitter=!0,e.on=function(r,n,i){this.callbacks=this.callbacks||{};var o=arguments.length===3,s=o?arguments[1]:void 0,a=o?arguments[2]:arguments[1];return a._groupName=s,(this.callbacks[r]=this.callbacks[r]||[]).push(a),this},e.once=function(r,n,i){var o=this,s=arguments.length===3,a=s?arguments[1]:void 0,c=s?arguments[2]:arguments[1];function l(){o.off(r,l),c.apply(this,arguments)}return this.on(r,a,l),this},e.releaseGroup=function(r){this.callbacks=this.callbacks||{};var n,i,o,s;for(n in this.callbacks)for(s=this.callbacks[n],i=0,o=s.length;i<o;i++)s[i]._groupName===r&&(s.splice(i,1),i--,o--);return this},e.off=function(r,n){this.callbacks=this.callbacks||{};var i=this.callbacks[r],o;return i?arguments.length===1?(delete this.callbacks[r],this):(o=i.indexOf(n),o!==-1&&(i.splice(o,1),i.length===0&&delete this.callbacks[r]),this):this},e.emit=function(r){this.callbacks=this.callbacks||{};var n=[].slice.call(arguments,1),i=this.callbacks[r],o=this.getWildcardCallbacks(r),s,a,c;if(i)for(c=i.slice(),s=0,a=c.length;s<a&&c[s];++s)c[s].apply(this,n);if(o)for(a=o.length,c=o.slice(),s=0,a=c.length;s<a&&c[s];++s)c[s].apply(this,[r].concat(n));return this},e.getWildcardCallbacks=function(r){this.callbacks=this.callbacks||{};var n,i,o=[];for(n in this.callbacks)i=n.split("*"),(n==="*"||i.length===2&&r.slice(0,i[0].length)===i[0])&&(o=o.concat(this.callbacks[n]));return o}};Jd.mixin(Jd);var q5=z5;function H5(t,e){var r=-1/0;t.getFloatFrequencyData(e);for(var n=4,i=e.length;n<i;n++)e[n]>r&&e[n]<0&&(r=e[n]);return r}var f0;typeof window<"u"&&(f0=window.AudioContext||window.webkitAudioContext);var zn=null,V5=function(t,n){var r=new q5;if(!f0)return r;var n=n||{},i=n.smoothing||.1,o=n.interval||50,s=n.threshold,a=n.play,c=n.history||10,l=!0;zn=n.audioContext||zn||new f0;var u,f,d;d=zn.createAnalyser(),d.fftSize=512,d.smoothingTimeConstant=i,f=new Float32Array(d.frequencyBinCount),t.jquery&&(t=t[0]),t instanceof HTMLAudioElement||t instanceof HTMLVideoElement?(u=zn.createMediaElementSource(t),typeof a>"u"&&(a=!0),s=s||-50):(u=zn.createMediaStreamSource(t),s=s||-50),u.connect(d),a&&d.connect(zn.destination),r.speaking=!1,r.suspend=function(){return zn.suspend()},r.resume=function(){return zn.resume()},Object.defineProperty(r,"state",{get:function(){return zn.state}}),zn.onstatechange=function(){r.emit("state_change",zn.state)},r.setThreshold=function(m){s=m},r.setInterval=function(m){o=m},r.stop=function(){l=!1,r.emit("volume_change",-100,s),r.speaking&&(r.speaking=!1,r.emit("stopped_speaking")),d.disconnect(),u.disconnect()},r.speakingHistory=[];for(var h=0;h<c;h++)r.speakingHistory.push(0);var p=function(){setTimeout(function(){if(l){var m=H5(d,f);r.emit("volume_change",m,s);var y=0;if(m>s&&!r.speaking){for(var g=r.speakingHistory.length-3;g<r.speakingHistory.length;g++)y+=r.speakingHistory[g];y>=2&&(r.speaking=!0,r.emit("speaking"))}else if(m<s&&r.speaking){for(var g=0;g<r.speakingHistory.length;g++)y+=r.speakingHistory[g];y==0&&(r.speaking=!1,r.emit("stopped_speaking"))}r.speakingHistory.shift(),r.speakingHistory.push(0+(m>s)),p()}},o)};return p(),r},W5=(t,e)=>({dominantSpeaker:"",peerIdToVolume:{},addStreamToHark:(r,n)=>{const i=new MediaStream;if(i.addTrack(r),!i.getAudioTracks()[0])return;const o=e().removeStreamFromHark;e().peerIdToVolume[n]&&o(n);const s=V5(i,{interval:1e3,play:!1});t(()=>({peerIdToVolume:{...e().peerIdToVolume,[n]:0}})),ig.set(n,s),s.on("volume_change",a=>{const c=Math.round(Math.pow(10,a/85)*10);t(()=>({peerIdToVolume:{...e().peerIdToVolume,[n]:c}}));const l=e().dominantSpeaker,u=e().peerIdToVolume[l];if(!l.length){t(()=>({dominantSpeaker:n}));return}if(c>(u||0)){if(n===l)return;t(()=>({dominantSpeaker:n}))}})},removeStreamFromHark:r=>{if(!e().peerIdToVolume[r])return;const n=ig.get(r);if(!n)return;n.stop();const i=e().peerIdToVolume;ig.delete(r),delete i[r],t(()=>({peerIdToVolume:i}))}}),G5=W5,W_=0,G_=(t="id")=>(W_+=1,`${t}${W_}`),K5=(t,e)=>({unread:{mainRoom:0},chat:{mainRoom:[]},reactions:{},sharedFilesArr:[],notificationSounds:"",chatNotif:!0,peerJoinNotif:!0,peerLeaveNotif:!0,setchatNotif:r=>t(()=>({chatNotif:r})),setpeerJoinNotif:r=>t(()=>({peerJoinNotif:r})),setpeerLeaveNotif:r=>t(()=>({peerLeaveNotif:r})),setNotificationSounds:r=>{t(()=>({notificationSounds:r}))},setChat:(r,n,i)=>{const o=e().chat[n],s=o?[...o,{...r,id:G_(),error:i?i.error:{isError:!1}}]:[{...r,id:G_(),error:i?i.error:{isError:!1}}];t(()=>({chat:{...e().chat,[n]:s}}),!1)},removeChat:r=>{const n=e().chat;delete n[r],t(()=>({chat:n}))},increaseUnread:r=>{const n=e().unread[r]||0;t(()=>({unread:{...e().unread,[r]:n+1}}),!1)},removeUnread:r=>{const n=e().unread;delete n[r],t(()=>({unread:{...e().unread,[r]:0}}))},addSharedFile:r=>{t(n=>({sharedFilesArr:[...n.sharedFilesArr,r]}))},setSharedFiles:r=>{t(()=>({sharedFilesArr:r}))}}),Q5=K5,J5=(t,e)=>({...k5(t,e),...j5(t,e),...v5(t,e),...o5(t),...M5(t,e),...c5(t,e),...P5(t,e),...b5(t),...Q5(t,e),...$5(t),..._5(t,e),...h5(t,e),...C5(t,e),...L5(t,e),...x5(t),...f5(t,e),...G5(t,e),...I5(t,e),...m5(t)}),Y5=CL(kA(J5,{name:"huddle01-client",anonymousActionType:"action",enabled:!1})),CA=AA(Y5),Ls=CA,{getState:be,setState:TK}=CA,X5=class{addPeerPort(t){const{addPeerPort:e}=Un();e(t)}removePeerPort(t){Y.info(`Removing peer Audio port ${t}`);const{removePeerPort:e}=Un();e(t)}getProducerState(t){const e=Zf[t];return be()[e]}getAvatarUrl(){const{avatarUrl:t}=be();return t}getCamStream(){const{stream:t}=be();return t}getMicStream(){const{stream:t}=be().micState;return t}getUserGeoLocation(){const{geo:t}=be();return t}getDisplayName(){const{displayName:t}=be();return t}getPeerDisplayName(t){var e;const{peers:r}=be();return(e=r[t])==null?void 0:e.displayName}getParticipants(){const{peers:t}=be();return t}getJoinedState(){const{roomState:{joined:t}}=be();return t}async enableMicStream(){const{enableAudioStream:t}=be();await t()}async enableCamStream(){const{enableStream:t}=be();await t()}disableMicStream(){const{pauseAudioTracks:t}=be();t()}disableCamStream(){const{pauseTracks:t}=be();t()}toggleFigmentStream(t){const{toggleFigmentStream:e}=be();e(t)}changePeerAvatarUrl(t,e){const{setPeerAvatarUrl:r}=be();r(t,e)}setMeAvatarUrl(t){const{setAvatarUrl:e}=be();e(t)}initMe(t){const{initMe:e}=be();e(t)}addProducerMedia(t,e){const{addProducerMedia:r}=be();r(t,e)}removeProducerMedia(t){const{removeProducerMedia:e}=be();Y.info("removed producer cam"),e(t)}updateProducerMedia(t,e){const{updateProducerMedia:r}=be();r(t,e)}toggleProducerMedia(t,e){const{toggleProducerMedia:r}=be();r(t,e)}addPeer(t,e){const{addPeer:r}=be();r(t,e)}removePeer(t){const{removePeer:e}=be();e(t)}peerExists(t){const{peers:e}=be();return!!e[t]}getPeerIds(){const{peers:t}=be();return Object.keys(t)}addConsumerMedia(t,e,r){const{addConsumerMedia:n}=be();n(t,e,r)}removeConsumerMedia(t,e){const{removeConsumerMedia:r}=be();r(t,e)}pauseConsumerMedia(t,e){const{pauseConsumerMedia:r}=be();r(t,e)}resumeConsumerMedia(t,e){const{resumeConsumerMedia:r}=be();r(t,e)}updateProducer(t,e){Y.info({producerType:t,value:e})}enableScreenShare(t){const{enableScreenShare:e}=be();e(t)}disableScreenShare(t){const{disableScreenShare:e}=be();e(t)}setNetworkStats(t){const{setNetworkStats:e}=be();e(t)}setTest(){const{toggleIsTest:t}=be();t()}toggleRecording(t){const{toggleRecording:e}=be();e(t)}setNotifyRecording(t,e){const{setNotifyRecording:r}=be();r(t,e)}setChat(t,e,r,n){const{setChat:i}=be(),o={peerId:r,displayName:this.getPeerDisplayName(r)||this.getDisplayName(),type:"text",timestamp:n,message:t};i(o,e)}togglePeerHandRaise(t,e){const{togglePeerHandRaise:r}=be();r(t,e)}toggleMeHandRaise(t){const{toggleMeHandRaise:e}=be();e(t)}addReaction(t,e){const{addReaction:r}=be();r(t,e)}addMeReaction(t){const{addMeReaction:e}=be();e(t)}addLobbyPeer(t){const{setLobbyPeers:e}=be();e(t)}setDropState(t){const{setDropState:e}=be();e(t)}setJoined(){const{setJoined:t}=be();t()}setRoomId(t){const{setRoomId:e}=be();e(t)}setCreatedAt(t){const{setCreatedAt:e}=be();e(t)}removeChat(t){const{removeChat:e}=be();e(t)}increaseUnread(t){const{increaseUnread:e}=be();e(t)}removeUnread(t){const{removeUnread:e}=be();e(t)}addSharedFile(t){const{addSharedFile:e}=be();e(t)}setSharedFiles(t){const{setSharedFiles:e}=be();e(t)}isMicPaused(){const{isMicPaused:t}=be();return t}initHostControls(t,e,r,n){const{initHostControls:i}=be();i(t,e,r,n)}setSingleHostControl(t,e){const{setSingleHostControl:r}=be();r(t,e)}setHost(t){const{setHost:e}=be();e(t)}setCoHosts(t){const{setCoHosts:e}=be();e(t)}setHostState(t){Y.info("Setting host state: ",t);const{setHostState:e}=be();e(t)}increasePeerCount(t=1){const{increasePeerCount:e}=be();e(t)}decreasePeerCount(t=1){const{decreasePeerCount:e}=be();e(t)}setStartRecording(){const{startRecording:t}=be();t()}setStopRecording(){const{stopRecording:t}=be();t()}setMediaDevice(t){const{setMediaDevice:e}=be();e(t)}setAudioDevice(t){const{setAudioDevice:e}=be();e(t)}recordingStatus(){const{inProgress:t}=be().recordingState;return t}updateRecording(t){const{updateRecordings:e}=be();e(t)}setRecordings(t){const{setRecordings:e}=be();e(t)}setRecordingEnded(){const{endRecording:t}=be();t()}getIsRoomJoined(){const{roomState:t}=be();return t.joined}getMaxViewPortCount(){const{maxViewPortCount:t}=Un();return t}getActiveViewPort(){const{activeViewPort:t}=be();return t}getLastNActive(){const{isLastNActive:t}=be();return t}getLastNPeerIds(){const{lastNPeerIds:t}=be();return t}getSpaceLeftInLastN(){const t=this.getLastNPeerIds();return this.getMaxViewPortCount()-t.length}setNotificationSounds(t){const{setNotificationSounds:e}=be();e(t)}setLastNPeerIds(t){const{setLastNPeerIds:e}=be();e(t)}setLastNForNewPeerJoined(){if(this.getIsRoomJoined()){Y.error({type:"error",message:"setLastNForNewPeerJoined() | Already Joined Room cannot set again",meta:{isJoined:this.getIsRoomJoined()}});return}const t=this.getPeerIds().slice(0,this.getMaxViewPortCount());this.setLastNPeerIds(t),this.addActiveViewPort(t.length),Y.info({logType:"setLastNForNewPeerJoined",message:"** Setting LastN for New Peer that Joined **",meta:{peerIds:t,lastN:this.getLastNPeerIds()}})}setRoomLockState(t){const{setRoomLockState:e}=be();e(t)}getRoomLockState(){const{isRoomLocked:t}=be().roomState;return t}addMissingPeerToLastN(){const{lastNPeerIds:t}=be(),e=this.getPeerIds().filter(r=>!t.includes(r))[0];e&&(Y.info({logType:"addAllPeersToLastN",meta:{missingPeerToLastN:e},message:"This peer is not in lastNPeerIds, so we add it to lastNPeerIds"}),this.addPeerToLastN(e))}addPeerToLastN(t){const{addPeerToLastN:e}=be();e(t)}removePeerFromLastN(t){const{removePeerFromLastN:e}=be();e(t)}addActiveViewPort(t=1){const{addActiveViewPort:e}=be();e(t)}removeActiveViewPort(t=1){const{removeActiveViewPort:e}=be();e(t)}addStreamToHark(t,e){const{addStreamToHark:r}=be();r(t,e)}removeStreamFromHark(t){const{removeStreamFromHark:e}=be();e(t)}async disableAllCamStreams(){this.disableCamStream(),this.toggleFigmentStream("disable"),await u0()}getActiveViewPortIds(){const{activeViewPortIds:t}=Un();return t}getSpaceLeftInViewport(){const{getSpaceLeftInViewport:t}=Un();return t()}setActiveViewPort(t){const{setActiveViewPort:e}=Un();e(t)}addPeerViewPort(t){const{addPeerViewPort:e}=Un();e(t)}removePeerViewPort(t){const{removePeerViewPort:e}=Un();e(t)}isLastNActive(){const{isLastNActive:t}=Un();return t}activateLastN(){const{activateLastN:t}=Un();t()}deactivateLastN(){const{deactivateLastN:t}=Un(),{peers:e}=be(),r=this.getActiveViewPortIds(),n=r.size;Array.from(r).forEach(i=>{e[i]||(Y.warn({logType:"deactivateLastN",message:"Peer not found in peers | Removing from activeViewPorts",meta:{peerId:i}}),this.removePeerViewPort(i)),n===this.getMaxViewPortCount()-1&&!r.has(i)&&e[i]&&(Y.warn({logType:"deactivateLastN",message:"Peer not found in activeViewPorts | Adding to activeViewPorts",meta:{peerId:i}}),this.addPeerViewPort(i))}),t()}setActiveViewPortForNewPeer(){if(this.getIsRoomJoined()){Y.error({type:"error",message:"setLastNForNewPeerJoined() | Already Joined Room cannot set again",meta:{isJoined:this.getIsRoomJoined()}});return}const t=this.getPeerIds().length>this.getMaxViewPortCount(),e=this.getPeerIds().slice(0,this.getMaxViewPortCount());this.setActiveViewPort(e),t&&this.activateLastN()}startStreaming(t){const{startStreaming:e}=be();e(t)}setStreamPlatform(t){const{setPlatform:e}=be();e(t)}stopStreaming(t){const{stopStreaming:e}=be();e(t)}setStreamData(t,e){const{setStreamData:r}=be();r(t,e)}setLayoutView(t){const{setLayoutView:e}=be();e(t)}getLayout(){const{layout:t}=be();return t}setScreenShareLayout(t=!1,e){const r=t?3:2;this.getPeerIds().length===r&&this.setLayoutView(e)}getBandwidthSaver(){const{bandwidthSaver:t}=be();return t}},K_={"gamma.huddle01.com":"media-gamma.huddle01.com","messari.huddle01.com":"ms-us01.huddle01.com","beta.huddle01.com":"media-beta.huddle01.com","alpha.huddle01.com":"media-alpha.huddle01.com","koinx.huddle01.com":"ms03.huddle01.com","app.huddle01.com":"ms02.huddle01.com",default:"ms02.huddle01.com"};function Q_({roomId:t,peerId:e,apiKey:r}){const n=window.location.hostname;let i=K_[n]||K_.default;Y.info("getProtooUrl() | apikey)",{apiKey:r}),r&&(Y.info("getProtooUrl() |got api key"),i="sdk.huddle01.com");let o=`${i}/?roomId=${t}&peerId=${e}`;return o=`wss://${o}`,Y.info("getProtooUrl() | protoo url",{portooUrl:o}),r&&(o=`${o}&apiKey=${r}`),o}var Ss={};const Z5="protoo-client",e6="4.0.6",t6="protoo JavaScript client module",r6="Iaki Baz Castillo <ibc@aliax.net>",n6="https://protoo.versatica.com",i6="MIT",o6={type:"git",url:"https://github.com/ibc/protoo.git"},s6="lib/index.js",a6=["nodejs","browser","websocket"],l6={node:">=8.0.0"},c6={lint:"eslint -c .eslintrc.js lib"},u6={debug:"^4.3.1",events:"^3.2.0",retry:"^0.12.0"},f6={eslint:"^5.16.0"},d6={websocket:"^1.0.33"},h6={name:Z5,version:e6,description:t6,author:r6,homepage:n6,license:i6,repository:o6,main:s6,keywords:a6,engines:l6,scripts:c6,dependencies:u6,devDependencies:f6,optionalDependencies:d6};var Zo={},p6={get exports(){return Zo},set exports(t){Zo=t}},og,J_;function m6(){if(J_)return og;J_=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,o=n*365.25;og=function(u,f){f=f||{};var d=typeof u;if(d==="string"&&u.length>0)return s(u);if(d==="number"&&isFinite(u))return f.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var d=parseFloat(f[1]),h=(f[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return d*o;case"weeks":case"week":case"w":return d*i;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(u){var f=Math.abs(u);return f>=n?Math.round(u/n)+"d":f>=r?Math.round(u/r)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function c(u){var f=Math.abs(u);return f>=n?l(u,f,n,"day"):f>=r?l(u,f,r,"hour"):f>=e?l(u,f,e,"minute"):f>=t?l(u,f,t,"second"):u+" ms"}function l(u,f,d,h){var p=f>=d*1.5;return Math.round(u/d)+" "+h+(p?"s":"")}return og}function g6(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=m6(),r.destroy=l,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(u){let f,d=null,h,p;function m(...y){if(!m.enabled)return;const g=m,v=Number(new Date),S=v-(f||v);g.diff=S,g.prev=f,g.curr=v,f=v,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let w=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(M,k)=>{if(M==="%%")return"%";w++;const N=r.formatters[k];if(typeof N=="function"){const U=y[w];M=N.call(g,U),y.splice(w,1),w--}return M}),r.formatArgs.call(g,y),(g.log||r.log).apply(g,y)}return m.namespace=u,m.useColors=r.useColors(),m.color=r.selectColor(u),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(h!==r.namespaces&&(h=r.namespaces,p=r.enabled(u)),p),set:y=>{d=y}}),typeof r.init=="function"&&r.init(m),m}function n(u,f){const d=r(this.namespace+(typeof f>"u"?":":f)+u);return d.log=this.log,d}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let f;const d=(typeof u=="string"?u:"").split(/[\s,]+/),h=d.length;for(f=0;f<h;f++)d[f]&&(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function o(){const u=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let f,d;for(f=0,d=r.skips.length;f<d;f++)if(r.skips[f].test(u))return!1;for(f=0,d=r.names.length;f<d;f++)if(r.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var v6=g6;(function(t,e){e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=s(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let u=0,f=0;c[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(u++,d==="%c"&&(f=u))}),c.splice(f,0,l)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function o(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function s(){try{return localStorage}catch{}}t.exports=v6(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(p6,Zo);const Ys=Zo,Xs="protoo-client";let y6=class{constructor(e){e?(this._debug=Ys(`${Xs}:${e}`),this._warn=Ys(`${Xs}:WARN:${e}`),this._error=Ys(`${Xs}:ERROR:${e}`)):(this._debug=Ys(Xs),this._warn=Ys(`${Xs}:WARN`),this._error=Ys(`${Xs}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};var Fh=y6,ru={},b6={get exports(){return ru},set exports(t){ru=t}},Ga=typeof Reflect=="object"?Reflect:null,Y_=Ga&&typeof Ga.apply=="function"?Ga.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ed;Ga&&typeof Ga.ownKeys=="function"?ed=Ga.ownKeys:Object.getOwnPropertySymbols?ed=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ed=function(e){return Object.getOwnPropertyNames(e)};function w6(t){console&&console.warn&&console.warn(t)}var OA=Number.isNaN||function(e){return e!==e};function St(){St.init.call(this)}b6.exports=St;ru.once=E6;St.EventEmitter=St;St.prototype._events=void 0;St.prototype._eventsCount=0;St.prototype._maxListeners=void 0;var X_=10;function jh(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(St,"defaultMaxListeners",{enumerable:!0,get:function(){return X_},set:function(t){if(typeof t!="number"||t<0||OA(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");X_=t}});St.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};St.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||OA(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function MA(t){return t._maxListeners===void 0?St.defaultMaxListeners:t._maxListeners}St.prototype.getMaxListeners=function(){return MA(this)};St.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(c===void 0)return!1;if(typeof c=="function")Y_(c,this,r);else for(var l=c.length,u=BA(c,l),n=0;n<l;++n)Y_(u[n],this,r);return!0};function NA(t,e,r,n){var i,o,s;if(jh(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=MA(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,w6(a)}return t}St.prototype.addListener=function(e,r){return NA(this,e,r,!1)};St.prototype.on=St.prototype.addListener;St.prototype.prependListener=function(e,r){return NA(this,e,r,!0)};function _6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function IA(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=_6.bind(n);return i.listener=r,n.wrapFn=i,i}St.prototype.once=function(e,r){return jh(r),this.on(e,IA(this,e,r)),this};St.prototype.prependOnceListener=function(e,r){return jh(r),this.prependListener(e,IA(this,e,r)),this};St.prototype.removeListener=function(e,r){var n,i,o,s,a;if(jh(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){a=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():S6(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};St.prototype.off=St.prototype.removeListener;St.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function DA(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?x6(i):BA(i,i.length)}St.prototype.listeners=function(e){return DA(this,e,!0)};St.prototype.rawListeners=function(e){return DA(this,e,!1)};St.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):LA.call(t,e)};St.prototype.listenerCount=LA;function LA(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}St.prototype.eventNames=function(){return this._eventsCount>0?ed(this._events):[]};function BA(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function S6(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function x6(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function E6(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,o),n(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}$A(t,e,o,{once:!0}),e!=="error"&&R6(t,i,{once:!0})})}function R6(t,e,r){typeof t.on=="function"&&$A(t,"error",e,r)}function $A(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}const{EventEmitter:P6}=ru,A6=Fh;let k6=class extends P6{constructor(e){super(),this.setMaxListeners(1/0),this._logger=e||new A6("EnhancedEventEmitter")}safeEmit(e,...r){try{this.emit(e,...r)}catch(n){this._logger.error("safeEmit() | event listener threw an error [event:%s]:%o",e,n)}}async safeEmitAsPromise(e,...r){return new Promise((n,i)=>{this.safeEmit(e,...r,n,i)})}};var FA=k6,jA={};jA.generateRandomNumber=function(){return Math.round(Math.random()*1e7)};const T6=Fh,{generateRandomNumber:C6}=jA,as=new T6("Message");let O6=class{static parse(e){let r;const n={};try{r=JSON.parse(e)}catch(i){as.error("parse() | invalid JSON: %s",i);return}if(typeof r!="object"||Array.isArray(r)){as.error("parse() | not an object");return}if(r.request){if(n.request=!0,typeof r.method!="string"){as.error("parse() | missing/invalid method field");return}if(typeof r.id!="number"){as.error("parse() | missing/invalid id field");return}n.id=r.id,n.method=r.method,n.data=r.data||{}}else if(r.response){if(n.response=!0,typeof r.id!="number"){as.error("parse() | missing/invalid id field");return}n.id=r.id,r.ok?(n.ok=!0,n.data=r.data||{}):(n.ok=!1,n.errorCode=r.errorCode,n.errorReason=r.errorReason)}else if(r.notification){if(n.notification=!0,typeof r.method!="string"){as.error("parse() | missing/invalid method field");return}n.method=r.method,n.data=r.data||{}}else{as.error("parse() | missing request/response field");return}return n}static createRequest(e,r){return{request:!0,id:C6(),method:e,data:r||{}}}static createSuccessResponse(e,r){return{response:!0,id:e.id,ok:!0,data:r||{}}}static createErrorResponse(e,r,n){return{response:!0,id:e.id,ok:!1,errorCode:r,errorReason:n}}static createNotification(e,r){return{notification:!0,method:e,data:r||{}}}};var UA=O6;const M6=Fh,N6=FA,Gl=UA,So=new M6("Peer");let I6=class extends N6{constructor(e){super(So),So.debug("constructor()"),this._closed=!1,this._transport=e,this._connected=!1,this._data={},this._sents=new Map,this._handleTransport()}get closed(){return this._closed}get connected(){return this._connected}get data(){return this._data}set data(e){throw new Error("cannot override data object")}close(){if(!this._closed){So.debug("close()"),this._closed=!0,this._connected=!1,this._transport.close();for(const e of this._sents.values())e.close();this.safeEmit("close")}}async request(e,r=void 0){const n=Gl.createRequest(e,r);return this._logger.debug("request() [method:%s, id:%s]",e,n.id),await this._transport.send(n),new Promise((i,o)=>{const s=1500*(15+.1*this._sents.size),a={id:n.id,method:n.method,resolve:c=>{this._sents.delete(n.id)&&(clearTimeout(a.timer),i(c))},reject:c=>{this._sents.delete(n.id)&&(clearTimeout(a.timer),o(c))},timer:setTimeout(()=>{this._sents.delete(n.id)&&o(new Error("request timeout"))},s),close:()=>{clearTimeout(a.timer),o(new Error("peer closed"))}};this._sents.set(n.id,a)})}async notify(e,r=void 0){const n=Gl.createNotification(e,r);this._logger.debug("notify() [method:%s]",e),await this._transport.send(n)}_handleTransport(){if(this._transport.closed){this._closed=!0,setTimeout(()=>{this._closed||(this._connected=!1,this.safeEmit("close"))});return}this._transport.on("open",()=>{this._closed||(So.debug('emit "open"'),this._connected=!0,this.safeEmit("open"))}),this._transport.on("disconnected",()=>{this._closed||(So.debug('emit "disconnected"'),this._connected=!1,this.safeEmit("disconnected"))}),this._transport.on("failed",e=>{this._closed||(So.debug('emit "failed" [currentAttempt:%s]',e),this._connected=!1,this.safeEmit("failed",e))}),this._transport.on("close",()=>{this._closed||(this._closed=!0,So.debug('emit "close"'),this._connected=!1,this.safeEmit("close"))}),this._transport.on("message",e=>{e.request?this._handleRequest(e):e.response?this._handleResponse(e):e.notification&&this._handleNotification(e)})}_handleRequest(e){try{this.emit("request",e,r=>{const n=Gl.createSuccessResponse(e,r);this._transport.send(n).catch(()=>{})},(r,n)=>{r instanceof Error?(n=r.message,r=500):typeof r=="number"&&n instanceof Error&&(n=n.message);const i=Gl.createErrorResponse(e,r,n);this._transport.send(i).catch(()=>{})})}catch(r){const n=Gl.createErrorResponse(e,500,String(r));this._transport.send(n).catch(()=>{})}}_handleResponse(e){const r=this._sents.get(e.id);if(!r){So.error("received response does not match any sent request [id:%s]",e.id);return}if(e.ok)r.resolve(e.data);else{const n=new Error(e.errorReason);n.code=e.errorCode,r.reject(n)}}_handleNotification(e){this.safeEmit("notification",e)}};var D6=I6,sg,Z_;function L6(){if(Z_)return sg;Z_=1;var t=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return sg=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}(),sg}const B6="websocket",$6="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",F6=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],j6="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",U6=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],z6="1.0.34",q6={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},H6="https://github.com/theturtle32/WebSocket-Node",V6={node:">=4.0.0"},W6={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},G6={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},K6={verbose:!1},Q6={test:"tape test/unit/*.js",gulp:"gulp"},J6="index",Y6={lib:"./lib"},X6="lib/browser.js",Z6="Apache-2.0",eB={name:B6,description:$6,keywords:F6,author:j6,contributors:U6,version:z6,repository:q6,homepage:H6,engines:V6,dependencies:W6,devDependencies:G6,config:K6,scripts:Q6,main:J6,directories:Y6,browser:X6,license:Z6};var tB=eB.version,hs;if(typeof globalThis=="object")hs=globalThis;else try{hs=L6()}catch{}finally{if(!hs&&typeof window<"u"&&(hs=window),!hs)throw new Error("Could not determine global this")}var nu=hs.WebSocket||hs.MozWebSocket,rB=tB;function zA(t,e){var r;return e?r=new nu(t,e):r=new nu(t),r}nu&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(zA,t,{get:function(){return nu[t]}})});var nB={w3cwebsocket:nu?zA:null,version:rB},d0={},iB={get exports(){return d0},set exports(t){d0=t}},qA={};function An(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var oB=An;An.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};An.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};An.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift();else return!1;var n=this,i=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r);return this._options.unref&&i.unref(),!0};An.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};An.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};An.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};An.prototype.start=An.prototype.try;An.prototype.errors=function(){return this._errors};An.prototype.attempts=function(){return this._attempts};An.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],o=i.message,s=(t[o]||0)+1;t[o]=s,s>=r&&(e=i,r=s)}return e};(function(t){var e=oB;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&r.forever,unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],s=0;s<n.retries;s++)o.push(this.createTimeout(s,n));return r&&r.forever&&!o.length&&o.push(this.createTimeout(s,n)),o.sort(function(a,c){return a-c}),o},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,o=Math.round(i*n.minTimeout*Math.pow(n.factor,r));return o=Math.min(o,n.maxTimeout),o},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var o in r)typeof r[o]=="function"&&i.push(o)}for(var s=0;s<i.length;s++){var a=i[s],c=r[a];r[a]=function(u){var f=t.operation(n),d=Array.prototype.slice.call(arguments,1),h=d.pop();d.push(function(p){f.retry(p)||(p&&(arguments[0]=f.mainError()),h.apply(this,arguments))}),f.attempt(function(){u.apply(r,d)})}.bind(r,c),r[a].options=n}}})(qA);(function(t){t.exports=qA})(iB);const sB=nB.w3cwebsocket,aB=d0,lB=Fh,cB=FA,uB=UA,fB="protoo",dB={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:8*1e3},$i=new lB("WebSocketTransport");let hB=class extends cB{constructor(e,r){super($i),$i.debug("constructor() [url:%s, options:%o]",e,r),this._closed=!1,this._url=e,this._options=r||{},this._ws=null,this._runWebSocket()}get closed(){return this._closed}close(){if(!this._closed){$i.debug("close()"),this._closed=!0,this.safeEmit("close");try{this._ws.onopen=null,this._ws.onclose=null,this._ws.onerror=null,this._ws.onmessage=null,this._ws.close()}catch(e){$i.error("close() | error closing the WebSocket: %o",e)}}}async send(e){if(this._closed)throw new Error("transport closed");try{this._ws.send(JSON.stringify(e))}catch(r){throw $i.warn("send() failed:%o",r),r}}_runWebSocket(){const e=aB.operation(this._options.retry||dB);let r=!1;e.attempt(n=>{if(this._closed){e.stop();return}$i.debug("_runWebSocket() [currentAttempt:%s]",n),this._ws=new sB(this._url,fB,this._options.origin,this._options.headers,this._options.requestOptions,this._options.clientConfig),this._ws.onopen=()=>{this._closed||(r=!0,this.safeEmit("open"))},this._ws.onclose=i=>{if(!this._closed){if($i.warn('WebSocket "close" event [wasClean:%s, code:%s, reason:"%s"]',i.wasClean,i.code,i.reason),i.code!==4e3){if(r){if(e.stop(),this.safeEmit("disconnected"),this._closed)return;this._runWebSocket();return}else if(this.safeEmit("failed",n),this._closed||e.retry(!0))return}this._closed=!0,this.safeEmit("close")}},this._ws.onerror=()=>{this._closed||$i.error('WebSocket "error" event')},this._ws.onmessage=i=>{if(this._closed)return;const o=uB.parse(i.data);if(o){if(this.listenerCount("message")===0){$i.error('no listeners for WebSocket "message" event, ignoring received message');return}this.safeEmit("message",o)}}})}};var pB=hB;const{version:mB}=h6,gB=D6,vB=pB;Ss.version=mB;Ss.Peer=gB;Ss.WebSocketTransport=vB;var yB=class extends X5{constructor(t){super(),this.socket=null,this.apiKey=t}getSocket(t,e){const r=Q_({roomId:t,peerId:e,apiKey:this.apiKey}),n=new Ss.WebSocketTransport(r);return new Ss.Peer(n)}setSocket(t,e){const r=Q_({roomId:t,peerId:e,apiKey:this.apiKey}),n=new Ss.WebSocketTransport(r);this.socket=new Ss.Peer(n),Y.info({type:"info",message:"setSocket",socket:this.socket})}async startRecording({address:t,sourceUrl:e}){if(this.socket&&!this.recordingStatus())try{this.setStartRecording(),await this.socket.request("startRecording",{address:t,sourceUrl:e})}catch(r){throw Y.error({type:"error",message:"startRecording",error:r}),new Error("Error starting recording")}}async stopRecording({ipfs:t}){if(this.socket&&this.recordingStatus())try{await this.socket.request("stopRecording",{ipfs:t}),this.setStopRecording()}catch(e){Y.error({type:"error",message:"stopRecording",error:e})}}async startLiveStreaming(t,e,r){if(this.socket)try{this.startStreaming(t),e?await this.socket.request("startStreaming",{platform:t,rtmpEndpoint:`${e.streamLink}/${e.streamKey}`,sourceUrl:r}):await this.socket.request("startStreaming",{platform:t}),Y.info({streamObj:e})}catch(n){throw Y.error({type:"error",message:"startStreaming",error:n}),new Error("Error while starting streamer")}}async stopLiveStreaming(t){if(this.socket)try{this.stopStreaming(t),await this.socket.request("stopStreaming")}catch(e){Y.error({type:"error",message:"stopStreaming",error:e})}}async newSharedFile(t){if(this.socket)try{await this.socket.request("sendData",{type:"sharedFile",payload:t})}catch(e){Y.error({type:"error",message:"stopStreaming",error:e})}}},HA={},Bs={},h0={},bB={get exports(){return h0},set exports(t){h0=t}};(function(t,e){(function(r,n){t.exports=n()})(oe,function(){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return r[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var c in o)i.d(a,c,function(l){return o[l]}.bind(null,c));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=90)}({17:function(r,n,i){n.__esModule=!0,n.default=void 0;var o=i(18),s=function(){function a(){}return a.getFirstMatch=function(c,l){var u=l.match(c);return u&&u.length>0&&u[1]||""},a.getSecondMatch=function(c,l){var u=l.match(c);return u&&u.length>1&&u[2]||""},a.matchAndReturnConst=function(c,l,u){if(c.test(l))return u},a.getWindowsVersionName=function(c){switch(c){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},a.getMacOSVersionName=function(c){var l=c.split(".").splice(0,2).map(function(u){return parseInt(u,10)||0});if(l.push(0),l[0]===10)switch(l[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},a.getAndroidVersionName=function(c){var l=c.split(".").splice(0,2).map(function(u){return parseInt(u,10)||0});if(l.push(0),!(l[0]===1&&l[1]<5))return l[0]===1&&l[1]<6?"Cupcake":l[0]===1&&l[1]>=6?"Donut":l[0]===2&&l[1]<2?"Eclair":l[0]===2&&l[1]===2?"Froyo":l[0]===2&&l[1]>2?"Gingerbread":l[0]===3?"Honeycomb":l[0]===4&&l[1]<1?"Ice Cream Sandwich":l[0]===4&&l[1]<4?"Jelly Bean":l[0]===4&&l[1]>=4?"KitKat":l[0]===5?"Lollipop":l[0]===6?"Marshmallow":l[0]===7?"Nougat":l[0]===8?"Oreo":l[0]===9?"Pie":void 0},a.getVersionPrecision=function(c){return c.split(".").length},a.compareVersions=function(c,l,u){u===void 0&&(u=!1);var f=a.getVersionPrecision(c),d=a.getVersionPrecision(l),h=Math.max(f,d),p=0,m=a.map([c,l],function(y){var g=h-a.getVersionPrecision(y),v=y+new Array(g+1).join(".0");return a.map(v.split("."),function(S){return new Array(20-S.length).join("0")+S}).reverse()});for(u&&(p=h-Math.min(f,d)),h-=1;h>=p;){if(m[0][h]>m[1][h])return 1;if(m[0][h]===m[1][h]){if(h===p)return 0;h-=1}else if(m[0][h]<m[1][h])return-1}},a.map=function(c,l){var u,f=[];if(Array.prototype.map)return Array.prototype.map.call(c,l);for(u=0;u<c.length;u+=1)f.push(l(c[u]));return f},a.find=function(c,l){var u,f;if(Array.prototype.find)return Array.prototype.find.call(c,l);for(u=0,f=c.length;u<f;u+=1){var d=c[u];if(l(d,u))return d}},a.assign=function(c){for(var l,u,f=c,d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];if(Object.assign)return Object.assign.apply(Object,[c].concat(h));var m=function(){var y=h[l];typeof y=="object"&&y!==null&&Object.keys(y).forEach(function(g){f[g]=y[g]})};for(l=0,u=h.length;l<u;l+=1)m();return c},a.getBrowserAlias=function(c){return o.BROWSER_ALIASES_MAP[c]},a.getBrowserTypeByAlias=function(c){return o.BROWSER_MAP[c]||""},a}();n.default=s,r.exports=n.default},18:function(r,n,i){n.__esModule=!0,n.ENGINE_MAP=n.OS_MAP=n.PLATFORMS_MAP=n.BROWSER_MAP=n.BROWSER_ALIASES_MAP=void 0,n.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},n.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},n.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},n.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},n.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(r,n,i){n.__esModule=!0,n.default=void 0;var o,s=(o=i(91))&&o.__esModule?o:{default:o},a=i(18);function c(u,f){for(var d=0;d<f.length;d++){var h=f[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}var l=function(){function u(){}var f,d,h;return u.getParser=function(p,m){if(m===void 0&&(m=!1),typeof p!="string")throw new Error("UserAgent should be a string");return new s.default(p,m)},u.parse=function(p){return new s.default(p).getResult()},f=u,h=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}],(d=null)&&c(f.prototype,d),h&&c(f,h),u}();n.default=l,r.exports=n.default},91:function(r,n,i){n.__esModule=!0,n.default=void 0;var o=u(i(92)),s=u(i(93)),a=u(i(94)),c=u(i(95)),l=u(i(17));function u(d){return d&&d.__esModule?d:{default:d}}var f=function(){function d(p,m){if(m===void 0&&(m=!1),p==null||p==="")throw new Error("UserAgent parameter can't be empty");this._ua=p,this.parsedResult={},m!==!0&&this.parse()}var h=d.prototype;return h.getUA=function(){return this._ua},h.test=function(p){return p.test(this._ua)},h.parseBrowser=function(){var p=this;this.parsedResult.browser={};var m=l.default.find(o.default,function(y){if(typeof y.test=="function")return y.test(p);if(y.test instanceof Array)return y.test.some(function(g){return p.test(g)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.browser=m.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(p){return p?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var p=this;this.parsedResult.os={};var m=l.default.find(s.default,function(y){if(typeof y.test=="function")return y.test(p);if(y.test instanceof Array)return y.test.some(function(g){return p.test(g)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.os=m.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(p){var m=this.getOS().name;return p?String(m).toLowerCase()||"":m||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(p){p===void 0&&(p=!1);var m=this.getPlatform().type;return p?String(m).toLowerCase()||"":m||""},h.parsePlatform=function(){var p=this;this.parsedResult.platform={};var m=l.default.find(a.default,function(y){if(typeof y.test=="function")return y.test(p);if(y.test instanceof Array)return y.test.some(function(g){return p.test(g)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.platform=m.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(p){return p?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var p=this;this.parsedResult.engine={};var m=l.default.find(c.default,function(y){if(typeof y.test=="function")return y.test(p);if(y.test instanceof Array)return y.test.some(function(g){return p.test(g)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.engine=m.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return l.default.assign({},this.parsedResult)},h.satisfies=function(p){var m=this,y={},g=0,v={},S=0;if(Object.keys(p).forEach(function(O){var L=p[O];typeof L=="string"?(v[O]=L,S+=1):typeof L=="object"&&(y[O]=L,g+=1)}),g>0){var w=Object.keys(y),x=l.default.find(w,function(O){return m.isOS(O)});if(x){var M=this.satisfies(y[x]);if(M!==void 0)return M}var k=l.default.find(w,function(O){return m.isPlatform(O)});if(k){var N=this.satisfies(y[k]);if(N!==void 0)return N}}if(S>0){var U=Object.keys(v),D=l.default.find(U,function(O){return m.isBrowser(O,!0)});if(D!==void 0)return this.compareVersion(v[D])}},h.isBrowser=function(p,m){m===void 0&&(m=!1);var y=this.getBrowserName().toLowerCase(),g=p.toLowerCase(),v=l.default.getBrowserTypeByAlias(g);return m&&v&&(g=v.toLowerCase()),g===y},h.compareVersion=function(p){var m=[0],y=p,g=!1,v=this.getBrowserVersion();if(typeof v=="string")return p[0]===">"||p[0]==="<"?(y=p.substr(1),p[1]==="="?(g=!0,y=p.substr(2)):m=[],p[0]===">"?m.push(1):m.push(-1)):p[0]==="="?y=p.substr(1):p[0]==="~"&&(g=!0,y=p.substr(1)),m.indexOf(l.default.compareVersions(v,y,g))>-1},h.isOS=function(p){return this.getOSName(!0)===String(p).toLowerCase()},h.isPlatform=function(p){return this.getPlatformType(!0)===String(p).toLowerCase()},h.isEngine=function(p){return this.getEngineName(!0)===String(p).toLowerCase()},h.is=function(p,m){return m===void 0&&(m=!1),this.isBrowser(p,m)||this.isOS(p)||this.isPlatform(p)},h.some=function(p){var m=this;return p===void 0&&(p=[]),p.some(function(y){return m.is(y)})},d}();n.default=f,r.exports=n.default},92:function(r,n,i){n.__esModule=!0,n.default=void 0;var o,s=(o=i(17))&&o.__esModule?o:{default:o},a=/version\/(\d+(\.?_?\d+)+)/i,c=[{test:[/googlebot/i],describe:function(l){var u={name:"Googlebot"},f=s.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/opera/i],describe:function(l){var u={name:"Opera"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/opr\/|opios/i],describe:function(l){var u={name:"Opera"},f=s.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/SamsungBrowser/i],describe:function(l){var u={name:"Samsung Internet for Android"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/Whale/i],describe:function(l){var u={name:"NAVER Whale Browser"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/MZBrowser/i],describe:function(l){var u={name:"MZ Browser"},f=s.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/focus/i],describe:function(l){var u={name:"Focus"},f=s.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/swing/i],describe:function(l){var u={name:"Swing"},f=s.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/coast/i],describe:function(l){var u={name:"Opera Coast"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(l){var u={name:"Opera Touch"},f=s.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/yabrowser/i],describe:function(l){var u={name:"Yandex Browser"},f=s.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/ucbrowser/i],describe:function(l){var u={name:"UC Browser"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/Maxthon|mxios/i],describe:function(l){var u={name:"Maxthon"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/epiphany/i],describe:function(l){var u={name:"Epiphany"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/puffin/i],describe:function(l){var u={name:"Puffin"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/sleipnir/i],describe:function(l){var u={name:"Sleipnir"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/k-meleon/i],describe:function(l){var u={name:"K-Meleon"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/micromessenger/i],describe:function(l){var u={name:"WeChat"},f=s.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/qqbrowser/i],describe:function(l){var u={name:/qqbrowserlite/i.test(l)?"QQ Browser Lite":"QQ Browser"},f=s.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/msie|trident/i],describe:function(l){var u={name:"Internet Explorer"},f=s.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/\sedg\//i],describe:function(l){var u={name:"Microsoft Edge"},f=s.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/edg([ea]|ios)/i],describe:function(l){var u={name:"Microsoft Edge"},f=s.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/vivaldi/i],describe:function(l){var u={name:"Vivaldi"},f=s.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/seamonkey/i],describe:function(l){var u={name:"SeaMonkey"},f=s.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/sailfish/i],describe:function(l){var u={name:"Sailfish"},f=s.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,l);return f&&(u.version=f),u}},{test:[/silk/i],describe:function(l){var u={name:"Amazon Silk"},f=s.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/phantom/i],describe:function(l){var u={name:"PhantomJS"},f=s.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/slimerjs/i],describe:function(l){var u={name:"SlimerJS"},f=s.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(l){var u={name:"BlackBerry"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/(web|hpw)[o0]s/i],describe:function(l){var u={name:"WebOS Browser"},f=s.default.getFirstMatch(a,l)||s.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/bada/i],describe:function(l){var u={name:"Bada"},f=s.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/tizen/i],describe:function(l){var u={name:"Tizen"},f=s.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/qupzilla/i],describe:function(l){var u={name:"QupZilla"},f=s.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/firefox|iceweasel|fxios/i],describe:function(l){var u={name:"Firefox"},f=s.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/electron/i],describe:function(l){var u={name:"Electron"},f=s.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/MiuiBrowser/i],describe:function(l){var u={name:"Miui"},f=s.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/chromium/i],describe:function(l){var u={name:"Chromium"},f=s.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,l)||s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/chrome|crios|crmo/i],describe:function(l){var u={name:"Chrome"},f=s.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/GSA/i],describe:function(l){var u={name:"Google Search"},f=s.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:function(l){var u=!l.test(/like android/i),f=l.test(/android/i);return u&&f},describe:function(l){var u={name:"Android Browser"},f=s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/playstation 4/i],describe:function(l){var u={name:"PlayStation 4"},f=s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/safari|applewebkit/i],describe:function(l){var u={name:"Safari"},f=s.default.getFirstMatch(a,l);return f&&(u.version=f),u}},{test:[/.*/i],describe:function(l){var u=l.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:s.default.getFirstMatch(u,l),version:s.default.getSecondMatch(u,l)}}}];n.default=c,r.exports=n.default},93:function(r,n,i){n.__esModule=!0,n.default=void 0;var o,s=(o=i(17))&&o.__esModule?o:{default:o},a=i(18),c=[{test:[/Roku\/DVP/],describe:function(l){var u=s.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,l);return{name:a.OS_MAP.Roku,version:u}}},{test:[/windows phone/i],describe:function(l){var u=s.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,l);return{name:a.OS_MAP.WindowsPhone,version:u}}},{test:[/windows /i],describe:function(l){var u=s.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,l),f=s.default.getWindowsVersionName(u);return{name:a.OS_MAP.Windows,version:u,versionName:f}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(l){var u={name:a.OS_MAP.iOS},f=s.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,l);return f&&(u.version=f),u}},{test:[/macintosh/i],describe:function(l){var u=s.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,l).replace(/[_\s]/g,"."),f=s.default.getMacOSVersionName(u),d={name:a.OS_MAP.MacOS,version:u};return f&&(d.versionName=f),d}},{test:[/(ipod|iphone|ipad)/i],describe:function(l){var u=s.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,l).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:u}}},{test:function(l){var u=!l.test(/like android/i),f=l.test(/android/i);return u&&f},describe:function(l){var u=s.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,l),f=s.default.getAndroidVersionName(u),d={name:a.OS_MAP.Android,version:u};return f&&(d.versionName=f),d}},{test:[/(web|hpw)[o0]s/i],describe:function(l){var u=s.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,l),f={name:a.OS_MAP.WebOS};return u&&u.length&&(f.version=u),f}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(l){var u=s.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,l)||s.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,l)||s.default.getFirstMatch(/\bbb(\d+)/i,l);return{name:a.OS_MAP.BlackBerry,version:u}}},{test:[/bada/i],describe:function(l){var u=s.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,l);return{name:a.OS_MAP.Bada,version:u}}},{test:[/tizen/i],describe:function(l){var u=s.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,l);return{name:a.OS_MAP.Tizen,version:u}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(l){var u=s.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,l);return{name:a.OS_MAP.PlayStation4,version:u}}}];n.default=c,r.exports=n.default},94:function(r,n,i){n.__esModule=!0,n.default=void 0;var o,s=(o=i(17))&&o.__esModule?o:{default:o},a=i(18),c=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(l){var u=s.default.getFirstMatch(/(can-l01)/i,l)&&"Nova",f={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return u&&(f.model=u),f}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(l){var u=l.test(/ipod|iphone/i),f=l.test(/like (ipod|iphone)/i);return u&&!f},describe:function(l){var u=s.default.getFirstMatch(/(ipod|iphone)/i,l);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:u}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getBrowserName(!0)==="blackberry"},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(l){return l.getBrowserName(!0)==="bada"},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getBrowserName()==="windows phone"},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(l){var u=Number(String(l.getOSVersion()).split(".")[0]);return l.getOSName(!0)==="android"&&u>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(l){return l.getOSName(!0)==="android"},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getOSName(!0)==="macos"},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(l){return l.getOSName(!0)==="windows"},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(l){return l.getOSName(!0)==="linux"},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(l){return l.getOSName(!0)==="playstation 4"},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(l){return l.getOSName(!0)==="roku"},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];n.default=c,r.exports=n.default},95:function(r,n,i){n.__esModule=!0,n.default=void 0;var o,s=(o=i(17))&&o.__esModule?o:{default:o},a=i(18),c=[{test:function(l){return l.getBrowserName(!0)==="microsoft edge"},describe:function(l){if(/\sedg\//i.test(l))return{name:a.ENGINE_MAP.Blink};var u=s.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,l);return{name:a.ENGINE_MAP.EdgeHTML,version:u}}},{test:[/trident/i],describe:function(l){var u={name:a.ENGINE_MAP.Trident},f=s.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:function(l){return l.test(/presto/i)},describe:function(l){var u={name:a.ENGINE_MAP.Presto},f=s.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:function(l){var u=l.test(/gecko/i),f=l.test(/like gecko/i);return u&&!f},describe:function(l){var u={name:a.ENGINE_MAP.Gecko},f=s.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(l){var u={name:a.ENGINE_MAP.WebKit},f=s.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,l);return f&&(u.version=f),u}}];n.default=c,r.exports=n.default}})})})(bB);var Qt={},wB=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.Logger=void 0;const Zs=wB(Zo),ea="mediasoup-client";let _B=class{constructor(e){e?(this._debug=(0,Zs.default)(`${ea}:${e}`),this._warn=(0,Zs.default)(`${ea}:WARN:${e}`),this._error=(0,Zs.default)(`${ea}:ERROR:${e}`)):(this._debug=(0,Zs.default)(ea),this._warn=(0,Zs.default)(`${ea}:WARN`),this._error=(0,Zs.default)(`${ea}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};Qt.Logger=_B;var Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.EnhancedEventEmitter=void 0;const SB=ru,xB=Qt,EB=new xB.Logger("EnhancedEventEmitter");class RB extends SB.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(e,...r){return super.emit(e,...r)}safeEmit(e,...r){const n=super.listenerCount(e);try{return super.emit(e,...r)}catch(i){return EB.error("safeEmit() | event listener threw an error [eventName:%s]:%o",e,i),Boolean(n)}}on(e,r){return super.on(e,r),this}off(e,r){return super.off(e,r),this}addListener(e,r){return super.on(e,r),this}prependListener(e,r){return super.prependListener(e,r),this}once(e,r){return super.once(e,r),this}prependOnceListener(e,r){return super.prependOnceListener(e,r),this}removeListener(e,r){return super.off(e,r),this}removeAllListeners(e){return super.removeAllListeners(e),this}listenerCount(e){return super.listenerCount(e)}listeners(e){return super.listeners(e)}rawListeners(e){return super.rawListeners(e)}}Li.EnhancedEventEmitter=RB;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.InvalidStateError=$r.UnsupportedError=void 0;class t1 extends Error{constructor(e){super(e),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,t1):this.stack=new Error(e).stack}}$r.UnsupportedError=t1;class r1 extends Error{constructor(e){super(e),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,r1):this.stack=new Error(e).stack}}$r.InvalidStateError=r1;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.generateRandomNumber=rr.clone=void 0;function PB(t,e){return typeof t>"u"?e:JSON.parse(JSON.stringify(t))}rr.clone=PB;function AB(){return Math.round(Math.random()*1e7)}rr.generateRandomNumber=AB;var Te={},VA={};(function(t){const e=Zo("h264-profile-level-id");e.log=console.info.bind(console);const r=1,n=2,i=3,o=4,s=5;t.ProfileConstrainedBaseline=r,t.ProfileBaseline=n,t.ProfileMain=i,t.ProfileConstrainedHigh=o,t.ProfileHigh=s;const a=0,c=10,l=11,u=12,f=13,d=20,h=21,p=22,m=30,y=31,g=32,v=40,S=41,w=42,x=50,M=51,k=52;t.Level1_b=a,t.Level1=c,t.Level1_1=l,t.Level1_2=u,t.Level1_3=f,t.Level2=d,t.Level2_1=h,t.Level2_2=p,t.Level3=m,t.Level3_1=y,t.Level3_2=g,t.Level4=v,t.Level4_1=S,t.Level4_2=w,t.Level5=x,t.Level5_1=M,t.Level5_2=k;class N{constructor(B,j){this.profile=B,this.level=j}}t.ProfileLevelId=N;const U=new N(r,y),D=16;class O{constructor(B){this._mask=~b("x",B),this._maskedValue=b("1",B)}isMatch(B){return this._maskedValue===(B&this._mask)}}class L{constructor(B,j,R){this.profile_idc=B,this.profile_iop=j,this.profile=R}}const A=[new L(66,new O("x1xx0000"),r),new L(77,new O("1xxx0000"),r),new L(88,new O("11xx0000"),r),new L(66,new O("x0xx0000"),n),new L(88,new O("10xx0000"),n),new L(77,new O("0x0x0000"),i),new L(100,new O("00000000"),s),new L(100,new O("00001100"),o)];t.parseProfileLevelId=function($){if(typeof $!="string"||$.length!==6)return null;const B=parseInt($,16);if(B===0)return null;const j=B&255,R=B>>8&255,_=B>>16&255;let C;switch(j){case l:{C=R&D?a:l;break}case c:case u:case f:case d:case h:case p:case m:case y:case g:case v:case S:case w:case x:case M:case k:{C=j;break}default:return e("parseProfileLevelId() | unrecognized level_idc:%s",j),null}for(const H of A)if(_===H.profile_idc&&H.profile_iop.isMatch(R))return new N(H.profile,C);return e("parseProfileLevelId() | unrecognized profile_idc/profile_iop combination"),null},t.profileLevelIdToString=function($){if($.level==a)switch($.profile){case r:return"42f00b";case n:return"42100b";case i:return"4d100b";default:return e("profileLevelIdToString() | Level 1_b not is allowed for profile:%s",$.profile),null}let B;switch($.profile){case r:{B="42e0";break}case n:{B="4200";break}case i:{B="4d00";break}case o:{B="640c";break}case s:{B="6400";break}default:return e("profileLevelIdToString() | unrecognized profile:%s",$.profile),null}let j=$.level.toString(16);return j.length===1&&(j=`0${j}`),`${B}${j}`},t.parseSdpProfileLevelId=function($={}){const B=$["profile-level-id"];return B?t.parseProfileLevelId(B):U},t.isSameProfile=function($={},B={}){const j=t.parseSdpProfileLevelId($),R=t.parseSdpProfileLevelId(B);return Boolean(j&&R&&j.profile===R.profile)},t.generateProfileLevelIdForAnswer=function($={},B={}){if(!$["profile-level-id"]&&!B["profile-level-id"])return e("generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params"),null;const j=t.parseSdpProfileLevelId($),R=t.parseSdpProfileLevelId(B);if(!j)throw new TypeError("invalid local_profile_level_id");if(!R)throw new TypeError("invalid remote_profile_level_id");if(j.profile!==R.profile)throw new TypeError("H264 Profile mismatch");const _=F($)&&F(B),C=j.level,H=R.level,P=I(C,H),T=_?C:P;return e("generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]",j.profile,T),t.profileLevelIdToString(new N(j.profile,T))};function b($,B){return(B[0]===$)<<7|(B[1]===$)<<6|(B[2]===$)<<5|(B[3]===$)<<4|(B[4]===$)<<3|(B[5]===$)<<2|(B[6]===$)<<1|(B[7]===$)<<0}function E($,B){return $===a?B!==c&&B!==a:B===a?$!==c:$<B}function I($,B){return E($,B)?$:B}function F($={}){const B=$["level-asymmetry-allowed"];return B===1||B==="1"}})(VA);var kB=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TB=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),WA=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kB(e,t,r);return TB(e,t),e};Object.defineProperty(Te,"__esModule",{value:!0});Te.canReceive=Te.canSend=Te.generateProbatorRtpParameters=Te.reduceCodecs=Te.getSendingRemoteRtpParameters=Te.getSendingRtpParameters=Te.getRecvRtpCapabilities=Te.getExtendedRtpCapabilities=Te.validateSctpStreamParameters=Te.validateSctpParameters=Te.validateNumSctpStreams=Te.validateSctpCapabilities=Te.validateRtcpParameters=Te.validateRtpEncodingParameters=Te.validateRtpHeaderExtensionParameters=Te.validateRtpCodecParameters=Te.validateRtpParameters=Te.validateRtpHeaderExtension=Te.validateRtcpFeedback=Te.validateRtpCodecCapability=Te.validateRtpCapabilities=void 0;const eS=WA(VA),CB=WA(rr),OB="probator",MB=1234,NB=127;function IB(t){if(typeof t!="object")throw new TypeError("caps is not an object");if(t.codecs&&!Array.isArray(t.codecs))throw new TypeError("caps.codecs is not an array");t.codecs||(t.codecs=[]);for(const e of t.codecs)GA(e);if(t.headerExtensions&&!Array.isArray(t.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");t.headerExtensions||(t.headerExtensions=[]);for(const e of t.headerExtensions)KA(e)}Te.validateRtpCapabilities=IB;function GA(t){const e=new RegExp("^(audio|video)/(.+)","i");if(typeof t!="object")throw new TypeError("codec is not an object");if(!t.mimeType||typeof t.mimeType!="string")throw new TypeError("missing codec.mimeType");const r=e.exec(t.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(t.kind=r[1].toLowerCase(),t.preferredPayloadType&&typeof t.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof t.clockRate!="number")throw new TypeError("missing codec.clockRate");t.kind==="audio"?typeof t.channels!="number"&&(t.channels=1):delete t.channels,(!t.parameters||typeof t.parameters!="object")&&(t.parameters={});for(const n of Object.keys(t.parameters)){let i=t.parameters[n];if(i===void 0&&(t.parameters[n]="",i=""),typeof i!="string"&&typeof i!="number")throw new TypeError(`invalid codec parameter [key:${n}s, value:${i}]`);if(n==="apt"&&typeof i!="number")throw new TypeError("invalid codec apt parameter")}(!t.rtcpFeedback||!Array.isArray(t.rtcpFeedback))&&(t.rtcpFeedback=[]);for(const n of t.rtcpFeedback)n1(n)}Te.validateRtpCodecCapability=GA;function n1(t){if(typeof t!="object")throw new TypeError("fb is not an object");if(!t.type||typeof t.type!="string")throw new TypeError("missing fb.type");(!t.parameter||typeof t.parameter!="string")&&(t.parameter="")}Te.validateRtcpFeedback=n1;function KA(t){if(typeof t!="object")throw new TypeError("ext is not an object");if(t.kind!=="audio"&&t.kind!=="video")throw new TypeError("invalid ext.kind");if(!t.uri||typeof t.uri!="string")throw new TypeError("missing ext.uri");if(typeof t.preferredId!="number")throw new TypeError("missing ext.preferredId");if(t.preferredEncrypt&&typeof t.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(t.preferredEncrypt||(t.preferredEncrypt=!1),t.direction&&typeof t.direction!="string")throw new TypeError("invalid ext.direction");t.direction||(t.direction="sendrecv")}Te.validateRtpHeaderExtension=KA;function i1(t){if(typeof t!="object")throw new TypeError("params is not an object");if(t.mid&&typeof t.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(t.codecs))throw new TypeError("missing params.codecs");for(const e of t.codecs)QA(e);if(t.headerExtensions&&!Array.isArray(t.headerExtensions))throw new TypeError("params.headerExtensions is not an array");t.headerExtensions||(t.headerExtensions=[]);for(const e of t.headerExtensions)JA(e);if(t.encodings&&!Array.isArray(t.encodings))throw new TypeError("params.encodings is not an array");t.encodings||(t.encodings=[]);for(const e of t.encodings)YA(e);if(t.rtcp&&typeof t.rtcp!="object")throw new TypeError("params.rtcp is not an object");t.rtcp||(t.rtcp={}),XA(t.rtcp)}Te.validateRtpParameters=i1;function QA(t){const e=new RegExp("^(audio|video)/(.+)","i");if(typeof t!="object")throw new TypeError("codec is not an object");if(!t.mimeType||typeof t.mimeType!="string")throw new TypeError("missing codec.mimeType");const r=e.exec(t.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(typeof t.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof t.clockRate!="number")throw new TypeError("missing codec.clockRate");r[1].toLowerCase()==="audio"?typeof t.channels!="number"&&(t.channels=1):delete t.channels,(!t.parameters||typeof t.parameters!="object")&&(t.parameters={});for(const i of Object.keys(t.parameters)){let o=t.parameters[i];if(o===void 0&&(t.parameters[i]="",o=""),typeof o!="string"&&typeof o!="number")throw new TypeError(`invalid codec parameter [key:${i}s, value:${o}]`);if(i==="apt"&&typeof o!="number")throw new TypeError("invalid codec apt parameter")}(!t.rtcpFeedback||!Array.isArray(t.rtcpFeedback))&&(t.rtcpFeedback=[]);for(const i of t.rtcpFeedback)n1(i)}Te.validateRtpCodecParameters=QA;function JA(t){if(typeof t!="object")throw new TypeError("ext is not an object");if(!t.uri||typeof t.uri!="string")throw new TypeError("missing ext.uri");if(typeof t.id!="number")throw new TypeError("missing ext.id");if(t.encrypt&&typeof t.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");t.encrypt||(t.encrypt=!1),(!t.parameters||typeof t.parameters!="object")&&(t.parameters={});for(const e of Object.keys(t.parameters)){let r=t.parameters[e];if(r===void 0&&(t.parameters[e]="",r=""),typeof r!="string"&&typeof r!="number")throw new TypeError("invalid header extension parameter")}}Te.validateRtpHeaderExtensionParameters=JA;function YA(t){if(typeof t!="object")throw new TypeError("encoding is not an object");if(t.ssrc&&typeof t.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(t.rid&&typeof t.rid!="string")throw new TypeError("invalid encoding.rid");if(t.rtx&&typeof t.rtx!="object")throw new TypeError("invalid encoding.rtx");if(t.rtx&&typeof t.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!t.dtx||typeof t.dtx!="boolean")&&(t.dtx=!1),t.scalabilityMode&&typeof t.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}Te.validateRtpEncodingParameters=YA;function XA(t){if(typeof t!="object")throw new TypeError("rtcp is not an object");if(t.cname&&typeof t.cname!="string")throw new TypeError("invalid rtcp.cname");(!t.reducedSize||typeof t.reducedSize!="boolean")&&(t.reducedSize=!0)}Te.validateRtcpParameters=XA;function DB(t){if(typeof t!="object")throw new TypeError("caps is not an object");if(!t.numStreams||typeof t.numStreams!="object")throw new TypeError("missing caps.numStreams");ZA(t.numStreams)}Te.validateSctpCapabilities=DB;function ZA(t){if(typeof t!="object")throw new TypeError("numStreams is not an object");if(typeof t.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof t.MIS!="number")throw new TypeError("missing numStreams.MIS")}Te.validateNumSctpStreams=ZA;function LB(t){if(typeof t!="object")throw new TypeError("params is not an object");if(typeof t.port!="number")throw new TypeError("missing params.port");if(typeof t.OS!="number")throw new TypeError("missing params.OS");if(typeof t.MIS!="number")throw new TypeError("missing params.MIS");if(typeof t.maxMessageSize!="number")throw new TypeError("missing params.maxMessageSize")}Te.validateSctpParameters=LB;function BB(t){if(typeof t!="object")throw new TypeError("params is not an object");if(typeof t.streamId!="number")throw new TypeError("missing params.streamId");let e=!1;if(typeof t.ordered=="boolean"?e=!0:t.ordered=!0,t.maxPacketLifeTime&&typeof t.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(t.maxRetransmits&&typeof t.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(t.maxPacketLifeTime&&t.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(e&&t.ordered&&(t.maxPacketLifeTime||t.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!e&&(t.maxPacketLifeTime||t.maxRetransmits)&&(t.ordered=!1),t.label&&typeof t.label!="string")throw new TypeError("invalid params.label");if(t.protocol&&typeof t.protocol!="string")throw new TypeError("invalid params.protocol")}Te.validateSctpStreamParameters=BB;function $B(t,e){const r={codecs:[],headerExtensions:[]};for(const n of e.codecs||[]){if(Ac(n))continue;const i=(t.codecs||[]).find(s=>ek(s,n,{strict:!0,modify:!0}));if(!i)continue;const o={mimeType:i.mimeType,kind:i.kind,clockRate:i.clockRate,channels:i.channels,localPayloadType:i.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:n.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:i.parameters,remoteParameters:n.parameters,rtcpFeedback:GB(i,n)};r.codecs.push(o)}for(const n of r.codecs){const i=t.codecs.find(s=>Ac(s)&&s.parameters.apt===n.localPayloadType),o=e.codecs.find(s=>Ac(s)&&s.parameters.apt===n.remotePayloadType);i&&o&&(n.localRtxPayloadType=i.preferredPayloadType,n.remoteRtxPayloadType=o.preferredPayloadType)}for(const n of e.headerExtensions){const i=t.headerExtensions.find(s=>WB(s,n));if(!i)continue;const o={kind:n.kind,uri:n.uri,sendId:i.preferredId,recvId:n.preferredId,encrypt:i.preferredEncrypt,direction:"sendrecv"};switch(n.direction){case"sendrecv":o.direction="sendrecv";break;case"recvonly":o.direction="sendonly";break;case"sendonly":o.direction="recvonly";break;case"inactive":o.direction="inactive";break}r.headerExtensions.push(o)}return r}Te.getExtendedRtpCapabilities=$B;function FB(t){const e={codecs:[],headerExtensions:[]};for(const r of t.codecs){const n={mimeType:r.mimeType,kind:r.kind,preferredPayloadType:r.remotePayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(e.codecs.push(n),!r.remoteRtxPayloadType)continue;const i={mimeType:`${r.kind}/rtx`,kind:r.kind,preferredPayloadType:r.remoteRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.remotePayloadType},rtcpFeedback:[]};e.codecs.push(i)}for(const r of t.headerExtensions){if(r.direction!=="sendrecv"&&r.direction!=="recvonly")continue;const n={kind:r.kind,uri:r.uri,preferredId:r.recvId,preferredEncrypt:r.encrypt,direction:r.direction};e.headerExtensions.push(n)}return e}Te.getRecvRtpCapabilities=FB;function jB(t,e){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of e.codecs){if(n.kind!==t)continue;const i={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(i),n.localRtxPayloadType){const o={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(o)}}for(const n of e.headerExtensions){if(n.kind&&n.kind!==t||n.direction!=="sendrecv"&&n.direction!=="sendonly")continue;const i={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(i)}return r}Te.getSendingRtpParameters=jB;function UB(t,e){const r={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const n of e.codecs){if(n.kind!==t)continue;const i={mimeType:n.mimeType,payloadType:n.localPayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.remoteParameters,rtcpFeedback:n.rtcpFeedback};if(r.codecs.push(i),n.localRtxPayloadType){const o={mimeType:`${n.kind}/rtx`,payloadType:n.localRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.localPayloadType},rtcpFeedback:[]};r.codecs.push(o)}}for(const n of e.headerExtensions){if(n.kind&&n.kind!==t||n.direction!=="sendrecv"&&n.direction!=="sendonly")continue;const i={uri:n.uri,id:n.sendId,encrypt:n.encrypt,parameters:{}};r.headerExtensions.push(i)}if(r.headerExtensions.some(n=>n.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter(i=>i.type!=="goog-remb");else if(r.headerExtensions.some(n=>n.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter(i=>i.type!=="transport-cc");else for(const n of r.codecs)n.rtcpFeedback=(n.rtcpFeedback||[]).filter(i=>i.type!=="transport-cc"&&i.type!=="goog-remb");return r}Te.getSendingRemoteRtpParameters=UB;function zB(t,e){const r=[];if(!e)r.push(t[0]),Ac(t[1])&&r.push(t[1]);else{for(let n=0;n<t.length;++n)if(ek(t[n],e)){r.push(t[n]),Ac(t[n+1])&&r.push(t[n+1]);break}if(r.length===0)throw new TypeError("no matching codec found")}return r}Te.reduceCodecs=zB;function qB(t){t=CB.clone(t,{}),i1(t);const e={mid:OB,codecs:[],headerExtensions:[],encodings:[{ssrc:MB}],rtcp:{cname:"probator"}};return e.codecs.push(t.codecs[0]),e.codecs[0].payloadType=NB,e.headerExtensions=t.headerExtensions,e}Te.generateProbatorRtpParameters=qB;function HB(t,e){return e.codecs.some(r=>r.kind===t)}Te.canSend=HB;function VB(t,e){if(i1(t),t.codecs.length===0)return!1;const r=t.codecs[0];return e.codecs.some(n=>n.remotePayloadType===r.payloadType)}Te.canReceive=VB;function Ac(t){return t?/.+\/rtx$/i.test(t.mimeType):!1}function ek(t,e,{strict:r=!1,modify:n=!1}={}){const i=t.mimeType.toLowerCase(),o=e.mimeType.toLowerCase();if(i!==o||t.clockRate!==e.clockRate||t.channels!==e.channels)return!1;switch(i){case"video/h264":{if(r){const s=t.parameters["packetization-mode"]||0,a=e.parameters["packetization-mode"]||0;if(s!==a||!eS.isSameProfile(t.parameters,e.parameters))return!1;let c;try{c=eS.generateProfileLevelIdForAnswer(t.parameters,e.parameters)}catch{return!1}n&&(c?(t.parameters["profile-level-id"]=c,e.parameters["profile-level-id"]=c):(delete t.parameters["profile-level-id"],delete e.parameters["profile-level-id"]))}break}case"video/vp9":{if(r){const s=t.parameters["profile-id"]||0,a=e.parameters["profile-id"]||0;if(s!==a)return!1}break}}return!0}function WB(t,e){return!(t.kind&&e.kind&&t.kind!==e.kind||t.uri!==e.uri)}function GB(t,e){const r=[];for(const n of t.rtcpFeedback||[]){const i=(e.rtcpFeedback||[]).find(o=>o.type===n.type&&(o.parameter===n.parameter||!o.parameter&&!n.parameter));i&&r.push(i)}return r}var Su={},Go={},Uh={},KB=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uh,"__esModule",{value:!0});Uh.Logger=void 0;const ta=KB(Zo),ra="awaitqueue";class QB{constructor(e){e?(this._debug=(0,ta.default)(`${ra}:${e}`),this._warn=(0,ta.default)(`${ra}:WARN:${e}`),this._error=(0,ta.default)(`${ra}:ERROR:${e}`)):(this._debug=(0,ta.default)(ra),this._warn=(0,ta.default)(`${ra}:WARN`),this._error=(0,ta.default)(`${ra}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}Uh.Logger=QB;Object.defineProperty(Go,"__esModule",{value:!0});Go.AwaitQueue=Go.AwaitQueueRemovedTaskError=Go.AwaitQueueStoppedError=void 0;const JB=Uh,xo=new JB.Logger;class zh extends Error{constructor(e){super(e??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,zh)}}Go.AwaitQueueStoppedError=zh;class qh extends Error{constructor(e){super(e??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qh)}}Go.AwaitQueueRemovedTaskError=qh;class YB{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(e,r){if(r=r??e.name,xo.debug(`push() [name:${r}]`),typeof e!="function")throw new TypeError("given task is not a function");if(r)try{Object.defineProperty(e,"name",{value:r})}catch{}return new Promise((n,i)=>{const o={id:this.nextTaskId++,task:e,name:r,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:s=>{if(o.completed)return;o.completed=!0,this.pendingTasks.delete(o.id),xo.debug(`resolving task [name:${o.name}]`),n(s);const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)},reject:s=>{if(!o.completed&&(o.completed=!0,this.pendingTasks.delete(o.id),xo.debug(`rejecting task [name:${o.name}]: %s`,String(s)),i(s),!this.stopping)){const[a]=this.pendingTasks.values();a&&!a.executedAt&&this.execute(a)}}};this.pendingTasks.set(o.id,o),this.pendingTasks.size===1&&this.execute(o)})}stop(){xo.debug("stop()"),this.stopping=!0;for(const e of this.pendingTasks.values())xo.debug(`stop() | stopping task [name:${e.name}]`),e.reject(new zh);this.stopping=!1}remove(e){xo.debug(`remove() [taskIdx:${e}]`);const r=Array.from(this.pendingTasks.values())[e];if(!r){xo.debug(`stop() | no task with given idx [taskIdx:${e}]`);return}r.reject(new qh)}dump(){const e=Date.now();let r=0;return Array.from(this.pendingTasks.values()).map(n=>({idx:r++,task:n.task,name:n.name,enqueuedTime:n.executedAt?n.executedAt-n.enqueuedAt:e-n.enqueuedAt,executionTime:n.executedAt?e-n.executedAt:0}))}async execute(e){if(xo.debug(`execute() [name:${e.name}]`),e.executedAt)throw new Error("task already being executed");e.executedAt=Date.now();try{const r=await e.task();e.resolve(r)}catch(r){e.reject(r)}}}Go.AwaitQueue=YB;var xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.Producer=void 0;const XB=Qt,tS=Li,na=$r,si=new XB.Logger("Producer");class ZB extends tS.EnhancedEventEmitter{constructor({id:e,localId:r,rtpSender:n,track:i,rtpParameters:o,stopTracks:s,disableTrackOnPause:a,zeroRtpOnPause:c,appData:l}){super(),this._closed=!1,this._observer=new tS.EnhancedEventEmitter,si.debug("constructor()"),this._id=e,this._localId=r,this._rtpSender=n,this._track=i,this._kind=i.kind,this._rtpParameters=o,this._paused=a?!i.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=s,this._disableTrackOnPause=a,this._zeroRtpOnPause=c,this._appData=l||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(si.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(si.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new na.InvalidStateError("closed");return new Promise((e,r)=>{this.safeEmit("@getstats",e,r)})}pause(){if(si.debug("pause()"),this._closed){si.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((e,r)=>{this.safeEmit("@pause",e,r)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(si.debug("resume()"),this._closed){si.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((e,r)=>{this.safeEmit("@resume",e,r)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:e}){if(si.debug("replaceTrack() [track:%o]",e),this._closed){if(e&&this._stopTracks)try{e.stop()}catch{}throw new na.InvalidStateError("closed")}else if(e&&e.readyState==="ended")throw new na.InvalidStateError("track ended");if(e===this._track){si.debug("replaceTrack() | same track, ignored");return}await new Promise((r,n)=>{this.safeEmit("@replacetrack",e,r,n)}),this.destroyTrack(),this._track=e,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(e){if(this._closed)throw new na.InvalidStateError("closed");if(this._kind!=="video")throw new na.UnsupportedError("not a video Producer");if(typeof e!="number")throw new TypeError("invalid spatialLayer");e!==this._maxSpatialLayer&&(await new Promise((r,n)=>{this.safeEmit("@setmaxspatiallayer",e,r,n)}).catch(()=>{}),this._maxSpatialLayer=e)}async setRtpEncodingParameters(e){if(this._closed)throw new na.InvalidStateError("closed");if(typeof e!="object")throw new TypeError("invalid params");await new Promise((r,n)=>{this.safeEmit("@setrtpencodingparameters",e,r,n)})}onTrackEnded(){si.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}}xu.Producer=ZB;var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.Consumer=void 0;const e8=Qt,rS=Li,t8=$r,ai=new e8.Logger("Consumer");class r8 extends rS.EnhancedEventEmitter{constructor({id:e,localId:r,producerId:n,rtpReceiver:i,track:o,rtpParameters:s,appData:a}){super(),this._closed=!1,this._observer=new rS.EnhancedEventEmitter,ai.debug("constructor()"),this._id=e,this._localId=r,this._producerId=n,this._rtpReceiver=i,this._track=o,this._rtpParameters=s,this._paused=!o.enabled,this._appData=a||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(ai.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(ai.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new t8.InvalidStateError("closed");return new Promise((e,r)=>{this.safeEmit("@getstats",e,r)})}pause(){if(ai.debug("pause()"),this._closed){ai.error("pause() | Consumer closed");return}if(this._paused){ai.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(ai.debug("resume()"),this._closed){ai.error("resume() | Consumer closed");return}if(!this._paused){ai.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){ai.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}}Eu.Consumer=r8;var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.DataProducer=void 0;const n8=Qt,nS=Li,i8=$r,Fi=new n8.Logger("DataProducer");class o8 extends nS.EnhancedEventEmitter{constructor({id:e,dataChannel:r,sctpStreamParameters:n,appData:i}){super(),this._closed=!1,this._observer=new nS.EnhancedEventEmitter,Fi.debug("constructor()"),this._id=e,this._dataChannel=r,this._sctpStreamParameters=n,this._appData=i||{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(e){this._dataChannel.bufferedAmountLowThreshold=e}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(Fi.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Fi.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(e){if(Fi.debug("send()"),this._closed)throw new i8.InvalidStateError("closed");this._dataChannel.send(e)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Fi.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",e=>{if(this._closed)return;let{error:r}=e;r||(r=new Error("unknown DataChannel error")),r.errorDetail==="sctp-failure"?Fi.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):Fi.error('DataChannel "error" event: %o',r),this.safeEmit("error",r)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Fi.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||Fi.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}}Ru.DataProducer=o8;var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.DataConsumer=void 0;const s8=Qt,iS=Li,ls=new s8.Logger("DataConsumer");class a8 extends iS.EnhancedEventEmitter{constructor({id:e,dataProducerId:r,dataChannel:n,sctpStreamParameters:i,appData:o}){super(),this._closed=!1,this._observer=new iS.EnhancedEventEmitter,ls.debug("constructor()"),this._id=e,this._dataProducerId=r,this._dataChannel=n,this._sctpStreamParameters=i,this._appData=o||{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(e){this._dataChannel.binaryType=e}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(ls.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(ls.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(ls.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",e=>{if(this._closed)return;let{error:r}=e;r||(r=new Error("unknown DataChannel error")),r.errorDetail==="sctp-failure"?ls.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):ls.error('DataChannel "error" event: %o',r),this.safeEmit("error",r)}),this._dataChannel.addEventListener("close",()=>{this._closed||(ls.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",e=>{this._closed||this.safeEmit("message",e.data)})}}Pu.DataConsumer=a8;var l8=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),c8=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tk=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&l8(e,t,r);return c8(e,t),e};Object.defineProperty(Su,"__esModule",{value:!0});Su.Transport=void 0;const u8=Go,f8=Qt,oS=Li,ir=$r,ag=tk(rr),Kl=tk(Te),d8=xu,h8=Eu,p8=Ru,m8=Pu,or=new f8.Logger("Transport");class g8{constructor(e){this.consumerOptions=e,this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n})}}let v8=class extends oS.EnhancedEventEmitter{constructor({direction:e,id:r,iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:f,handlerFactory:d,extendedRtpCapabilities:h,canProduceByKind:p}){super(),this._closed=!1,this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new u8.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new oS.EnhancedEventEmitter,or.debug("constructor() [id:%s, direction:%s]",r,e),this._id=r,this._direction=e,this._extendedRtpCapabilities=h,this._canProduceByKind=p,this._maxSctpMessageSize=s?s.maxMessageSize:null,l=ag.clone(l,{}),delete l.iceServers,delete l.iceTransportPolicy,delete l.bundlePolicy,delete l.rtcpMuxPolicy,delete l.sdpSemantics,this._handler=d(),this._handler.run({direction:e,iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,extendedRtpCapabilities:h}),this._appData=f||{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){if(!this._closed){or.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close();for(const e of this._producers.values())e.transportClosed();this._producers.clear();for(const e of this._consumers.values())e.transportClosed();this._consumers.clear();for(const e of this._dataProducers.values())e.transportClosed();this._dataProducers.clear();for(const e of this._dataConsumers.values())e.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new ir.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:e}){if(or.debug("restartIce()"),this._closed)throw new ir.InvalidStateError("closed");if(!e)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>this._handler.restartIce(e),"transport.restartIce()")}async updateIceServers({iceServers:e}={}){if(or.debug("updateIceServers()"),this._closed)throw new ir.InvalidStateError("closed");if(!Array.isArray(e))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(e),"transport.updateIceServers()")}async produce({track:e,encodings:r,codecOptions:n,codec:i,stopTracks:o=!0,disableTrackOnPause:s=!0,zeroRtpOnPause:a=!1,appData:c={}}={}){if(or.debug("produce() [track:%o]",e),this._closed)throw new ir.InvalidStateError("closed");if(e){if(this._direction!=="send")throw new ir.UnsupportedError("not a sending Transport");if(this._canProduceByKind[e.kind]){if(e.readyState==="ended")throw new ir.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(c&&typeof c!="object")throw new TypeError("if given, appData must be an object")}else throw new ir.UnsupportedError(`cannot produce ${e.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let l;if(r&&!Array.isArray(r))throw TypeError("encodings must be an array");r&&r.length===0?l=void 0:r&&(l=r.map(h=>{const p={active:!0};return h.active===!1&&(p.active=!1),typeof h.dtx=="boolean"&&(p.dtx=h.dtx),typeof h.scalabilityMode=="string"&&(p.scalabilityMode=h.scalabilityMode),typeof h.scaleResolutionDownBy=="number"&&(p.scaleResolutionDownBy=h.scaleResolutionDownBy),typeof h.maxBitrate=="number"&&(p.maxBitrate=h.maxBitrate),typeof h.maxFramerate=="number"&&(p.maxFramerate=h.maxFramerate),typeof h.adaptivePtime=="boolean"&&(p.adaptivePtime=h.adaptivePtime),typeof h.priority=="string"&&(p.priority=h.priority),typeof h.networkPriority=="string"&&(p.networkPriority=h.networkPriority),p}));const{localId:u,rtpParameters:f,rtpSender:d}=await this._handler.send({track:e,encodings:l,codecOptions:n,codec:i});try{Kl.validateRtpParameters(f);const{id:h}=await new Promise((m,y)=>{this.safeEmit("produce",{kind:e.kind,rtpParameters:f,appData:c},m,y)}),p=new d8.Producer({id:h,localId:u,rtpSender:d,track:e,rtpParameters:f,stopTracks:o,disableTrackOnPause:s,zeroRtpOnPause:a,appData:c});return this._producers.set(p.id,p),this.handleProducer(p),this._observer.safeEmit("newproducer",p),p}catch(h){throw this._handler.stopSending(u).catch(()=>{}),h}},"transport.produce()").catch(l=>{if(o)try{e.stop()}catch{}throw l})}async consume({id:e,producerId:r,kind:n,rtpParameters:i,streamId:o,appData:s={}}){if(or.debug("consume()"),i=ag.clone(i,void 0),this._closed)throw new ir.InvalidStateError("closed");if(this._direction!=="recv")throw new ir.UnsupportedError("not a receiving Transport");if(typeof e!="string")throw new TypeError("missing id");if(typeof r!="string")throw new TypeError("missing producerId");if(n!=="audio"&&n!=="video")throw new TypeError(`invalid kind '${n}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(s&&typeof s!="object")throw new TypeError("if given, appData must be an object");if(!Kl.canReceive(i,this._extendedRtpCapabilities))throw new ir.UnsupportedError("cannot consume this Producer");const c=new g8({id:e,producerId:r,kind:n,rtpParameters:i,streamId:o,appData:s});return this._pendingConsumerTasks.push(c),this._consumerCreationInProgress===!1&&this.createPendingConsumers(),c.promise}async produceData({ordered:e=!0,maxPacketLifeTime:r,maxRetransmits:n,label:i="",protocol:o="",appData:s={}}={}){if(or.debug("produceData()"),this._closed)throw new ir.InvalidStateError("closed");if(this._direction!=="send")throw new ir.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(s&&typeof s!="object")throw new TypeError("if given, appData must be an object")}else throw new ir.UnsupportedError("SCTP not enabled by remote Transport");return(r||n)&&(e=!1),this._awaitQueue.push(async()=>{const{dataChannel:a,sctpStreamParameters:c}=await this._handler.sendDataChannel({ordered:e,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:o});Kl.validateSctpStreamParameters(c);const{id:l}=await new Promise((f,d)=>{this.safeEmit("producedata",{sctpStreamParameters:c,label:i,protocol:o,appData:s},f,d)}),u=new p8.DataProducer({id:l,dataChannel:a,sctpStreamParameters:c,appData:s});return this._dataProducers.set(u.id,u),this.handleDataProducer(u),this._observer.safeEmit("newdataproducer",u),u},"transport.produceData()")}async consumeData({id:e,dataProducerId:r,sctpStreamParameters:n,label:i="",protocol:o="",appData:s={}}){if(or.debug("consumeData()"),n=ag.clone(n,void 0),this._closed)throw new ir.InvalidStateError("closed");if(this._direction!=="recv")throw new ir.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof e!="string")throw new TypeError("missing id");if(typeof r!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(s&&typeof s!="object")throw new TypeError("if given, appData must be an object")}else throw new ir.UnsupportedError("SCTP not enabled by remote Transport");return Kl.validateSctpStreamParameters(n),this._awaitQueue.push(async()=>{const{dataChannel:a}=await this._handler.receiveDataChannel({sctpStreamParameters:n,label:i,protocol:o}),c=new m8.DataConsumer({id:e,dataProducerId:r,dataChannel:a,sctpStreamParameters:n,appData:s});return this._dataConsumers.set(c.id,c),this.handleDataConsumer(c),this._observer.safeEmit("newdataconsumer",c),c},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){or.debug("createPendingConsumers() | there is no Consumer to be created");return}const e=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let r;const n=[];for(const i of e){const{id:o,kind:s,rtpParameters:a,streamId:c}=i.consumerOptions;n.push({trackId:o,kind:s,rtpParameters:a,streamId:c})}try{const i=await this._handler.receive(n);for(let o=0;o<i.length;o++){const s=e[o],a=i[o],{id:c,producerId:l,kind:u,rtpParameters:f,appData:d}=s.consumerOptions,{localId:h,rtpReceiver:p,track:m}=a,y=new h8.Consumer({id:c,localId:h,producerId:l,rtpReceiver:p,track:m,rtpParameters:f,appData:d});this._consumers.set(y.id,y),this.handleConsumer(y),!this._probatorConsumerCreated&&!r&&u==="video"&&(r=y),this._observer.safeEmit("newconsumer",y),s.resolve(y)}}catch(i){for(const o of e)o.reject(i)}if(r)try{const i=Kl.generateProbatorRtpParameters(r.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:i}]),or.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(i){or.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",i)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){or.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const e=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const r=e.map(n=>n.localId);await this._handler.pauseReceiving(r)}catch(r){or.error("pausePendingConsumers() | failed to pause Consumers:",r)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){or.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const e=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const r=e.map(n=>n.localId);await this._handler.resumeReceiving(r)}catch(r){or.error("resumePendingConsumers() | failed to resume Consumers:",r)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){or.debug("closePendingConsumers() | there is no Consumer to be closed");return}const e=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(e.map(r=>r.localId))}catch(r){or.error("closePendingConsumers() | failed to close Consumers:",r)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const e=this._handler;e.on("@connect",({dtlsParameters:r},n,i)=>{if(this._closed){i(new ir.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:r},n,i)}),e.on("@connectionstatechange",r=>{r!==this._connectionState&&(or.debug("connection state changed to %s",r),this._connectionState=r,this._closed||this.safeEmit("connectionstatechange",r))})}handleProducer(e){e.on("@close",()=>{this._producers.delete(e.id),!this._closed&&this._awaitQueue.push(async()=>this._handler.stopSending(e.localId),"producer @close event").catch(r=>or.warn("producer.close() failed:%o",r))}),e.on("@pause",(r,n)=>{this._awaitQueue.push(async()=>this._handler.pauseSending(e.localId),"producer @pause event").then(r).catch(n)}),e.on("@resume",(r,n)=>{this._awaitQueue.push(async()=>this._handler.resumeSending(e.localId),"producer @resume event").then(r).catch(n)}),e.on("@replacetrack",(r,n,i)=>{this._awaitQueue.push(async()=>this._handler.replaceTrack(e.localId,r),"producer @replacetrack event").then(n).catch(i)}),e.on("@setmaxspatiallayer",(r,n,i)=>{this._awaitQueue.push(async()=>this._handler.setMaxSpatialLayer(e.localId,r),"producer @setmaxspatiallayer event").then(n).catch(i)}),e.on("@setrtpencodingparameters",(r,n,i)=>{this._awaitQueue.push(async()=>this._handler.setRtpEncodingParameters(e.localId,r),"producer @setrtpencodingparameters event").then(n).catch(i)}),e.on("@getstats",(r,n)=>{if(this._closed)return n(new ir.InvalidStateError("closed"));this._handler.getSenderStats(e.localId).then(r).catch(n)})}handleConsumer(e){e.on("@close",()=>{this._consumers.delete(e.id),this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.delete(e.id),!this._closed&&(this._pendingCloseConsumers.set(e.id,e),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),e.on("@pause",()=>{this._pendingResumeConsumers.has(e.id)&&this._pendingResumeConsumers.delete(e.id),this._pendingPauseConsumers.set(e.id,e),this._consumerPauseInProgress===!1&&this.pausePendingConsumers()}),e.on("@resume",()=>{this._pendingPauseConsumers.has(e.id)&&this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.set(e.id,e),this._consumerResumeInProgress===!1&&this.resumePendingConsumers()}),e.on("@getstats",(r,n)=>{if(this._closed)return n(new ir.InvalidStateError("closed"));this._handler.getReceiverStats(e.localId).then(r).catch(n)})}handleDataProducer(e){e.on("@close",()=>{this._dataProducers.delete(e.id)})}handleDataConsumer(e){e.on("@close",()=>{this._dataConsumers.delete(e.id)})}};Su.Transport=v8;var Hh={},cr={},rk={},Yd={},y8={get exports(){return Yd},set exports(t){Yd=t}},sS=y8.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var e="candidate:%s %d %s %d %s %d typ %s";return e+=t.raddr!=null?" raddr %s rport %d":"%v%v",e+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(e+=" generation %d"),e+=t["network-id"]!=null?" network-id %d":"%v",e+=t["network-cost"]!=null?" network-cost %d":"%v",e}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var e="ssrc:%d";return t.attribute!=null&&(e+=" %s",t.value!=null&&(e+=":%s")),e}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var e="mediaclk:";return e+=t.id!=null?"id=%s %s":"%v%s",e+=t.mediaClockValue!=null?"=%s":"",e+=t.rateNumerator!=null?" rate=%s":"",e+=t.rateDenominator!=null?"/%s":"",e}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(sS).forEach(function(t){var e=sS[t];e.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})});(function(t){var e=function(a){return String(Number(a))===a?Number(a):a},r=function(a,c,l,u){if(u&&!l)c[u]=e(a[1]);else for(var f=0;f<l.length;f+=1)a[f+1]!=null&&(c[l[f]]=e(a[f+1]))},n=function(a,c,l){var u=a.name&&a.names;a.push&&!c[a.push]?c[a.push]=[]:u&&!c[a.name]&&(c[a.name]={});var f=a.push?{}:u?c[a.name]:c;r(l.match(a.reg),f,a.names,a.name),a.push&&c[a.push].push(f)},i=Yd,o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(a){var c={},l=[],u=c;return a.split(/(\r\n|\r|\n)/).filter(o).forEach(function(f){var d=f[0],h=f.slice(2);d==="m"&&(l.push({rtp:[],fmtp:[]}),u=l[l.length-1]);for(var p=0;p<(i[d]||[]).length;p+=1){var m=i[d][p];if(m.reg.test(h))return n(m,u,h)}}),c.media=l,c};var s=function(a,c){var l=c.split(/=(.+)/,2);return l.length===2?a[l[0]]=e(l[1]):l.length===1&&c.length>1&&(a[l[0]]=void 0),a};t.parseParams=function(a){return a.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(a){return a.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(a){for(var c=[],l=a.split(" ").map(e),u=0;u<l.length;u+=3)c.push({component:l[u],ip:l[u+1],port:l[u+2]});return c},t.parseImageAttributes=function(a){return a.split(" ").map(function(c){return c.substring(1,c.length-1).split(",").reduce(s,{})})},t.parseSimulcastStreamList=function(a){return a.split(";").map(function(c){return c.split(",").map(function(l){var u,f=!1;return l[0]!=="~"?u=e(l):(u=e(l.substring(1,l.length)),f=!0),{scid:u,paused:f}})})}})(rk);var lg=Yd,b8=/%[sdv%]/g,w8=function(t){var e=1,r=arguments,n=r.length;return t.replace(b8,function(i){if(e>=n)return i;var o=r[e];switch(e+=1,i){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}})},Ql=function(t,e,r){var n=e.format instanceof Function?e.format(e.push?r:r[e.name]):e.format,i=[t+"="+n];if(e.names)for(var o=0;o<e.names.length;o+=1){var s=e.names[o];e.name?i.push(r[e.name][s]):i.push(r[e.names[o]])}else i.push(r[e.name]);return w8.apply(null,i)},_8=["v","o","s","i","u","e","p","c","b","t","r","z","a"],S8=["i","c","b","a"],x8=function(t,e){e=e||{},t.version==null&&(t.version=0),t.name==null&&(t.name=" "),t.media.forEach(function(o){o.payloads==null&&(o.payloads="")});var r=e.outerOrder||_8,n=e.innerOrder||S8,i=[];return r.forEach(function(o){lg[o].forEach(function(s){s.name in t&&t[s.name]!=null?i.push(Ql(o,s,t)):s.push in t&&t[s.push]!=null&&t[s.push].forEach(function(a){i.push(Ql(o,s,a))})})}),t.media.forEach(function(o){i.push(Ql("m",lg.m[0],o)),n.forEach(function(s){lg[s].forEach(function(a){a.name in o&&o[a.name]!=null?i.push(Ql(s,a,o)):a.push in o&&o[a.push]!=null&&o[a.push].forEach(function(c){i.push(Ql(s,a,c))})})})}),i.join(`\r
`)+`\r
`},Hs=rk,E8=x8;cr.write=E8;cr.parse=Hs.parse;cr.parseParams=Hs.parseParams;cr.parseFmtpConfig=Hs.parseFmtpConfig;cr.parsePayloads=Hs.parsePayloads;cr.parseRemoteCandidates=Hs.parseRemoteCandidates;cr.parseImageAttributes=Hs.parseImageAttributes;cr.parseSimulcastStreamList=Hs.parseSimulcastStreamList;var dr={},R8=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),P8=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),A8=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&R8(e,t,r);return P8(e,t),e};Object.defineProperty(dr,"__esModule",{value:!0});dr.applyCodecParameters=dr.getCname=dr.extractDtlsParameters=dr.extractRtpCapabilities=void 0;const nk=A8(cr);function k8({sdpObject:t}){const e=new Map,r=[];let n=!1,i=!1;for(const s of t.media){const a=s.type;switch(a){case"audio":{if(n)continue;n=!0;break}case"video":{if(i)continue;i=!0;break}default:continue}for(const c of s.rtp){const l={kind:a,mimeType:`${a}/${c.codec}`,preferredPayloadType:c.payload,clockRate:c.rate,channels:c.encoding,parameters:{},rtcpFeedback:[]};e.set(l.preferredPayloadType,l)}for(const c of s.fmtp||[]){const l=nk.parseParams(c.config),u=e.get(c.payload);u&&(l&&l.hasOwnProperty("profile-level-id")&&(l["profile-level-id"]=String(l["profile-level-id"])),u.parameters=l)}for(const c of s.rtcpFb||[]){const l={type:c.type,parameter:c.subtype};if(l.parameter||delete l.parameter,c.payload!=="*"){const u=e.get(c.payload);if(!u)continue;u.rtcpFeedback.push(l)}else for(const u of e.values())u.kind===a&&!/.+\/rtx$/i.test(u.mimeType)&&u.rtcpFeedback.push(l)}for(const c of s.ext||[]){if(c["encrypt-uri"])continue;const l={kind:a,uri:c.uri,preferredId:c.value};r.push(l)}}return{codecs:Array.from(e.values()),headerExtensions:r}}dr.extractRtpCapabilities=k8;function T8({sdpObject:t}){const e=(t.media||[]).find(o=>o.iceUfrag&&o.port!==0);if(!e)throw new Error("no active media section found");const r=e.fingerprint||t.fingerprint;let n;switch(e.setup){case"active":n="client";break;case"passive":n="server";break;case"actpass":n="auto";break}return{role:n,fingerprints:[{algorithm:r.type,value:r.hash}]}}dr.extractDtlsParameters=T8;function C8({offerMediaObject:t}){const e=(t.ssrcs||[]).find(r=>r.attribute==="cname");return e?e.value:""}dr.getCname=C8;function O8({offerRtpParameters:t,answerMediaObject:e}){for(const r of t.codecs){const n=r.mimeType.toLowerCase();if(n!=="audio/opus"||!(e.rtp||[]).find(a=>a.payload===r.payloadType))continue;e.fmtp=e.fmtp||[];let o=e.fmtp.find(a=>a.payload===r.payloadType);o||(o={payload:r.payloadType,config:""},e.fmtp.push(o));const s=nk.parseParams(o.config);switch(n){case"audio/opus":{const a=r.parameters["sprop-stereo"];a!==void 0&&(s.stereo=a?1:0);break}}o.config="";for(const a of Object.keys(s))o.config&&(o.config+=";"),o.config+=`${a}=${s[a]}`}}dr.applyCodecParameters=O8;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.addLegacySimulcast=Ni.getRtpEncodings=void 0;function M8({offerMediaObject:t}){const e=new Set;for(const i of t.ssrcs||[]){const o=i.id;e.add(o)}if(e.size===0)throw new Error("no a=ssrc lines found");const r=new Map;for(const i of t.ssrcGroups||[]){if(i.semantics!=="FID")continue;let[o,s]=i.ssrcs.split(/\s+/);o=Number(o),s=Number(s),e.has(o)&&(e.delete(o),e.delete(s),r.set(o,s))}for(const i of e)r.set(i,null);const n=[];for(const[i,o]of r){const s={ssrc:i};o&&(s.rtx={ssrc:o}),n.push(s)}return n}Ni.getRtpEncodings=M8;function N8({offerMediaObject:t,numStreams:e}){if(e<=1)throw new TypeError("numStreams must be greater than 1");const r=(t.ssrcs||[]).find(f=>f.attribute==="msid");if(!r)throw new Error("a=ssrc line with msid information not found");const[n,i]=r.value.split(" "),o=r.id;let s;(t.ssrcGroups||[]).some(f=>{if(f.semantics!=="FID")return!1;const d=f.ssrcs.split(/\s+/);return Number(d[0])===o?(s=Number(d[1]),!0):!1});const a=t.ssrcs.find(f=>f.attribute==="cname");if(!a)throw new Error("a=ssrc line with cname information not found");const c=a.value,l=[],u=[];for(let f=0;f<e;++f)l.push(o+f),s&&u.push(s+f);t.ssrcGroups=[],t.ssrcs=[],t.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(let f=0;f<l.length;++f){const d=l[f];t.ssrcs.push({id:d,attribute:"cname",value:c}),t.ssrcs.push({id:d,attribute:"msid",value:`${n} ${i}`})}for(let f=0;f<u.length;++f){const d=l[f],h=u[f];t.ssrcs.push({id:h,attribute:"cname",value:c}),t.ssrcs.push({id:h,attribute:"msid",value:`${n} ${i}`}),t.ssrcGroups.push({semantics:"FID",ssrcs:`${d} ${h}`})}}Ni.addLegacySimulcast=N8;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.HandlerInterface=void 0;const I8=Li;class D8 extends I8.EnhancedEventEmitter{constructor(){super()}}Xr.HandlerInterface=D8;var On={},Ko={},L8=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B8=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$8=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&L8(e,t,r);return B8(e,t),e};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.OfferMediaSection=Ko.AnswerMediaSection=Ko.MediaSection=void 0;const F8=$8(rr);class o1{constructor({iceParameters:e,iceCandidates:r,dtlsParameters:n,planB:i=!1}){if(this._mediaObject={},this._planB=i,e&&this.setIceParameters(e),r){this._mediaObject.candidates=[];for(const o of r){const s={};s.component=1,s.foundation=o.foundation,s.ip=o.ip,s.port=o.port,s.priority=o.priority,s.transport=o.protocol,s.type=o.type,o.tcpType&&(s.tcptype=o.tcpType),this._mediaObject.candidates.push(s)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}n&&this.setDtlsRole(n.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}}Ko.MediaSection=o1;class j8 extends o1{constructor({iceParameters:e,iceCandidates:r,dtlsParameters:n,sctpParameters:i,plainRtpParameters:o,planB:s=!1,offerMediaObject:a,offerRtpParameters:c,answerRtpParameters:l,codecOptions:u,extmapAllowMixed:f=!1}){switch(super({iceParameters:e,iceCandidates:r,dtlsParameters:n,planB:s}),this._mediaObject.mid=String(a.mid),this._mediaObject.type=a.type,this._mediaObject.protocol=a.protocol,o?(this._mediaObject.connection={ip:o.ip,version:o.ipVersion},this._mediaObject.port=o.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),a.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const d of l.codecs){const h={payload:d.payloadType,codec:p0(d),rate:d.clockRate};d.channels>1&&(h.encoding=d.channels),this._mediaObject.rtp.push(h);const p=F8.clone(d.parameters,{});if(u){const{opusStereo:y,opusFec:g,opusDtx:v,opusMaxPlaybackRate:S,opusMaxAverageBitrate:w,opusPtime:x,videoGoogleStartBitrate:M,videoGoogleMaxBitrate:k,videoGoogleMinBitrate:N}=u,U=c.codecs.find(D=>D.payloadType===d.payloadType);switch(d.mimeType.toLowerCase()){case"audio/opus":{y!==void 0&&(U.parameters["sprop-stereo"]=y?1:0,p.stereo=y?1:0),g!==void 0&&(U.parameters.useinbandfec=g?1:0,p.useinbandfec=g?1:0),v!==void 0&&(U.parameters.usedtx=v?1:0,p.usedtx=v?1:0),S!==void 0&&(p.maxplaybackrate=S),w!==void 0&&(p.maxaveragebitrate=w),x!==void 0&&(U.parameters.ptime=x,p.ptime=x);break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{M!==void 0&&(p["x-google-start-bitrate"]=M),k!==void 0&&(p["x-google-max-bitrate"]=k),N!==void 0&&(p["x-google-min-bitrate"]=N);break}}}const m={payload:d.payloadType,config:""};for(const y of Object.keys(p))m.config&&(m.config+=";"),m.config+=`${y}=${p[y]}`;m.config&&this._mediaObject.fmtp.push(m);for(const y of d.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:d.payloadType,type:y.type,subtype:y.parameter})}this._mediaObject.payloads=l.codecs.map(d=>d.payloadType).join(" "),this._mediaObject.ext=[];for(const d of l.headerExtensions)(a.ext||[]).some(p=>p.uri===d.uri)&&this._mediaObject.ext.push({uri:d.uri,value:d.id});if(f&&a.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),a.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:a.simulcast.list1},this._mediaObject.rids=[];for(const d of a.rids||[])d.direction==="send"&&this._mediaObject.rids.push({id:d.id,direction:"recv"})}else if(a.simulcast_03){this._mediaObject.simulcast_03={value:a.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const d of a.rids||[])d.direction==="send"&&this._mediaObject.rids.push({id:d.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof a.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize):a.sctpmap&&(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize});break}}}setDtlsRole(e){switch(e){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass";break}}resume(){this._mediaObject.direction="recvonly"}}Ko.AnswerMediaSection=j8;class U8 extends o1{constructor({iceParameters:e,iceCandidates:r,dtlsParameters:n,sctpParameters:i,plainRtpParameters:o,planB:s=!1,mid:a,kind:c,offerRtpParameters:l,streamId:u,trackId:f,oldDataChannelSpec:d=!1}){switch(super({iceParameters:e,iceCandidates:r,dtlsParameters:n,planB:s}),this._mediaObject.mid=String(a),this._mediaObject.type=c,o?(this._mediaObject.connection={ip:o.ip,version:o.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=o.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},i?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),c){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${u||"-"} ${f}`);for(const y of l.codecs){const g={payload:y.payloadType,codec:p0(y),rate:y.clockRate};y.channels>1&&(g.encoding=y.channels),this._mediaObject.rtp.push(g);const v={payload:y.payloadType,config:""};for(const S of Object.keys(y.parameters))v.config&&(v.config+=";"),v.config+=`${S}=${y.parameters[S]}`;v.config&&this._mediaObject.fmtp.push(v);for(const S of y.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:y.payloadType,type:S.type,subtype:S.parameter})}this._mediaObject.payloads=l.codecs.map(y=>y.payloadType).join(" "),this._mediaObject.ext=[];for(const y of l.headerExtensions)this._mediaObject.ext.push({uri:y.uri,value:y.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const h=l.encodings[0],p=h.ssrc,m=h.rtx&&h.rtx.ssrc?h.rtx.ssrc:void 0;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],l.rtcp.cname&&this._mediaObject.ssrcs.push({id:p,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:p,attribute:"msid",value:`${u||"-"} ${f}`}),m&&(l.rtcp.cname&&this._mediaObject.ssrcs.push({id:m,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:m,attribute:"msid",value:`${u||"-"} ${f}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${p} ${m}`}));break}case"application":{d?(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize);break}}}setDtlsRole(e){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:e,streamId:r,trackId:n}){const i=e.encodings[0],o=i.ssrc,s=i.rtx&&i.rtx.ssrc?i.rtx.ssrc:void 0,a=this._mediaObject.payloads.split(" ");for(const c of e.codecs){if(a.includes(String(c.payloadType)))continue;const l={payload:c.payloadType,codec:p0(c),rate:c.clockRate};c.channels>1&&(l.encoding=c.channels),this._mediaObject.rtp.push(l);const u={payload:c.payloadType,config:""};for(const f of Object.keys(c.parameters))u.config&&(u.config+=";"),u.config+=`${f}=${c.parameters[f]}`;u.config&&this._mediaObject.fmtp.push(u);for(const f of c.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:c.payloadType,type:f.type,subtype:f.parameter})}this._mediaObject.payloads+=` ${e.codecs.filter(c=>!this._mediaObject.payloads.includes(c.payloadType)).map(c=>c.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),e.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:`${r||"-"} ${n}`}),s&&(e.rtcp.cname&&this._mediaObject.ssrcs.push({id:s,attribute:"cname",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:s,attribute:"msid",value:`${r||"-"} ${n}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${o} ${s}`}))}planBStopReceiving({offerRtpParameters:e}){const r=e.encodings[0],n=r.ssrc,i=r.rtx&&r.rtx.ssrc?r.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(o=>o.id!==n&&o.id!==i),i&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(o=>o.ssrcs!==`${n} ${i}`))}}Ko.OfferMediaSection=U8;function p0(t){const r=new RegExp("^(audio|video)/(.+)","i").exec(t.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");return r[2]}var z8=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q8=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),H8=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&z8(e,t,r);return q8(e,t),e};Object.defineProperty(On,"__esModule",{value:!0});On.RemoteSdp=void 0;const V8=H8(cr),W8=Qt,mf=Ko,cg=new W8.Logger("RemoteSdp");class G8{constructor({iceParameters:e,iceCandidates:r,dtlsParameters:n,sctpParameters:i,plainRtpParameters:o,planB:s=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=e,this._iceCandidates=r,this._dtlsParameters=n,this._sctpParameters=i,this._plainRtpParameters=o,this._planB=s,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},e&&e.iceLite&&(this._sdpObject.icelite="ice-lite"),n){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const a=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:n.fingerprints[a-1].algorithm,hash:n.fingerprints[a-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}o&&(this._sdpObject.origin.address=o.ip,this._sdpObject.origin.ipVer=o.ipVersion)}updateIceParameters(e){cg.debug("updateIceParameters() [iceParameters:%o]",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?"ice-lite":void 0;for(const r of this._mediaSections)r.setIceParameters(e)}updateDtlsRole(e){cg.debug("updateDtlsRole() [role:%s]",e),this._dtlsParameters.role=e;for(const r of this._mediaSections)r.setDtlsRole(e)}getNextMediaSectionIdx(){for(let e=0;e<this._mediaSections.length;++e){const r=this._mediaSections[e];if(r.closed)return{idx:e,reuseMid:r.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:e,reuseMid:r,offerRtpParameters:n,answerRtpParameters:i,codecOptions:o,extmapAllowMixed:s=!1}){const a=new mf.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:e,offerRtpParameters:n,answerRtpParameters:i,codecOptions:o,extmapAllowMixed:s});r?this._replaceMediaSection(a,r):this._midToIndex.has(a.mid)?this._replaceMediaSection(a):this._addMediaSection(a)}receive({mid:e,kind:r,offerRtpParameters:n,streamId:i,trackId:o}){const s=this._midToIndex.get(e);let a;if(s!==void 0&&(a=this._mediaSections[s]),a)a.planBReceive({offerRtpParameters:n,streamId:i,trackId:o}),this._replaceMediaSection(a);else{a=new mf.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:e,kind:r,offerRtpParameters:n,streamId:i,trackId:o});const c=this._mediaSections.find(l=>l.closed);c?this._replaceMediaSection(a,c.mid):this._addMediaSection(a)}}pauseMediaSection(e){this._findMediaSection(e).pause()}resumeSendingMediaSection(e){this._findMediaSection(e).resume()}resumeReceivingMediaSection(e){this._findMediaSection(e).resume()}disableMediaSection(e){this._findMediaSection(e).disable()}closeMediaSection(e){const r=this._findMediaSection(e);return e===this._firstMid?(cg.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",e),this.disableMediaSection(e),!1):(r.close(),this._regenerateBundleMids(),!0)}planBStopReceiving({mid:e,offerRtpParameters:r}){const n=this._midToIndex.get(e);if(n===void 0)throw new Error(`no media section found with mid '${e}'`);const i=this._mediaSections[n];i.planBStopReceiving({offerRtpParameters:r}),this._replaceMediaSection(i)}sendSctpAssociation({offerMediaObject:e}){const r=new mf.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:e});this._addMediaSection(r)}receiveSctpAssociation({oldDataChannelSpec:e=!1}={}){const r=new mf.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:e});this._addMediaSection(r)}getSdp(){return this._sdpObject.origin.sessionVersion++,V8.write(this._sdpObject)}_addMediaSection(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}_replaceMediaSection(e,r){if(typeof r=="string"){const n=this._midToIndex.get(r);if(n===void 0)throw new Error(`no media section found for reuseMid '${r}'`);const i=this._mediaSections[n];this._mediaSections[n]=e,this._midToIndex.delete(i.mid),this._midToIndex.set(e.mid,n),this._sdpObject.media[n]=e.getObject(),this._regenerateBundleMids()}else{const n=this._midToIndex.get(e.mid);if(n===void 0)throw new Error(`no media section found with mid '${e.mid}'`);this._mediaSections[n]=e,this._sdpObject.media[n]=e.getObject()}}_findMediaSection(e){const r=this._midToIndex.get(e);if(r===void 0)throw new Error(`no media section found with mid '${e}'`);return this._mediaSections[r]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(e=>!e.closed).map(e=>e.mid).join(" "))}}On.RemoteSdp=G8;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.parse=void 0;const K8=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function Q8(t){const e=K8.exec(t||"");return e?{spatialLayers:Number(e[1]),temporalLayers:Number(e[2])}:{spatialLayers:1,temporalLayers:1}}Vs.parse=Q8;var J8=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y8=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Au=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&J8(e,t,r);return Y8(e,t),e};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.Chrome74=void 0;const li=Au(cr),X8=Qt,aS=Au(rr),ia=Au(Te),gf=Au(dr),ug=Au(Ni),Z8=Xr,e$=On,t$=Vs,Me=new X8.Logger("Chrome74"),lS={OS:1024,MIS:1024};class s1 extends Z8.HandlerInterface{static createFactory(){return()=>new s1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome74"}close(){if(Me.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Me.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch{}const n=li.parse(r.sdp);return gf.extractRtpCapabilities({sdpObject:n})}catch(r){try{e.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Me.debug("getNativeSctpCapabilities()"),{numStreams:lS}}run({direction:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){Me.debug("run()"),this._direction=e,this._remoteSdp=new e$.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:ia.getSendingRtpParameters("audio",u),video:ia.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:ia.getSendingRemoteRtpParameters("audio",u),video:ia.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(Me.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}))}async updateIceServers(e){Me.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=e,this._pc.setConfiguration(r)}async restartIce(e){if(Me.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Me.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Me.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Me.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Me.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:r,codecOptions:n,codec:i}){var o;this.assertSendDirection(),Me.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&r.length>1&&r.forEach((g,v)=>{g.rid=`r${v}`});const s=aS.clone(this._sendingRtpParametersByKind[e.kind],{});s.codecs=ia.reduceCodecs(s.codecs,i);const a=aS.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});a.codecs=ia.reduceCodecs(a.codecs,i);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});let u=await this._pc.createOffer(),f=li.parse(u.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:(o=this._forcedLocalDtlsRole)!==null&&o!==void 0?o:"client",localSdpObject:f});let h=!1;const p=(0,t$.parse)((r||[{}])[0].scalabilityMode);r&&r.length===1&&p.spatialLayers>1&&s.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(Me.debug("send() | enabling legacy simulcast for VP9 SVC"),h=!0,f=li.parse(u.sdp),d=f.media[c.idx],ug.addLegacySimulcast({offerMediaObject:d,numStreams:p.spatialLayers}),u={type:"offer",sdp:li.write(f)}),Me.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const m=l.mid;if(s.mid=m,f=li.parse(this._pc.localDescription.sdp),d=f.media[c.idx],s.rtcp.cname=gf.getCname({offerMediaObject:d}),!r)s.encodings=ug.getRtpEncodings({offerMediaObject:d});else if(r.length===1){let g=ug.getRtpEncodings({offerMediaObject:d});Object.assign(g[0],r[0]),h&&(g=[g[0]]),s.encodings=g}else s.encodings=r;if(s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const g of s.encodings)g.scalabilityMode="S1T2";this._remoteSdp.send({offerMediaObject:d,reuseMid:c.reuseMid,offerRtpParameters:s,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const y={type:"answer",sdp:this._remoteSdp.getSdp()};return Me.debug("send() | calling pc.setRemoteDescription() [answer:%o]",y),await this._pc.setRemoteDescription(y),this._mapMidTransceiver.set(m,l),{localId:m,rtpParameters:s,rtpSender:l.sender}}async stopSending(e){this.assertSendDirection(),Me.debug("stopSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const i=await this._pc.createOffer();Me.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Me.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertSendDirection(),Me.debug("pauseSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(e);const n=await this._pc.createOffer();Me.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Me.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(e){this.assertSendDirection(),Me.debug("resumeSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();Me.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Me.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,r){this.assertSendDirection(),r?Me.debug("replaceTrack() [localId:%s, track.id:%s]",e,r.id):Me.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(e,r){this.assertSendDirection(),Me.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,r);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((o,s)=>{s<=r?o.active=!0:o.active=!1}),await n.sender.setParameters(i)}async setRtpEncodingParameters(e,r){this.assertSendDirection(),Me.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,r);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((o,s)=>{i.encodings[s]={...o,...r}}),await n.sender.setParameters(i)}async getSenderStats(e){this.assertSendDirection();const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:o}){var s;this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:r,maxRetransmits:n,protocol:o};Me.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%lS.MIS,!this._hasDataChannelMediaSection){const u=await this._pc.createOffer(),f=li.parse(u.sdp),d=f.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(s=this._forcedLocalDtlsRole)!==null&&s!==void 0?s:"client",localSdpObject:f}),Me.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const h={type:"answer",sdp:this._remoteSdp.getSdp()};Me.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._hasDataChannelMediaSection=!0}const l={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:l}}async receive(e){var r;this.assertRecvDirection();const n=[],i=new Map;for(const c of e){const{trackId:l,kind:u,rtpParameters:f,streamId:d}=c;Me.debug("receive() [trackId:%s, kind:%s]",l,u);const h=f.mid||String(this._mapMidTransceiver.size);i.set(l,h),this._remoteSdp.receive({mid:h,kind:u,offerRtpParameters:f,streamId:d||f.rtcp.cname,trackId:l})}const o={type:"offer",sdp:this._remoteSdp.getSdp()};Me.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const a=li.parse(s.sdp);for(const c of e){const{trackId:l,rtpParameters:u}=c,f=i.get(l),d=a.media.find(h=>String(h.mid)===f);gf.applyCodecParameters({offerRtpParameters:u,answerMediaObject:d})}s={type:"answer",sdp:li.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:(r=this._forcedLocalDtlsRole)!==null&&r!==void 0?r:"client",localSdpObject:a}),Me.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const c of e){const{trackId:l}=c,u=i.get(l),f=this._pc.getTransceivers().find(d=>d.mid===u);if(f)this._mapMidTransceiver.set(u,f),n.push({localId:u,track:f.receiver.track,rtpReceiver:f.receiver});else throw new Error("new RTCRtpTransceiver not found")}return n}async stopReceiving(e){this.assertRecvDirection();for(const i of e){Me.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Me.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Me.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const i of e)this._mapMidTransceiver.delete(i)}async pauseReceiving(e){this.assertRecvDirection();for(const i of e){Me.debug("pauseReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Me.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Me.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(e){this.assertRecvDirection();for(const i of e){Me.debug("resumeReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Me.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Me.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this.assertRecvDirection();const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:r,protocol:n}){var i;this.assertRecvDirection();const{streamId:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c}=e,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c,protocol:n};Me.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const f={type:"offer",sdp:this._remoteSdp.getSdp()};Me.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();if(!this._transportReady){const h=li.parse(d.sdp);await this.setupTransport({localDtlsRole:(i=this._forcedLocalDtlsRole)!==null&&i!==void 0?i:"client",localSdpObject:h})}Me.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport({localDtlsRole:e,localSdpObject:r}){r||(r=li.parse(this._pc.localDescription.sdp));const n=gf.extractDtlsParameters({sdpObject:r});n.role=e,this._remoteSdp.updateDtlsRole(e==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:n},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Hh.Chrome74=s1;var Vh={},r$=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),n$=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ku=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&r$(e,t,r);return n$(e,t),e};Object.defineProperty(Vh,"__esModule",{value:!0});Vh.Chrome70=void 0;const vn=ku(cr),i$=Qt,cS=ku(rr),oa=ku(Te),vf=ku(dr),fg=ku(Ni),o$=Xr,s$=On,a$=Vs,Ge=new i$.Logger("Chrome70"),uS={OS:1024,MIS:1024};class a1 extends o$.HandlerInterface{static createFactory(){return()=>new a1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome70"}close(){if(Ge.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Ge.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch{}const n=vn.parse(r.sdp);return vf.extractRtpCapabilities({sdpObject:n})}catch(r){try{e.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Ge.debug("getNativeSctpCapabilities()"),{numStreams:uS}}run({direction:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){Ge.debug("run()"),this._direction=e,this._remoteSdp=new s$.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:oa.getSendingRtpParameters("audio",u),video:oa.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:oa.getSendingRemoteRtpParameters("audio",u),video:oa.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Ge.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(e){Ge.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=e,this._pc.setConfiguration(r)}async restartIce(e){if(Ge.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Ge.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Ge.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ge.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ge.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:r,codecOptions:n,codec:i}){var o;this.assertSendDirection(),Ge.debug("send() [kind:%s, track.id:%s]",e.kind,e.id);const s=cS.clone(this._sendingRtpParametersByKind[e.kind],{});s.codecs=oa.reduceCodecs(s.codecs,i);const a=cS.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});a.codecs=oa.reduceCodecs(a.codecs,i);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});let u=await this._pc.createOffer(),f=vn.parse(u.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:(o=this._forcedLocalDtlsRole)!==null&&o!==void 0?o:"client",localSdpObject:f}),r&&r.length>1&&(Ge.debug("send() | enabling legacy simulcast"),f=vn.parse(u.sdp),d=f.media[c.idx],fg.addLegacySimulcast({offerMediaObject:d,numStreams:r.length}),u={type:"offer",sdp:vn.write(f)});let h=!1;const p=(0,a$.parse)((r||[{}])[0].scalabilityMode);if(r&&r.length===1&&p.spatialLayers>1&&s.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(Ge.debug("send() | enabling legacy simulcast for VP9 SVC"),h=!0,f=vn.parse(u.sdp),d=f.media[c.idx],fg.addLegacySimulcast({offerMediaObject:d,numStreams:p.spatialLayers}),u={type:"offer",sdp:vn.write(f)}),Ge.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),r){Ge.debug("send() | applying given encodings");const g=l.sender.getParameters();for(let v=0;v<(g.encodings||[]).length;++v){const S=g.encodings[v],w=r[v];if(!w)break;g.encodings[v]=Object.assign(S,w)}await l.sender.setParameters(g)}const m=l.mid;if(s.mid=m,f=vn.parse(this._pc.localDescription.sdp),d=f.media[c.idx],s.rtcp.cname=vf.getCname({offerMediaObject:d}),s.encodings=fg.getRtpEncodings({offerMediaObject:d}),r)for(let g=0;g<s.encodings.length;++g)r[g]&&Object.assign(s.encodings[g],r[g]);if(h&&(s.encodings=[s.encodings[0]]),s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const g of s.encodings)g.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:d,reuseMid:c.reuseMid,offerRtpParameters:s,answerRtpParameters:a,codecOptions:n});const y={type:"answer",sdp:this._remoteSdp.getSdp()};return Ge.debug("send() | calling pc.setRemoteDescription() [answer:%o]",y),await this._pc.setRemoteDescription(y),this._mapMidTransceiver.set(m,l),{localId:m,rtpParameters:s,rtpSender:l.sender}}async stopSending(e){this.assertSendDirection(),Ge.debug("stopSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const i=await this._pc.createOffer();Ge.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Ge.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o),this._mapMidTransceiver.delete(e)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,r){this.assertSendDirection(),r?Ge.debug("replaceTrack() [localId:%s, track.id:%s]",e,r.id):Ge.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(e,r){this.assertSendDirection(),Ge.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,r);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((o,s)=>{s<=r?o.active=!0:o.active=!1}),await n.sender.setParameters(i)}async setRtpEncodingParameters(e,r){this.assertSendDirection(),Ge.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,r);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((o,s)=>{i.encodings[s]={...o,...r}}),await n.sender.setParameters(i)}async getSenderStats(e){this.assertSendDirection();const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:o}){var s;this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:o};Ge.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%uS.MIS,!this._hasDataChannelMediaSection){const u=await this._pc.createOffer(),f=vn.parse(u.sdp),d=f.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(s=this._forcedLocalDtlsRole)!==null&&s!==void 0?s:"client",localSdpObject:f}),Ge.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const h={type:"answer",sdp:this._remoteSdp.getSdp()};Ge.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._hasDataChannelMediaSection=!0}const l={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:l}}async receive(e){var r;this.assertRecvDirection();const n=[],i=new Map;for(const c of e){const{trackId:l,kind:u,rtpParameters:f,streamId:d}=c;Ge.debug("receive() [trackId:%s, kind:%s]",l,u);const h=f.mid||String(this._mapMidTransceiver.size);i.set(l,h),this._remoteSdp.receive({mid:h,kind:u,offerRtpParameters:f,streamId:d||f.rtcp.cname,trackId:l})}const o={type:"offer",sdp:this._remoteSdp.getSdp()};Ge.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const a=vn.parse(s.sdp);for(const c of e){const{trackId:l,rtpParameters:u}=c,f=i.get(l),d=a.media.find(h=>String(h.mid)===f);vf.applyCodecParameters({offerRtpParameters:u,answerMediaObject:d})}s={type:"answer",sdp:vn.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:(r=this._forcedLocalDtlsRole)!==null&&r!==void 0?r:"client",localSdpObject:a}),Ge.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const c of e){const{trackId:l}=c,u=i.get(l),f=this._pc.getTransceivers().find(d=>d.mid===u);if(!f)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(u,f),n.push({localId:u,track:f.receiver.track,rtpReceiver:f.receiver})}return n}async stopReceiving(e){this.assertRecvDirection();for(const i of e){Ge.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ge.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ge.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const i of e)this._mapMidTransceiver.delete(i)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this.assertRecvDirection();const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:r,protocol:n}){var i;this.assertRecvDirection();const{streamId:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c}=e,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:c,protocol:n};Ge.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const f={type:"offer",sdp:this._remoteSdp.getSdp()};Ge.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();if(!this._transportReady){const h=vn.parse(d.sdp);await this.setupTransport({localDtlsRole:(i=this._forcedLocalDtlsRole)!==null&&i!==void 0?i:"client",localSdpObject:h})}Ge.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport({localDtlsRole:e,localSdpObject:r}){r||(r=vn.parse(this._pc.localDescription.sdp));const n=vf.extractDtlsParameters({sdpObject:r});n.role=e,this._remoteSdp.updateDtlsRole(e==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:n},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Vh.Chrome70=a1;var Wh={},ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.addLegacySimulcast=ao.getRtpEncodings=void 0;function l$({offerMediaObject:t,track:e}){const r=new Set;for(const o of t.ssrcs||[]){if(o.attribute!=="msid")continue;if(o.value.split(" ")[1]===e.id){const a=o.id;r.add(a)}}if(r.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${e.id}]`);const n=new Map;for(const o of t.ssrcGroups||[]){if(o.semantics!=="FID")continue;let[s,a]=o.ssrcs.split(/\s+/);s=Number(s),a=Number(a),r.has(s)&&(r.delete(s),r.delete(a),n.set(s,a))}for(const o of r)n.set(o,null);const i=[];for(const[o,s]of n){const a={ssrc:o};s&&(a.rtx={ssrc:s}),i.push(a)}return i}ao.getRtpEncodings=l$;function c$({offerMediaObject:t,track:e,numStreams:r}){if(r<=1)throw new TypeError("numStreams must be greater than 1");let n,i,o;if(!(t.ssrcs||[]).find(f=>f.attribute!=="msid"?!1:f.value.split(" ")[1]===e.id?(n=f.id,o=f.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${e.id}]`);(t.ssrcGroups||[]).some(f=>{if(f.semantics!=="FID")return!1;const d=f.ssrcs.split(/\s+/);return Number(d[0])===n?(i=Number(d[1]),!0):!1});const a=t.ssrcs.find(f=>f.attribute==="cname"&&f.id===n);if(!a)throw new Error(`a=ssrc line with cname information not found [track.id:${e.id}]`);const c=a.value,l=[],u=[];for(let f=0;f<r;++f)l.push(n+f),i&&u.push(i+f);t.ssrcGroups=t.ssrcGroups||[],t.ssrcs=t.ssrcs||[],t.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(let f=0;f<l.length;++f){const d=l[f];t.ssrcs.push({id:d,attribute:"cname",value:c}),t.ssrcs.push({id:d,attribute:"msid",value:`${o} ${e.id}`})}for(let f=0;f<u.length;++f){const d=l[f],h=u[f];t.ssrcs.push({id:h,attribute:"cname",value:c}),t.ssrcs.push({id:h,attribute:"msid",value:`${o} ${e.id}`}),t.ssrcGroups.push({semantics:"FID",ssrcs:`${d} ${h}`})}}ao.addLegacySimulcast=c$;var u$=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),f$=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tu=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&u$(e,t,r);return f$(e,t),e};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.Chrome67=void 0;const ci=Tu(cr),d$=Qt,fS=Tu(rr),sa=Tu(Te),yf=Tu(dr),dS=Tu(ao),h$=Xr,p$=On,Ke=new d$.Logger("Chrome67"),hS={OS:1024,MIS:1024};class l1 extends h$.HandlerInterface{static createFactory(){return()=>new l1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome67"}close(){if(Ke.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Ke.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch{}const n=ci.parse(r.sdp);return yf.extractRtpCapabilities({sdpObject:n})}catch(r){try{e.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Ke.debug("getNativeSctpCapabilities()"),{numStreams:hS}}run({direction:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){Ke.debug("run()"),this._direction=e,this._remoteSdp=new p$.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,planB:!0}),this._sendingRtpParametersByKind={audio:sa.getSendingRtpParameters("audio",u),video:sa.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:sa.getSendingRemoteRtpParameters("audio",u),video:sa.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Ke.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(e){Ke.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=e,this._pc.setConfiguration(r)}async restartIce(e){if(Ke.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Ke.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Ke.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ke.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ke.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:r,codecOptions:n,codec:i}){var o;this.assertSendDirection(),Ke.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),i&&Ke.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let s=await this._pc.createOffer(),a=ci.parse(s.sdp),c;const l=fS.clone(this._sendingRtpParametersByKind[e.kind],{});l.codecs=sa.reduceCodecs(l.codecs);const u=fS.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(u.codecs=sa.reduceCodecs(u.codecs),this._transportReady||await this.setupTransport({localDtlsRole:(o=this._forcedLocalDtlsRole)!==null&&o!==void 0?o:"client",localSdpObject:a}),e.kind==="video"&&r&&r.length>1&&(Ke.debug("send() | enabling simulcast"),a=ci.parse(s.sdp),c=a.media.find(p=>p.type==="video"),dS.addLegacySimulcast({offerMediaObject:c,track:e,numStreams:r.length}),s={type:"offer",sdp:ci.write(a)}),Ke.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),a=ci.parse(this._pc.localDescription.sdp),c=a.media.find(p=>p.type===e.kind),l.rtcp.cname=yf.getCname({offerMediaObject:c}),l.encodings=dS.getRtpEncodings({offerMediaObject:c,track:e}),r)for(let p=0;p<l.encodings.length;++p)r[p]&&Object.assign(l.encodings[p],r[p]);if(l.encodings.length>1&&l.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of l.encodings)p.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:c,offerRtpParameters:l,answerRtpParameters:u,codecOptions:n});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Ke.debug("send() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f);const d=String(this._nextSendLocalId);this._nextSendLocalId++;const h=this._pc.getSenders().find(p=>p.track===e);return this._mapSendLocalIdRtpSender.set(d,h),{localId:d,rtpParameters:l,rtpSender:h}}async stopSending(e){this.assertSendDirection(),Ke.debug("stopSending() [localId:%s]",e);const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(r),r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(e);const n=await this._pc.createOffer();Ke.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(o){if(this._sendStream.getTracks().length===0){Ke.warn("stopSending() | ignoring expected error due no sending tracks: %s",o.toString());return}throw o}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};Ke.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,r){this.assertSendDirection(),r?Ke.debug("replaceTrack() [localId:%s, track.id:%s]",e,r.id):Ke.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.track;await n.replaceTrack(r),i&&this._sendStream.removeTrack(i),r&&this._sendStream.addTrack(r)}async setMaxSpatialLayer(e,r){this.assertSendDirection(),Ke.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,r);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((o,s)=>{s<=r?o.active=!0:o.active=!1}),await n.setParameters(i)}async setRtpEncodingParameters(e,r){this.assertSendDirection(),Ke.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,r);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((o,s)=>{i.encodings[s]={...o,...r}}),await n.setParameters(i)}async getSenderStats(e){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");return r.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:o}){var s;this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:o};Ke.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%hS.MIS,!this._hasDataChannelMediaSection){const u=await this._pc.createOffer(),f=ci.parse(u.sdp),d=f.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(s=this._forcedLocalDtlsRole)!==null&&s!==void 0?s:"client",localSdpObject:f}),Ke.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const h={type:"answer",sdp:this._remoteSdp.getSdp()};Ke.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._hasDataChannelMediaSection=!0}const l={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:l}}async receive(e){var r;this.assertRecvDirection();const n=[];for(const a of e){const{trackId:c,kind:l,rtpParameters:u,streamId:f}=a;Ke.debug("receive() [trackId:%s, kind:%s]",c,l);const d=l;this._remoteSdp.receive({mid:d,kind:l,offerRtpParameters:u,streamId:f||u.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};Ke.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const s=ci.parse(o.sdp);for(const a of e){const{kind:c,rtpParameters:l}=a,u=c,f=s.media.find(d=>String(d.mid)===u);yf.applyCodecParameters({offerRtpParameters:l,answerMediaObject:f})}o={type:"answer",sdp:ci.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:(r=this._forcedLocalDtlsRole)!==null&&r!==void 0?r:"client",localSdpObject:s}),Ke.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const a of e){const{kind:c,trackId:l,rtpParameters:u}=a,f=l,d=c,h=this._pc.getReceivers().find(p=>p.track&&p.track.id===f);if(!h)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(f,{mid:d,rtpParameters:u,rtpReceiver:h}),n.push({localId:f,track:h.track,rtpReceiver:h})}return n}async stopReceiving(e){this.assertRecvDirection();for(const i of e){Ke.debug("stopReceiving() [localId:%s]",i);const{mid:o,rtpParameters:s}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:o,offerRtpParameters:s})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ke.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ke.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this.assertRecvDirection();const{rtpReceiver:r}=this._mapRecvLocalIdInfo.get(e)||{};if(!r)throw new Error("associated RTCRtpReceiver not found");return r.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:r,protocol:n}){var i;this.assertRecvDirection();const{streamId:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c}=e,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:c,protocol:n};Ke.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const f={type:"offer",sdp:this._remoteSdp.getSdp()};Ke.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();if(!this._transportReady){const h=ci.parse(d.sdp);await this.setupTransport({localDtlsRole:(i=this._forcedLocalDtlsRole)!==null&&i!==void 0?i:"client",localSdpObject:h})}Ke.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport({localDtlsRole:e,localSdpObject:r}){r||(r=ci.parse(this._pc.localDescription.sdp));const n=yf.extractDtlsParameters({sdpObject:r});n.role=e,this._remoteSdp.updateDtlsRole(e==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:n},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Wh.Chrome67=l1;var Gh={},m$=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),g$=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Cu=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m$(e,t,r);return g$(e,t),e};Object.defineProperty(Gh,"__esModule",{value:!0});Gh.Chrome55=void 0;const ui=Cu(cr),v$=Qt,Jl=$r,pS=Cu(rr),aa=Cu(Te),bf=Cu(dr),mS=Cu(ao),y$=Xr,b$=On,st=new v$.Logger("Chrome55"),gS={OS:1024,MIS:1024};class c1 extends y$.HandlerInterface{static createFactory(){return()=>new c1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome55"}close(){if(st.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){st.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch{}const n=ui.parse(r.sdp);return bf.extractRtpCapabilities({sdpObject:n})}catch(r){try{e.close()}catch{}throw r}}async getNativeSctpCapabilities(){return st.debug("getNativeSctpCapabilities()"),{numStreams:gS}}run({direction:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){st.debug("run()"),this._direction=e,this._remoteSdp=new b$.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,planB:!0}),this._sendingRtpParametersByKind={audio:aa.getSendingRtpParameters("audio",u),video:aa.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:aa.getSendingRemoteRtpParameters("audio",u),video:aa.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(st.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(e){st.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=e,this._pc.setConfiguration(r)}async restartIce(e){if(st.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});st.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};st.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};st.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();st.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:r,codecOptions:n,codec:i}){var o;this.assertSendDirection(),st.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),i&&st.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let s=await this._pc.createOffer(),a=ui.parse(s.sdp),c;const l=pS.clone(this._sendingRtpParametersByKind[e.kind],{});l.codecs=aa.reduceCodecs(l.codecs);const u=pS.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(u.codecs=aa.reduceCodecs(u.codecs),this._transportReady||await this.setupTransport({localDtlsRole:(o=this._forcedLocalDtlsRole)!==null&&o!==void 0?o:"client",localSdpObject:a}),e.kind==="video"&&r&&r.length>1&&(st.debug("send() | enabling simulcast"),a=ui.parse(s.sdp),c=a.media.find(h=>h.type==="video"),mS.addLegacySimulcast({offerMediaObject:c,track:e,numStreams:r.length}),s={type:"offer",sdp:ui.write(a)}),st.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),a=ui.parse(this._pc.localDescription.sdp),c=a.media.find(h=>h.type===e.kind),l.rtcp.cname=bf.getCname({offerMediaObject:c}),l.encodings=mS.getRtpEncodings({offerMediaObject:c,track:e}),r)for(let h=0;h<l.encodings.length;++h)r[h]&&Object.assign(l.encodings[h],r[h]);if(l.encodings.length>1&&l.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const h of l.encodings)h.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:c,offerRtpParameters:l,answerRtpParameters:u,codecOptions:n});const f={type:"answer",sdp:this._remoteSdp.getSdp()};st.debug("send() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f);const d=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(d,e),{localId:d,rtpParameters:l}}async stopSending(e){this.assertSendDirection(),st.debug("stopSending() [localId:%s]",e);const r=this._mapSendLocalIdTrack.get(e);if(!r)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();st.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(o){if(this._sendStream.getTracks().length===0){st.warn("stopSending() | ignoring expected error due no sending tracks: %s",o.toString());return}throw o}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};st.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,r){throw new Jl.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,r){throw new Jl.UnsupportedError(" not implemented")}async setRtpEncodingParameters(e,r){throw new Jl.UnsupportedError("not supported")}async getSenderStats(e){throw new Jl.UnsupportedError("not implemented")}async sendDataChannel({ordered:e,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:o}){var s;this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:o};st.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%gS.MIS,!this._hasDataChannelMediaSection){const u=await this._pc.createOffer(),f=ui.parse(u.sdp),d=f.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(s=this._forcedLocalDtlsRole)!==null&&s!==void 0?s:"client",localSdpObject:f}),st.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const h={type:"answer",sdp:this._remoteSdp.getSdp()};st.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._hasDataChannelMediaSection=!0}const l={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:l}}async receive(e){var r;this.assertRecvDirection();const n=[];for(const a of e){const{trackId:c,kind:l,rtpParameters:u,streamId:f}=a;st.debug("receive() [trackId:%s, kind:%s]",c,l);const d=l;this._remoteSdp.receive({mid:d,kind:l,offerRtpParameters:u,streamId:f||u.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};st.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const s=ui.parse(o.sdp);for(const a of e){const{kind:c,rtpParameters:l}=a,u=c,f=s.media.find(d=>String(d.mid)===u);bf.applyCodecParameters({offerRtpParameters:l,answerMediaObject:f})}o={type:"answer",sdp:ui.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:(r=this._forcedLocalDtlsRole)!==null&&r!==void 0?r:"client",localSdpObject:s}),st.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const a of e){const{kind:c,trackId:l,rtpParameters:u}=a,f=c,d=l,h=a.streamId||u.rtcp.cname,m=this._pc.getRemoteStreams().find(y=>y.id===h).getTrackById(d);if(!m)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(d,{mid:f,rtpParameters:u}),n.push({localId:d,track:m})}return n}async stopReceiving(e){this.assertRecvDirection();for(const i of e){st.debug("stopReceiving() [localId:%s]",i);const{mid:o,rtpParameters:s}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:o,offerRtpParameters:s})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};st.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();st.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new Jl.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:e,label:r,protocol:n}){var i;this.assertRecvDirection();const{streamId:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c}=e,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:c,protocol:n};st.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const f={type:"offer",sdp:this._remoteSdp.getSdp()};st.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();if(!this._transportReady){const h=ui.parse(d.sdp);await this.setupTransport({localDtlsRole:(i=this._forcedLocalDtlsRole)!==null&&i!==void 0?i:"client",localSdpObject:h})}st.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport({localDtlsRole:e,localSdpObject:r}){r||(r=ui.parse(this._pc.localDescription.sdp));const n=bf.extractDtlsParameters({sdpObject:r});n.role=e,this._remoteSdp.updateDtlsRole(e==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:n},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Gh.Chrome55=c1;var Kh={},w$=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_$=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ou=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&w$(e,t,r);return _$(e,t),e};Object.defineProperty(Kh,"__esModule",{value:!0});Kh.Firefox60=void 0;const Eo=Ou(cr),S$=Qt,x$=$r,dg=Ou(rr),la=Ou(Te),wf=Ou(dr),vS=Ou(Ni),E$=Xr,R$=On,De=new S$.Logger("Firefox60"),yS={OS:16,MIS:2048};class u1 extends E$.HandlerInterface{static createFactory(){return()=>new u1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Firefox60"}close(){if(De.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){De.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),r=document.createElement("canvas");r.getContext("2d");const i=r.captureStream().getVideoTracks()[0];try{e.addTransceiver("audio",{direction:"sendrecv"});const o=e.addTransceiver(i,{direction:"sendrecv"}),s=o.sender.getParameters(),a=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];s.encodings=a,await o.sender.setParameters(s);const c=await e.createOffer();try{r.remove()}catch{}try{i.stop()}catch{}try{e.close()}catch{}const l=Eo.parse(c.sdp);return wf.extractRtpCapabilities({sdpObject:l})}catch(o){try{r.remove()}catch{}try{i.stop()}catch{}try{e.close()}catch{}throw o}}async getNativeSctpCapabilities(){return De.debug("getNativeSctpCapabilities()"),{numStreams:yS}}run({direction:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){De.debug("run()"),this._direction=e,this._remoteSdp=new R$.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:la.getSendingRtpParameters("audio",u),video:la.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:la.getSendingRemoteRtpParameters("audio",u),video:la.getSendingRemoteRtpParameters("video",u)},this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(De.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(e){throw new x$.UnsupportedError("not supported")}async restartIce(e){if(De.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});De.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};De.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};De.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();De.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:r,codecOptions:n,codec:i}){this.assertSendDirection(),De.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&(r=dg.clone(r,[]),r.length>1&&(r.forEach((h,p)=>{h.rid=`r${p}`}),r.reverse()));const o=dg.clone(this._sendingRtpParametersByKind[e.kind],{});o.codecs=la.reduceCodecs(o.codecs,i);const s=dg.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});s.codecs=la.reduceCodecs(s.codecs,i);const a=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});if(r){const h=a.sender.getParameters();h.encodings=r,await a.sender.setParameters(h)}const c=await this._pc.createOffer();let l=Eo.parse(c.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:l}),De.debug("send() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const u=a.mid;o.mid=u,l=Eo.parse(this._pc.localDescription.sdp);const f=l.media[l.media.length-1];if(o.rtcp.cname=wf.getCname({offerMediaObject:f}),!r)o.encodings=vS.getRtpEncodings({offerMediaObject:f});else if(r.length===1){const h=vS.getRtpEncodings({offerMediaObject:f});Object.assign(h[0],r[0]),o.encodings=h}else o.encodings=r.reverse();if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const h of o.encodings)h.scalabilityMode="S1T2";this._remoteSdp.send({offerMediaObject:f,offerRtpParameters:o,answerRtpParameters:s,codecOptions:n,extmapAllowMixed:!0});const d={type:"answer",sdp:this._remoteSdp.getSdp()};return De.debug("send() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d),this._mapMidTransceiver.set(u,a),{localId:u,rtpParameters:o,rtpSender:a.sender}}async stopSending(e){De.debug("stopSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated transceiver not found");r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.disableMediaSection(r.mid);const n=await this._pc.createOffer();De.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};De.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertSendDirection(),De.debug("pauseSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(e);const n=await this._pc.createOffer();De.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};De.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(e){this.assertSendDirection(),De.debug("resumeSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(e);const n=await this._pc.createOffer();De.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};De.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,r){this.assertSendDirection(),r?De.debug("replaceTrack() [localId:%s, track.id:%s]",e,r.id):De.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(e,r){this.assertSendDirection(),De.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,r);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated transceiver not found");const i=n.sender.getParameters();r=i.encodings.length-1-r,i.encodings.forEach((o,s)=>{s>=r?o.active=!0:o.active=!1}),await n.sender.setParameters(i)}async setRtpEncodingParameters(e,r){this.assertSendDirection(),De.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,r);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((o,s)=>{i.encodings[s]={...o,...r}}),await n.sender.setParameters(i)}async getSenderStats(e){this.assertSendDirection();const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:o}){this.assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:r,maxRetransmits:n,protocol:o};De.debug("sendDataChannel() [options:%o]",s);const a=this._pc.createDataChannel(i,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%yS.MIS,!this._hasDataChannelMediaSection){const l=await this._pc.createOffer(),u=Eo.parse(l.sdp),f=u.media.find(h=>h.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:u}),De.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),await this._pc.setLocalDescription(l),this._remoteSdp.sendSctpAssociation({offerMediaObject:f});const d={type:"answer",sdp:this._remoteSdp.getSdp()};De.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setRemoteDescription(d),this._hasDataChannelMediaSection=!0}const c={streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits};return{dataChannel:a,sctpStreamParameters:c}}async receive(e){this.assertRecvDirection();const r=[],n=new Map;for(const a of e){const{trackId:c,kind:l,rtpParameters:u,streamId:f}=a;De.debug("receive() [trackId:%s, kind:%s]",c,l);const d=u.mid||String(this._mapMidTransceiver.size);n.set(c,d),this._remoteSdp.receive({mid:d,kind:l,offerRtpParameters:u,streamId:f||u.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};De.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const s=Eo.parse(o.sdp);for(const a of e){const{trackId:c,rtpParameters:l}=a,u=n.get(c),f=s.media.find(d=>String(d.mid)===u);wf.applyCodecParameters({offerRtpParameters:l,answerMediaObject:f}),o={type:"answer",sdp:Eo.write(s)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:s}),De.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const a of e){const{trackId:c}=a,l=n.get(c),u=this._pc.getTransceivers().find(f=>f.mid===l);if(!u)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(l,u),r.push({localId:l,track:u.receiver.track,rtpReceiver:u.receiver})}return r}async stopReceiving(e){this.assertRecvDirection();for(const i of e){De.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};De.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();De.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const i of e)this._mapMidTransceiver.delete(i)}async pauseReceiving(e){this.assertRecvDirection();for(const i of e){De.debug("pauseReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};De.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();De.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(e){this.assertRecvDirection();for(const i of e){De.debug("resumeReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};De.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();De.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this.assertRecvDirection();const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:r,protocol:n}){this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a}=e,c={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:s,maxRetransmits:a,protocol:n};De.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(r,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const u={type:"offer",sdp:this._remoteSdp.getSdp()};De.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();if(!this._transportReady){const d=Eo.parse(f.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:d})}De.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setLocalDescription(f),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async setupTransport({localDtlsRole:e,localSdpObject:r}){r||(r=Eo.parse(this._pc.localDescription.sdp));const n=wf.extractDtlsParameters({sdpObject:r});n.role=e,this._remoteSdp.updateDtlsRole(e==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:n},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Kh.Firefox60=u1;var Qh={},P$=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A$=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Mu=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&P$(e,t,r);return A$(e,t),e};Object.defineProperty(Qh,"__esModule",{value:!0});Qh.Safari12=void 0;const fi=Mu(cr),k$=Qt,bS=Mu(rr),ca=Mu(Te),_f=Mu(dr),wS=Mu(Ni),T$=Xr,C$=On,Ne=new k$.Logger("Safari12"),_S={OS:1024,MIS:1024};class f1 extends T$.HandlerInterface{static createFactory(){return()=>new f1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari12"}close(){if(Ne.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Ne.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch{}const n=fi.parse(r.sdp);return _f.extractRtpCapabilities({sdpObject:n})}catch(r){try{e.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Ne.debug("getNativeSctpCapabilities()"),{numStreams:_S}}run({direction:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){Ne.debug("run()"),this._direction=e,this._remoteSdp=new C$.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:ca.getSendingRtpParameters("audio",u),video:ca.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:ca.getSendingRemoteRtpParameters("audio",u),video:ca.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Ne.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(e){Ne.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=e,this._pc.setConfiguration(r)}async restartIce(e){if(Ne.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Ne.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Ne.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ne.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ne.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:r,codecOptions:n,codec:i}){var o;this.assertSendDirection(),Ne.debug("send() [kind:%s, track.id:%s]",e.kind,e.id);const s=bS.clone(this._sendingRtpParametersByKind[e.kind],{});s.codecs=ca.reduceCodecs(s.codecs,i);const a=bS.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});a.codecs=ca.reduceCodecs(a.codecs,i);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});let u=await this._pc.createOffer(),f=fi.parse(u.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:(o=this._forcedLocalDtlsRole)!==null&&o!==void 0?o:"client",localSdpObject:f}),r&&r.length>1&&(Ne.debug("send() | enabling legacy simulcast"),f=fi.parse(u.sdp),d=f.media[c.idx],wS.addLegacySimulcast({offerMediaObject:d,numStreams:r.length}),u={type:"offer",sdp:fi.write(f)}),Ne.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const h=l.mid;if(s.mid=h,f=fi.parse(this._pc.localDescription.sdp),d=f.media[c.idx],s.rtcp.cname=_f.getCname({offerMediaObject:d}),s.encodings=wS.getRtpEncodings({offerMediaObject:d}),r)for(let m=0;m<s.encodings.length;++m)r[m]&&Object.assign(s.encodings[m],r[m]);if(s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const m of s.encodings)m.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:d,reuseMid:c.reuseMid,offerRtpParameters:s,answerRtpParameters:a,codecOptions:n});const p={type:"answer",sdp:this._remoteSdp.getSdp()};return Ne.debug("send() | calling pc.setRemoteDescription() [answer:%o]",p),await this._pc.setRemoteDescription(p),this._mapMidTransceiver.set(h,l),{localId:h,rtpParameters:s,rtpSender:l.sender}}async stopSending(e){this.assertSendDirection(),Ne.debug("stopSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const i=await this._pc.createOffer();Ne.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Ne.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertSendDirection(),Ne.debug("pauseSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(e);const n=await this._pc.createOffer();Ne.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Ne.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(e){this.assertSendDirection(),Ne.debug("resumeSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(e);const n=await this._pc.createOffer();Ne.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Ne.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,r){this.assertSendDirection(),r?Ne.debug("replaceTrack() [localId:%s, track.id:%s]",e,r.id):Ne.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(e,r){this.assertSendDirection(),Ne.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,r);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((o,s)=>{s<=r?o.active=!0:o.active=!1}),await n.sender.setParameters(i)}async setRtpEncodingParameters(e,r){this.assertSendDirection(),Ne.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,r);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((o,s)=>{i.encodings[s]={...o,...r}}),await n.sender.setParameters(i)}async getSenderStats(e){this.assertSendDirection();const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:o}){var s;this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:r,maxRetransmits:n,protocol:o};Ne.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_S.MIS,!this._hasDataChannelMediaSection){const u=await this._pc.createOffer(),f=fi.parse(u.sdp),d=f.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(s=this._forcedLocalDtlsRole)!==null&&s!==void 0?s:"client",localSdpObject:f}),Ne.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const h={type:"answer",sdp:this._remoteSdp.getSdp()};Ne.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._hasDataChannelMediaSection=!0}const l={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:l}}async receive(e){var r;this.assertRecvDirection();const n=[],i=new Map;for(const c of e){const{trackId:l,kind:u,rtpParameters:f,streamId:d}=c;Ne.debug("receive() [trackId:%s, kind:%s]",l,u);const h=f.mid||String(this._mapMidTransceiver.size);i.set(l,h),this._remoteSdp.receive({mid:h,kind:u,offerRtpParameters:f,streamId:d||f.rtcp.cname,trackId:l})}const o={type:"offer",sdp:this._remoteSdp.getSdp()};Ne.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const a=fi.parse(s.sdp);for(const c of e){const{trackId:l,rtpParameters:u}=c,f=i.get(l),d=a.media.find(h=>String(h.mid)===f);_f.applyCodecParameters({offerRtpParameters:u,answerMediaObject:d})}s={type:"answer",sdp:fi.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:(r=this._forcedLocalDtlsRole)!==null&&r!==void 0?r:"client",localSdpObject:a}),Ne.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const c of e){const{trackId:l}=c,u=i.get(l),f=this._pc.getTransceivers().find(d=>d.mid===u);if(!f)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(u,f),n.push({localId:u,track:f.receiver.track,rtpReceiver:f.receiver})}return n}async stopReceiving(e){this.assertRecvDirection();for(const i of e){Ne.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ne.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ne.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const i of e)this._mapMidTransceiver.delete(i)}async pauseReceiving(e){this.assertRecvDirection();for(const i of e){Ne.debug("pauseReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ne.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ne.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(e){this.assertRecvDirection();for(const i of e){Ne.debug("resumeReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ne.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ne.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this.assertRecvDirection();const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:r,protocol:n}){var i;this.assertRecvDirection();const{streamId:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c}=e,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c,protocol:n};Ne.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const f={type:"offer",sdp:this._remoteSdp.getSdp()};Ne.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();if(!this._transportReady){const h=fi.parse(d.sdp);await this.setupTransport({localDtlsRole:(i=this._forcedLocalDtlsRole)!==null&&i!==void 0?i:"client",localSdpObject:h})}Ne.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport({localDtlsRole:e,localSdpObject:r}){r||(r=fi.parse(this._pc.localDescription.sdp));const n=_f.extractDtlsParameters({sdpObject:r});n.role=e,this._remoteSdp.updateDtlsRole(e==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:n},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Qh.Safari12=f1;var Jh={},O$=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),M$=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nu=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&O$(e,t,r);return M$(e,t),e};Object.defineProperty(Jh,"__esModule",{value:!0});Jh.Safari11=void 0;const di=Nu(cr),N$=Qt,SS=Nu(rr),ua=Nu(Te),Sf=Nu(dr),xS=Nu(ao),I$=Xr,D$=On,Ze=new N$.Logger("Safari11"),ES={OS:1024,MIS:1024};class d1 extends I$.HandlerInterface{static createFactory(){return()=>new d1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari11"}close(){if(Ze.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Ze.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch{}const n=di.parse(r.sdp);return Sf.extractRtpCapabilities({sdpObject:n})}catch(r){try{e.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Ze.debug("getNativeSctpCapabilities()"),{numStreams:ES}}run({direction:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){Ze.debug("run()"),this._direction=e,this._remoteSdp=new D$.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,planB:!0}),this._sendingRtpParametersByKind={audio:ua.getSendingRtpParameters("audio",u),video:ua.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:ua.getSendingRemoteRtpParameters("audio",u),video:ua.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...c},l),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Ze.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(e){Ze.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=e,this._pc.setConfiguration(r)}async restartIce(e){if(Ze.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Ze.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Ze.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ze.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ze.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:r,codecOptions:n,codec:i}){var o;this.assertSendDirection(),Ze.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),i&&Ze.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let s=await this._pc.createOffer(),a=di.parse(s.sdp),c;const l=SS.clone(this._sendingRtpParametersByKind[e.kind],{});l.codecs=ua.reduceCodecs(l.codecs);const u=SS.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(u.codecs=ua.reduceCodecs(u.codecs),this._transportReady||await this.setupTransport({localDtlsRole:(o=this._forcedLocalDtlsRole)!==null&&o!==void 0?o:"client",localSdpObject:a}),e.kind==="video"&&r&&r.length>1&&(Ze.debug("send() | enabling simulcast"),a=di.parse(s.sdp),c=a.media.find(p=>p.type==="video"),xS.addLegacySimulcast({offerMediaObject:c,track:e,numStreams:r.length}),s={type:"offer",sdp:di.write(a)}),Ze.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),a=di.parse(this._pc.localDescription.sdp),c=a.media.find(p=>p.type===e.kind),l.rtcp.cname=Sf.getCname({offerMediaObject:c}),l.encodings=xS.getRtpEncodings({offerMediaObject:c,track:e}),r)for(let p=0;p<l.encodings.length;++p)r[p]&&Object.assign(l.encodings[p],r[p]);if(l.encodings.length>1&&l.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const p of l.encodings)p.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:c,offerRtpParameters:l,answerRtpParameters:u,codecOptions:n});const f={type:"answer",sdp:this._remoteSdp.getSdp()};Ze.debug("send() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f);const d=String(this._nextSendLocalId);this._nextSendLocalId++;const h=this._pc.getSenders().find(p=>p.track===e);return this._mapSendLocalIdRtpSender.set(d,h),{localId:d,rtpParameters:l,rtpSender:h}}async stopSending(e){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(e);const n=await this._pc.createOffer();Ze.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(o){if(this._sendStream.getTracks().length===0){Ze.warn("stopSending() | ignoring expected error due no sending tracks: %s",o.toString());return}throw o}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};Ze.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,r){this.assertSendDirection(),r?Ze.debug("replaceTrack() [localId:%s, track.id:%s]",e,r.id):Ze.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.track;await n.replaceTrack(r),i&&this._sendStream.removeTrack(i),r&&this._sendStream.addTrack(r)}async setMaxSpatialLayer(e,r){this.assertSendDirection(),Ze.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,r);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((o,s)=>{s<=r?o.active=!0:o.active=!1}),await n.setParameters(i)}async setRtpEncodingParameters(e,r){this.assertSendDirection(),Ze.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,r);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((o,s)=>{i.encodings[s]={...o,...r}}),await n.setParameters(i)}async getSenderStats(e){this.assertSendDirection();const r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error("associated RTCRtpSender not found");return r.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:o}){var s;this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:r,maxRetransmits:n,protocol:o};Ze.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%ES.MIS,!this._hasDataChannelMediaSection){const u=await this._pc.createOffer(),f=di.parse(u.sdp),d=f.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(s=this._forcedLocalDtlsRole)!==null&&s!==void 0?s:"client",localSdpObject:f}),Ze.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const h={type:"answer",sdp:this._remoteSdp.getSdp()};Ze.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._hasDataChannelMediaSection=!0}const l={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:l}}async receive(e){var r;this.assertRecvDirection();const n=[];for(const a of e){const{trackId:c,kind:l,rtpParameters:u,streamId:f}=a;Ze.debug("receive() [trackId:%s, kind:%s]",c,l);const d=l;this._remoteSdp.receive({mid:d,kind:l,offerRtpParameters:u,streamId:f||u.rtcp.cname,trackId:c})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};Ze.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const s=di.parse(o.sdp);for(const a of e){const{kind:c,rtpParameters:l}=a,u=c,f=s.media.find(d=>String(d.mid)===u);Sf.applyCodecParameters({offerRtpParameters:l,answerMediaObject:f})}o={type:"answer",sdp:di.write(s)},this._transportReady||await this.setupTransport({localDtlsRole:(r=this._forcedLocalDtlsRole)!==null&&r!==void 0?r:"client",localSdpObject:s}),Ze.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const a of e){const{kind:c,trackId:l,rtpParameters:u}=a,f=c,d=l,h=this._pc.getReceivers().find(p=>p.track&&p.track.id===d);if(!h)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(d,{mid:f,rtpParameters:u,rtpReceiver:h}),n.push({localId:d,track:h.track,rtpReceiver:h})}return n}async stopReceiving(e){this.assertRecvDirection();for(const i of e){Ze.debug("stopReceiving() [localId:%s]",i);const{mid:o,rtpParameters:s}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:o,offerRtpParameters:s})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ze.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ze.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this.assertRecvDirection();const{rtpReceiver:r}=this._mapRecvLocalIdInfo.get(e)||{};if(!r)throw new Error("associated RTCRtpReceiver not found");return r.getStats()}async pauseReceiving(e){}async resumeReceiving(e){}async receiveDataChannel({sctpStreamParameters:e,label:r,protocol:n}){var i;this.assertRecvDirection();const{streamId:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c}=e,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c,protocol:n};Ze.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const f={type:"offer",sdp:this._remoteSdp.getSdp()};Ze.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();if(!this._transportReady){const h=di.parse(d.sdp);await this.setupTransport({localDtlsRole:(i=this._forcedLocalDtlsRole)!==null&&i!==void 0?i:"client",localSdpObject:h})}Ze.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport({localDtlsRole:e,localSdpObject:r}){r||(r=di.parse(this._pc.localDescription.sdp));const n=Sf.extractDtlsParameters({sdpObject:r});n.role=e,this._remoteSdp.updateDtlsRole(e==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:n},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Jh.Safari11=d1;var Yh={},ul={},L$=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B$=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$$=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&L$(e,t,r);return B$(e,t),e};Object.defineProperty(ul,"__esModule",{value:!0});ul.mangleRtpParameters=ul.getCapabilities=void 0;const ik=$$(rr);function F$(){const t=RTCRtpReceiver.getCapabilities(),e=ik.clone(t,{});for(const r of e.codecs){if(r.channels=r.numChannels,delete r.numChannels,r.mimeType=r.mimeType||`${r.kind}/${r.name}`,r.parameters){const n=r.parameters;n.apt&&(n.apt=Number(n.apt)),n["packetization-mode"]&&(n["packetization-mode"]=Number(n["packetization-mode"]))}for(const n of r.rtcpFeedback||[])n.parameter||(n.parameter="")}return e}ul.getCapabilities=F$;function j$(t){const e=ik.clone(t,{});e.mid&&(e.muxId=e.mid,delete e.mid);for(const r of e.codecs)r.channels&&(r.numChannels=r.channels,delete r.channels),r.mimeType&&!r.name&&(r.name=r.mimeType.split("/")[1]),delete r.mimeType;return e}ul.mangleRtpParameters=j$;var U$=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z$=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),h1=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&U$(e,t,r);return z$(e,t),e};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.Edge11=void 0;const q$=Qt,hg=$r,xf=h1(rr),pg=h1(Te),mg=h1(ul),H$=Xr,ht=new q$.Logger("Edge11");class p1 extends H$.HandlerInterface{static createFactory(){return()=>new p1}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return"Edge11"}close(){ht.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const e of this._rtpSenders.values())try{e.stop()}catch{}for(const e of this._rtpReceivers.values())try{e.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return ht.debug("getNativeRtpCapabilities()"),mg.getCapabilities()}async getNativeSctpCapabilities(){return ht.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){ht.debug("run()"),this._sendingRtpParametersByKind={audio:pg.getSendingRtpParameters("audio",u),video:pg.getSendingRtpParameters("video",u)},this._remoteIceParameters=r,this._remoteIceCandidates=n,this._remoteDtlsParameters=i,this._cname=`CNAME-${xf.generateRandomNumber()}`,this.setIceGatherer({iceServers:s,iceTransportPolicy:a}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(e){throw new hg.UnsupportedError("not supported")}async restartIce(e){if(ht.debug("restartIce()"),this._remoteIceParameters=e,!!this._transportReady){ht.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,e,"controlling");for(const r of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(r);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:e,encodings:r,codecOptions:n,codec:i}){ht.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),ht.debug("send() | calling new RTCRtpSender()");const o=new RTCRtpSender(e,this._dtlsTransport),s=xf.clone(this._sendingRtpParametersByKind[e.kind],{});s.codecs=pg.reduceCodecs(s.codecs,i);const a=s.codecs.some(u=>/.+\/rtx$/i.test(u.mimeType));r||(r=[{}]);for(const u of r)u.ssrc=xf.generateRandomNumber(),a&&(u.rtx={ssrc:xf.generateRandomNumber()});s.encodings=r,s.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const c=mg.mangleRtpParameters(s);ht.debug("send() | calling rtpSender.send() [params:%o]",c),await o.send(c);const l=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(l,o),{localId:l,rtpParameters:s,rtpSender:o}}async stopSending(e){ht.debug("stopSending() [localId:%s]",e);const r=this._rtpSenders.get(e);if(!r)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(e);try{ht.debug("stopSending() | calling rtpSender.stop()"),r.stop()}catch(n){throw ht.warn("stopSending() | rtpSender.stop() failed:%o",n),n}}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,r){r?ht.debug("replaceTrack() [localId:%s, track.id:%s]",e,r.id):ht.debug("replaceTrack() [localId:%s, no track]",e);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");n.setTrack(r)}async setMaxSpatialLayer(e,r){ht.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,r);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((o,s)=>{s<=r?o.active=!0:o.active=!1}),await n.setParameters(i)}async setRtpEncodingParameters(e,r){ht.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,r);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");const i=n.getParameters();i.encodings.forEach((o,s)=>{i.encodings[s]={...o,...r}}),await n.setParameters(i)}async getSenderStats(e){const r=this._rtpSenders.get(e);if(!r)throw new Error("RTCRtpSender not found");return r.getStats()}async sendDataChannel(e){throw new hg.UnsupportedError("not implemented")}async receive(e){const r=[];for(const n of e){const{trackId:i,kind:o}=n;ht.debug("receive() [trackId:%s, kind:%s]",i,o)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const n of e){const{trackId:i,kind:o,rtpParameters:s}=n;ht.debug("receive() | calling new RTCRtpReceiver()");const a=new RTCRtpReceiver(this._dtlsTransport,o);a.addEventListener("error",u=>{ht.error('rtpReceiver "error" event [event:%o]',u)});const c=mg.mangleRtpParameters(s);ht.debug("receive() | calling rtpReceiver.receive() [params:%o]",c),await a.receive(c);const l=i;this._rtpReceivers.set(l,a),r.push({localId:l,track:a.track,rtpReceiver:a})}return r}async stopReceiving(e){for(const r of e){ht.debug("stopReceiving() [localId:%s]",r);const n=this._rtpReceivers.get(r);if(!n)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(r);try{ht.debug("stopReceiving() | calling rtpReceiver.stop()"),n.stop()}catch(i){ht.warn("stopReceiving() | rtpReceiver.stop() failed:%o",i)}}}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){const r=this._rtpReceivers.get(e);if(!r)throw new Error("RTCRtpReceiver not found");return r.getStats()}async receiveDataChannel(e){throw new hg.UnsupportedError("not implemented")}setIceGatherer({iceServers:e,iceTransportPolicy:r}){const n=new RTCIceGatherer({iceServers:e||[],gatherPolicy:r||"all"});n.addEventListener("error",i=>{ht.error('iceGatherer "error" event [event:%o]',i)});try{n.gather()}catch(i){ht.debug("setIceGatherer() | iceGatherer.gather() failed: %s",i.toString())}this._iceGatherer=n}setIceTransport(){const e=new RTCIceTransport(this._iceGatherer);e.addEventListener("statechange",()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}),e.addEventListener("icestatechange",()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}}),e.addEventListener("candidatepairchange",r=>{ht.debug('iceTransport "candidatepairchange" event [pair:%o]',r.pair)}),this._iceTransport=e}setDtlsTransport(){const e=new RTCDtlsTransport(this._iceTransport);e.addEventListener("statechange",()=>{ht.debug('dtlsTransport "statechange" event [state:%s]',e.state)}),e.addEventListener("dtlsstatechange",()=>{ht.debug('dtlsTransport "dtlsstatechange" event [state:%s]',e.state),e.state==="closed"&&this.emit("@connectionstatechange","closed")}),e.addEventListener("error",r=>{ht.error('dtlsTransport "error" event [event:%o]',r)}),this._dtlsTransport=e}async setupTransport({localDtlsRole:e}){ht.debug("setupTransport()");const r=this._dtlsTransport.getLocalParameters();r.role=e,await new Promise((n,i)=>{this.safeEmit("@connect",{dtlsParameters:r},n,i)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(n=>n.algorithm==="sha-256"||n.algorithm==="sha-384"||n.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}Yh.Edge11=p1;var Xh={},V$=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),W$=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Iu=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&V$(e,t,r);return W$(e,t),e};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.ReactNativeUnifiedPlan=void 0;const hi=Iu(cr),G$=Qt,RS=Iu(rr),fa=Iu(Te),Ef=Iu(dr),gg=Iu(Ni),K$=Xr,Q$=On,J$=Vs,Ie=new G$.Logger("ReactNativeUnifiedPlan"),PS={OS:1024,MIS:1024};class m1 extends K$.HandlerInterface{static createFactory(){return()=>new m1}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNativeUnifiedPlan"}close(){if(Ie.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Ie.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const r=await e.createOffer();try{e.close()}catch{}const n=hi.parse(r.sdp);return Ef.extractRtpCapabilities({sdpObject:n})}catch(r){try{e.close()}catch{}throw r}}async getNativeSctpCapabilities(){return Ie.debug("getNativeSctpCapabilities()"),{numStreams:PS}}run({direction:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){Ie.debug("run()"),this._direction=e,this._remoteSdp=new Q$.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:fa.getSendingRtpParameters("audio",u),video:fa.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:fa.getSendingRemoteRtpParameters("audio",u),video:fa.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...c},l),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Ie.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(e){Ie.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=e,this._pc.setConfiguration(r)}async restartIce(e){if(Ie.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});Ie.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};Ie.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ie.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ie.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:r,codecOptions:n,codec:i}){var o;this.assertSendDirection(),Ie.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&r.length>1&&r.forEach((g,v)=>{g.rid=`r${v}`});const s=RS.clone(this._sendingRtpParametersByKind[e.kind],{});s.codecs=fa.reduceCodecs(s.codecs,i);const a=RS.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});a.codecs=fa.reduceCodecs(a.codecs,i);const c=this._remoteSdp.getNextMediaSectionIdx(),l=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream],sendEncodings:r});let u=await this._pc.createOffer(),f=hi.parse(u.sdp),d;this._transportReady||await this.setupTransport({localDtlsRole:(o=this._forcedLocalDtlsRole)!==null&&o!==void 0?o:"client",localSdpObject:f});let h=!1;const p=(0,J$.parse)((r||[{}])[0].scalabilityMode);r&&r.length===1&&p.spatialLayers>1&&s.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(Ie.debug("send() | enabling legacy simulcast for VP9 SVC"),h=!0,f=hi.parse(u.sdp),d=f.media[c.idx],gg.addLegacySimulcast({offerMediaObject:d,numStreams:p.spatialLayers}),u={type:"offer",sdp:hi.write(f)}),Ie.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const m=l.mid;if(s.mid=m,f=hi.parse(this._pc.localDescription.sdp),d=f.media[c.idx],s.rtcp.cname=Ef.getCname({offerMediaObject:d}),!r)s.encodings=gg.getRtpEncodings({offerMediaObject:d});else if(r.length===1){let g=gg.getRtpEncodings({offerMediaObject:d});Object.assign(g[0],r[0]),h&&(g=[g[0]]),s.encodings=g}else s.encodings=r;if(s.encodings.length>1&&(s.codecs[0].mimeType.toLowerCase()==="video/vp8"||s.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const g of s.encodings)g.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:d,reuseMid:c.reuseMid,offerRtpParameters:s,answerRtpParameters:a,codecOptions:n,extmapAllowMixed:!0});const y={type:"answer",sdp:this._remoteSdp.getSdp()};return Ie.debug("send() | calling pc.setRemoteDescription() [answer:%o]",y),await this._pc.setRemoteDescription(y),this._mapMidTransceiver.set(m,l),{localId:m,rtpParameters:s,rtpSender:l.sender}}async stopSending(e){this.assertSendDirection(),Ie.debug("stopSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");if(r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid))try{r.stop()}catch{}const i=await this._pc.createOffer();Ie.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Ie.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o),this._mapMidTransceiver.delete(e)}async pauseSending(e){this.assertSendDirection(),Ie.debug("pauseSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="inactive",this._remoteSdp.pauseMediaSection(e);const n=await this._pc.createOffer();Ie.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Ie.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(e){this.assertSendDirection(),Ie.debug("resumeSending() [localId:%s]",e);const r=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!r)throw new Error("associated RTCRtpTransceiver not found");r.direction="sendonly";const n=await this._pc.createOffer();Ie.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Ie.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(e,r){this.assertSendDirection(),r?Ie.debug("replaceTrack() [localId:%s, track.id:%s]",e,r.id):Ie.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(r)}async setMaxSpatialLayer(e,r){this.assertSendDirection(),Ie.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,r);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((o,s)=>{s<=r?o.active=!0:o.active=!1}),await n.sender.setParameters(i)}async setRtpEncodingParameters(e,r){this.assertSendDirection(),Ie.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,r);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const i=n.sender.getParameters();i.encodings.forEach((o,s)=>{i.encodings[s]={...o,...r}}),await n.sender.setParameters(i)}async getSenderStats(e){this.assertSendDirection();const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:o}){var s;this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:r,maxRetransmits:n,protocol:o};Ie.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%PS.MIS,!this._hasDataChannelMediaSection){const u=await this._pc.createOffer(),f=hi.parse(u.sdp),d=f.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(s=this._forcedLocalDtlsRole)!==null&&s!==void 0?s:"client",localSdpObject:f}),Ie.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const h={type:"answer",sdp:this._remoteSdp.getSdp()};Ie.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._hasDataChannelMediaSection=!0}const l={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:l}}async receive(e){var r;this.assertRecvDirection();const n=[],i=new Map;for(const c of e){const{trackId:l,kind:u,rtpParameters:f,streamId:d}=c;Ie.debug("receive() [trackId:%s, kind:%s]",l,u);const h=f.mid||String(this._mapMidTransceiver.size);i.set(l,h),this._remoteSdp.receive({mid:h,kind:u,offerRtpParameters:f,streamId:d||f.rtcp.cname,trackId:l})}const o={type:"offer",sdp:this._remoteSdp.getSdp()};Ie.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const a=hi.parse(s.sdp);for(const c of e){const{trackId:l,rtpParameters:u}=c,f=i.get(l),d=a.media.find(h=>String(h.mid)===f);Ef.applyCodecParameters({offerRtpParameters:u,answerMediaObject:d})}s={type:"answer",sdp:hi.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:(r=this._forcedLocalDtlsRole)!==null&&r!==void 0?r:"client",localSdpObject:a}),Ie.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const c of e){const{trackId:l}=c,u=i.get(l),f=this._pc.getTransceivers().find(d=>d.mid===u);if(f)this._mapMidTransceiver.set(u,f),n.push({localId:u,track:f.receiver.track,rtpReceiver:f.receiver});else throw new Error("new RTCRtpTransceiver not found")}return n}async stopReceiving(e){this.assertRecvDirection();for(const i of e){Ie.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ie.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ie.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n);for(const i of e)this._mapMidTransceiver.delete(i)}async pauseReceiving(e){this.assertRecvDirection();for(const i of e){Ie.debug("pauseReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ie.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ie.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(e){this.assertRecvDirection();for(const i of e){Ie.debug("resumeReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Ie.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();Ie.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this.assertRecvDirection();const r=this._mapMidTransceiver.get(e);if(!r)throw new Error("associated RTCRtpTransceiver not found");return r.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:r,protocol:n}){var i;this.assertRecvDirection();const{streamId:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c}=e,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c,protocol:n};Ie.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const f={type:"offer",sdp:this._remoteSdp.getSdp()};Ie.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();if(!this._transportReady){const h=hi.parse(d.sdp);await this.setupTransport({localDtlsRole:(i=this._forcedLocalDtlsRole)!==null&&i!==void 0?i:"client",localSdpObject:h})}Ie.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport({localDtlsRole:e,localSdpObject:r}){r||(r=hi.parse(this._pc.localDescription.sdp));const n=Ef.extractDtlsParameters({sdpObject:r});n.role=e,this._remoteSdp.updateDtlsRole(e==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:n},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Xh.ReactNativeUnifiedPlan=m1;var Zh={},Y$=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),X$=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Du=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Y$(e,t,r);return X$(e,t),e};Object.defineProperty(Zh,"__esModule",{value:!0});Zh.ReactNative=void 0;const pi=Du(cr),Z$=Qt,Yl=$r,vg=Du(rr),da=Du(Te),Rf=Du(dr),AS=Du(ao),e7=Xr,t7=On,rt=new Z$.Logger("ReactNative"),kS={OS:1024,MIS:1024};class g1 extends e7.HandlerInterface{static createFactory(){return()=>new g1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNative"}close(){if(rt.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){rt.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const r=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch{}const n=pi.parse(r.sdp);return Rf.extractRtpCapabilities({sdpObject:n})}catch(r){try{e.close()}catch{}throw r}}async getNativeSctpCapabilities(){return rt.debug("getNativeSctpCapabilities()"),{numStreams:kS}}run({direction:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,extendedRtpCapabilities:u}){rt.debug("run()"),this._direction=e,this._remoteSdp=new t7.RemoteSdp({iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,planB:!0}),this._sendingRtpParametersByKind={audio:da.getSendingRtpParameters("audio",u),video:da.getSendingRtpParameters("video",u)},this._sendingRemoteRtpParametersByKind={audio:da.getSendingRemoteRtpParameters("audio",u),video:da.getSendingRemoteRtpParameters("video",u)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...c},l),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(rt.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed");break}})}async updateIceServers(e){rt.debug("updateIceServers()");const r=this._pc.getConfiguration();r.iceServers=e,this._pc.setConfiguration(r)}async restartIce(e){if(rt.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),!!this._transportReady)if(this._direction==="send"){const r=await this._pc.createOffer({iceRestart:!0});rt.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const n={type:"answer",sdp:this._remoteSdp.getSdp()};rt.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),await this._pc.setRemoteDescription(n)}else{const r={type:"offer",sdp:this._remoteSdp.getSdp()};rt.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();rt.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:r,codecOptions:n,codec:i}){var o;this.assertSendDirection(),rt.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),i&&rt.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let s=await this._pc.createOffer(),a=pi.parse(s.sdp),c;const l=vg.clone(this._sendingRtpParametersByKind[e.kind],{});l.codecs=da.reduceCodecs(l.codecs);const u=vg.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(u.codecs=da.reduceCodecs(u.codecs),this._transportReady||await this.setupTransport({localDtlsRole:(o=this._forcedLocalDtlsRole)!==null&&o!==void 0?o:"client",localSdpObject:a}),e.kind==="video"&&r&&r.length>1&&(rt.debug("send() | enabling simulcast"),a=pi.parse(s.sdp),c=a.media.find(h=>h.type==="video"),AS.addLegacySimulcast({offerMediaObject:c,track:e,numStreams:r.length}),s={type:"offer",sdp:pi.write(a)}),rt.debug("send() | calling pc.setLocalDescription() [offer:%o]",s),await this._pc.setLocalDescription(s),a=pi.parse(this._pc.localDescription.sdp),c=a.media.find(h=>h.type===e.kind),l.rtcp.cname=Rf.getCname({offerMediaObject:c}),l.encodings=AS.getRtpEncodings({offerMediaObject:c,track:e}),r)for(let h=0;h<l.encodings.length;++h)r[h]&&Object.assign(l.encodings[h],r[h]);if(l.encodings.length>1&&(l.codecs[0].mimeType.toLowerCase()==="video/vp8"||l.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const h of l.encodings)h.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:c,offerRtpParameters:l,answerRtpParameters:u,codecOptions:n});const f={type:"answer",sdp:this._remoteSdp.getSdp()};rt.debug("send() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f);const d=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(d,e),{localId:d,rtpParameters:l}}async stopSending(e){this.assertSendDirection(),rt.debug("stopSending() [localId:%s]",e);const r=this._mapSendLocalIdTrack.get(e);if(!r)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();rt.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(o){if(this._sendStream.getTracks().length===0){rt.warn("stopSending() | ignoring expected error due no sending tracks: %s",o.toString());return}throw o}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};rt.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(e){}async resumeSending(e){}async replaceTrack(e,r){throw new Yl.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,r){throw new Yl.UnsupportedError("not implemented")}async setRtpEncodingParameters(e,r){throw new Yl.UnsupportedError("not implemented")}async getSenderStats(e){throw new Yl.UnsupportedError("not implemented")}async sendDataChannel({ordered:e,maxPacketLifeTime:r,maxRetransmits:n,label:i,protocol:o}){var s;this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:n,protocol:o};rt.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%kS.MIS,!this._hasDataChannelMediaSection){const u=await this._pc.createOffer(),f=pi.parse(u.sdp),d=f.media.find(p=>p.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:(s=this._forcedLocalDtlsRole)!==null&&s!==void 0?s:"client",localSdpObject:f}),rt.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u),this._remoteSdp.sendSctpAssociation({offerMediaObject:d});const h={type:"answer",sdp:this._remoteSdp.getSdp()};rt.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._hasDataChannelMediaSection=!0}const l={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:l}}async receive(e){var r;this.assertRecvDirection();const n=[],i=new Map;for(const c of e){const{trackId:l,kind:u,rtpParameters:f}=c;rt.debug("receive() [trackId:%s, kind:%s]",l,u);const d=u;let h=c.streamId||f.rtcp.cname;rt.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),h+=`-hack-${vg.generateRandomNumber()}`,i.set(l,h),this._remoteSdp.receive({mid:d,kind:u,offerRtpParameters:f,streamId:h,trackId:l})}const o={type:"offer",sdp:this._remoteSdp.getSdp()};rt.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",o),await this._pc.setRemoteDescription(o);let s=await this._pc.createAnswer();const a=pi.parse(s.sdp);for(const c of e){const{kind:l,rtpParameters:u}=c,f=l,d=a.media.find(h=>String(h.mid)===f);Rf.applyCodecParameters({offerRtpParameters:u,answerMediaObject:d})}s={type:"answer",sdp:pi.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:(r=this._forcedLocalDtlsRole)!==null&&r!==void 0?r:"client",localSdpObject:a}),rt.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const c of e){const{kind:l,trackId:u,rtpParameters:f}=c,d=u,h=l,p=i.get(u),y=this._pc.getRemoteStreams().find(g=>g.id===p).getTrackById(d);if(!y)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(d,{mid:h,rtpParameters:f}),n.push({localId:d,track:y})}return n}async stopReceiving(e){this.assertRecvDirection();for(const i of e){rt.debug("stopReceiving() [localId:%s]",i);const{mid:o,rtpParameters:s}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:o,offerRtpParameters:s})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};rt.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const n=await this._pc.createAnswer();rt.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new Yl.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:e,label:r,protocol:n}){var i;this.assertRecvDirection();const{streamId:o,ordered:s,maxPacketLifeTime:a,maxRetransmits:c}=e,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:c,protocol:n};rt.debug("receiveDataChannel() [options:%o]",l);const u=this._pc.createDataChannel(r,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const f={type:"offer",sdp:this._remoteSdp.getSdp()};rt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const d=await this._pc.createAnswer();if(!this._transportReady){const h=pi.parse(d.sdp);await this.setupTransport({localDtlsRole:(i=this._forcedLocalDtlsRole)!==null&&i!==void 0?i:"client",localSdpObject:h})}rt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",d),await this._pc.setLocalDescription(d),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}async setupTransport({localDtlsRole:e,localSdpObject:r}){r||(r=pi.parse(this._pc.localDescription.sdp));const n=Rf.extractDtlsParameters({sdpObject:r});n.role=e,this._remoteSdp.updateDtlsRole(e==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:n},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}Zh.ReactNative=g1;var r7=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),n7=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ok=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&r7(e,t,r);return n7(e,t),e},i7=oe&&oe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.Device=Bs.detectDevice=void 0;const o7=i7(h0),s7=Qt,a7=Li,ha=$r,l7=ok(rr),Ro=ok(Te),c7=Su,u7=Hh,f7=Vh,d7=Wh,h7=Gh,p7=Kh,m7=Qh,g7=Jh,v7=Yh,y7=Xh,b7=Zh,yr=new s7.Logger("Device");function sk(){if(typeof navigator=="object"&&navigator.product==="ReactNative"){if(typeof RTCPeerConnection>"u"){yr.warn("this._detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(yr.debug("this._detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(yr.debug("this._detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(typeof navigator=="object"&&typeof navigator.userAgent=="string"){const t=navigator.userAgent,e=o7.default.getParser(t),r=e.getEngine();if(e.satisfies({chrome:">=74",chromium:">=74","microsoft edge":">=88"}))return"Chrome74";if(e.satisfies({chrome:">=70",chromium:">=70"}))return"Chrome70";if(e.satisfies({chrome:">=67",chromium:">=67"}))return"Chrome67";if(e.satisfies({chrome:">=55",chromium:">=55"}))return"Chrome55";if(e.satisfies({firefox:">=60"}))return"Firefox60";if(e.satisfies({ios:{OS:">=14.3",firefox:">=30.0"}}))return"Safari12";if(e.satisfies({safari:">=12.0"})&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(e.satisfies({safari:">=11"}))return"Safari11";if(e.satisfies({"microsoft edge":">=11"})&&e.satisfies({"microsoft edge":"<=18"}))return"Edge11";if(r.name&&r.name.toLowerCase()==="blink"){const n=t.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(n){const i=Number(n[1]);return i>=74?"Chrome74":i>=70?"Chrome70":i>=67?"Chrome67":"Chrome55"}else return"Chrome74"}else{yr.warn("this._detectDevice() | browser not supported [name:%s, version:%s]",e.getBrowserName(),e.getBrowserVersion());return}}else{yr.warn("this._detectDevice() | unknown device");return}}Bs.detectDevice=sk;class w7{constructor({handlerName:e,handlerFactory:r,Handler:n}={}){if(this._loaded=!1,this._observer=new a7.EnhancedEventEmitter,yr.debug("constructor()"),n)if(yr.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),typeof n=="string")e=n;else throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");if(e&&r)throw new TypeError("just one of handlerName or handlerInterface can be given");if(r)this._handlerFactory=r;else{if(e)yr.debug("constructor() | handler given: %s",e);else if(e=sk(),e)yr.debug("constructor() | detected handler: %s",e);else throw new ha.UnsupportedError("device not supported");switch(e){case"Chrome74":this._handlerFactory=u7.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=f7.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=d7.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=h7.Chrome55.createFactory();break;case"Firefox60":this._handlerFactory=p7.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=m7.Safari12.createFactory();break;case"Safari11":this._handlerFactory=g7.Safari11.createFactory();break;case"Edge11":this._handlerFactory=v7.Edge11.createFactory();break;case"ReactNativeUnifiedPlan":this._handlerFactory=y7.ReactNativeUnifiedPlan.createFactory();break;case"ReactNative":this._handlerFactory=b7.ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName "${e}"`)}}const i=this._handlerFactory();this._handlerName=i.name,i.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new ha.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new ha.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:e}){yr.debug("load() [routerRtpCapabilities:%o]",e),e=l7.clone(e,void 0);let r;try{if(this._loaded)throw new ha.InvalidStateError("already loaded");Ro.validateRtpCapabilities(e),r=this._handlerFactory();const n=await r.getNativeRtpCapabilities();yr.debug("load() | got native RTP capabilities:%o",n),Ro.validateRtpCapabilities(n),this._extendedRtpCapabilities=Ro.getExtendedRtpCapabilities(n,e),yr.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=Ro.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=Ro.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=Ro.getRecvRtpCapabilities(this._extendedRtpCapabilities),Ro.validateRtpCapabilities(this._recvRtpCapabilities),yr.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await r.getNativeSctpCapabilities(),yr.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),Ro.validateSctpCapabilities(this._sctpCapabilities),yr.debug("load() succeeded"),this._loaded=!0,r.close()}catch(n){throw r&&r.close(),n}}canProduce(e){if(this._loaded){if(e!=="audio"&&e!=="video")throw new TypeError(`invalid kind "${e}"`)}else throw new ha.InvalidStateError("not loaded");return this._canProduceByKind[e]}createSendTransport({id:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u}){return yr.debug("createSendTransport()"),this.createTransport({direction:"send",id:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u})}createRecvTransport({id:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u}){return yr.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:a,additionalSettings:c,proprietaryConstraints:l,appData:u})}createTransport({direction:e,id:r,iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:f}){if(this._loaded){if(typeof r!="string")throw new TypeError("missing id");if(typeof n!="object")throw new TypeError("missing iceParameters");if(Array.isArray(i)){if(typeof o!="object")throw new TypeError("missing dtlsParameters");if(s&&typeof s!="object")throw new TypeError("wrong sctpParameters");if(f&&typeof f!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new ha.InvalidStateError("not loaded");const d=new c7.Transport({direction:e,id:r,iceParameters:n,iceCandidates:i,dtlsParameters:o,sctpParameters:s,iceServers:a,iceTransportPolicy:c,additionalSettings:l,proprietaryConstraints:u,appData:f,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",d),d}}Bs.Device=w7;var ak={},lk={};Object.defineProperty(lk,"__esModule",{value:!0});var ck={};Object.defineProperty(ck,"__esModule",{value:!0});(function(t){var e=oe&&oe.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=oe&&oe.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Bs,t),r(Su,t),r(xu,t),r(Eu,t),r(Ru,t),r(Pu,t),r(lk,t),r(ck,t),r(Xr,t),r($r,t)})(ak);(function(t){var e=oe&&oe.__createBinding||(Object.create?function(l,u,f,d){d===void 0&&(d=f);var h=Object.getOwnPropertyDescriptor(u,f);(!h||("get"in h?!u.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(l,d,h)}:function(l,u,f,d){d===void 0&&(d=f),l[d]=u[f]}),r=oe&&oe.__setModuleDefault||(Object.create?function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}:function(l,u){l.default=u}),n=oe&&oe.__importStar||function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&e(u,l,f);return r(u,l),u},i=oe&&oe.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.parseScalabilityMode=t.detectDevice=t.Device=t.version=t.types=void 0;const o=i(Zo);t.debug=o.default;const s=Bs;Object.defineProperty(t,"Device",{enumerable:!0,get:function(){return s.Device}}),Object.defineProperty(t,"detectDevice",{enumerable:!0,get:function(){return s.detectDevice}});const a=n(ak);t.types=a,t.version="3.6.72";var c=Vs;Object.defineProperty(t,"parseScalabilityMode",{enumerable:!0,get:function(){return c.parse}})})(HA);var _7=class extends yB{constructor(t){super(t),this.consumers=new Map,this._turn=[],this.mediasoupDevice=null,this.sendTransport=null,this.recvTransport=null}async createMediasoupTransport(t,e){return!this.mediasoupDevice||!this.socket?void 0:await this.socket.request("createWebRtcTransport",{producing:t,consuming:e,sctpCapabilities:this.mediasoupDevice.sctpCapabilities})}async createSendTransport(){if(!this.mediasoupDevice||!this.socket)return;const t=await this.createMediasoupTransport(!0,!1),{id:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o}=t;this.sendTransport=this.mediasoupDevice.createSendTransport({id:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:this._turn,proprietaryConstraints:s5}),this.sendTransport.on("connect",({dtlsParameters:s},a,c)=>{var l,u;(u=this.socket)==null||u.request("connectWebRtcTransport",{transportId:(l=this.sendTransport)==null?void 0:l.id,dtlsParameters:s}).then(a).catch(c)}),this.sendTransport.on("produce",async({kind:s,rtpParameters:a,appData:c},l,u)=>{var f,d;try{const{id:h}=await((d=this.socket)==null?void 0:d.request("produce",{transportId:(f=this.sendTransport)==null?void 0:f.id,kind:s,rtpParameters:a,appData:c,paused:c.type==="mic"?this.isMicPaused():!1}));l({id:h})}catch(h){u(h)}}),this.sendTransport.on("producedata",async({sctpStreamParameters:s,label:a,protocol:c,appData:l},u,f)=>{var d,h;try{const{id:p}=await((h=this.socket)==null?void 0:h.request("produceData",{transportId:(d=this.sendTransport)==null?void 0:d.id,sctpStreamParameters:s,label:a,protocol:c,appData:l}));u({id:p})}catch(p){f(p)}})}async createRecvTransport(){if(!this.mediasoupDevice||!this.socket)return;const t=await this.createMediasoupTransport(!1,!0),{id:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o}=t;this.recvTransport=this.mediasoupDevice.createRecvTransport({id:e,iceParameters:r,iceCandidates:n,dtlsParameters:i,sctpParameters:o,iceServers:this._turn}),this.recvTransport.on("connect",({dtlsParameters:s},a,c)=>{var l,u;(u=this.socket)==null||u.request("connectWebRtcTransport",{transportId:(l=this.recvTransport)==null?void 0:l.id,dtlsParameters:s}).then(a).catch(c)})}async loadMediasoupDevice(){if(!this.socket)return;this.mediasoupDevice=new HA.Device;const t=await this.socket.request("getRouterRtpCapabilities");await this.mediasoupDevice.load({routerRtpCapabilities:t}),Y.info("mediasoupDevice loaded"),this.mediasoupDevice.canProduce("video")||Y.warn("cannot produce video")}},S7=()=>{const t=navigator.userAgent;return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?"safari":/(ipad)|(android(?!.*mobi))/i.test(t)?"ipad":/(tablet|playbook|silk)|(android(?!.*mobi))/i.test(t)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(t)?"mobile":"desktop"},Pf=(t,e)=>{window.parent.postMessage({type:"room-event",eventData:{event:t,...e}},"*")},m0={},x7={get exports(){return m0},set exports(t){m0=t}},Xd={},E7={get exports(){return Xd},set exports(t){Xd=t}},uk=function(e,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(r,i)}},R7=uk,v1=Object.prototype.toString,y1=function(t){return function(e){var r=v1.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Ws(t){return t=t.toLowerCase(),function(r){return y1(r)===t}}function b1(t){return Array.isArray(t)}function Zd(t){return typeof t>"u"}function P7(t){return t!==null&&!Zd(t)&&t.constructor!==null&&!Zd(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var fk=Ws("ArrayBuffer");function A7(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fk(t.buffer),e}function k7(t){return typeof t=="string"}function T7(t){return typeof t=="number"}function dk(t){return t!==null&&typeof t=="object"}function td(t){if(y1(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var C7=Ws("Date"),O7=Ws("File"),M7=Ws("Blob"),N7=Ws("FileList");function w1(t){return v1.call(t)==="[object Function]"}function I7(t){return dk(t)&&w1(t.pipe)}function D7(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||v1.call(t)===e||w1(t.toString)&&t.toString()===e)}var L7=Ws("URLSearchParams");function B7(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function $7(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function _1(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),b1(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function g0(){var t={};function e(i,o){td(t[o])&&td(i)?t[o]=g0(t[o],i):td(i)?t[o]=g0({},i):b1(i)?t[o]=i.slice():t[o]=i}for(var r=0,n=arguments.length;r<n;r++)_1(arguments[r],e);return t}function F7(t,e,r){return _1(e,function(i,o){r&&typeof i=="function"?t[o]=R7(i,r):t[o]=i}),t}function j7(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function U7(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function z7(t,e,r){var n,i,o,s={};e=e||{};do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],s[o]||(e[o]=t[o],s[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function q7(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function H7(t){if(!t)return null;var e=t.length;if(Zd(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var V7=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Pr={isArray:b1,isArrayBuffer:fk,isBuffer:P7,isFormData:D7,isArrayBufferView:A7,isString:k7,isNumber:T7,isObject:dk,isPlainObject:td,isUndefined:Zd,isDate:C7,isFile:O7,isBlob:M7,isFunction:w1,isStream:I7,isURLSearchParams:L7,isStandardBrowserEnv:$7,forEach:_1,merge:g0,extend:F7,trim:B7,stripBOM:j7,inherits:U7,toFlatObject:z7,kindOf:y1,kindOfTest:Ws,endsWith:q7,toArray:H7,isTypedArray:V7,isFileList:N7},pa=Pr;function TS(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var hk=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(pa.isURLSearchParams(r))i=r.toString();else{var o=[];pa.forEach(r,function(c,l){c===null||typeof c>"u"||(pa.isArray(c)?l=l+"[]":c=[c],pa.forEach(c,function(f){pa.isDate(f)?f=f.toISOString():pa.isObject(f)&&(f=JSON.stringify(f)),o.push(TS(l)+"="+TS(f))}))}),i=o.join("&")}if(i){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},W7=Pr;function ep(){this.handlers=[]}ep.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};ep.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};ep.prototype.forEach=function(e){W7.forEach(this.handlers,function(n){n!==null&&e(n)})};var G7=ep,K7=Pr,Q7=function(e,r){K7.forEach(e,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[o])})},pk=Pr;function fl(t,e,r,n,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}pk.inherits(fl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var mk=fl.prototype,gk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){gk[t]={value:t}});Object.defineProperties(fl,gk);Object.defineProperty(mk,"isAxiosError",{value:!0});fl.from=function(t,e,r,n,i,o){var s=Object.create(mk);return pk.toFlatObject(t,s,function(c){return c!==Error.prototype}),fl.call(s,t.message,e,r,n,i),s.name=t.name,o&&Object.assign(s,o),s};var Pl=fl,vk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qn=Pr;function J7(t,e){e=e||new FormData;var r=[];function n(o){return o===null?"":qn.isDate(o)?o.toISOString():qn.isArrayBuffer(o)||qn.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function i(o,s){if(qn.isPlainObject(o)||qn.isArray(o)){if(r.indexOf(o)!==-1)throw Error("Circular reference detected in "+s);r.push(o),qn.forEach(o,function(c,l){if(!qn.isUndefined(c)){var u=s?s+"."+l:l,f;if(c&&!s&&typeof c=="object"){if(qn.endsWith(l,"{}"))c=JSON.stringify(c);else if(qn.endsWith(l,"[]")&&(f=qn.toArray(c))){f.forEach(function(d){!qn.isUndefined(d)&&e.append(u,n(d))});return}}i(c,u)}}),r.pop()}else e.append(s,n(o))}return i(t),e}var yk=J7,yg,CS;function Y7(){if(CS)return yg;CS=1;var t=Pl;return yg=function(r,n,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?r(i):n(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},yg}var bg,OS;function X7(){if(OS)return bg;OS=1;var t=Pr;return bg=t.isStandardBrowserEnv()?function(){return{write:function(n,i,o,s,a,c){var l=[];l.push(n+"="+encodeURIComponent(i)),t.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),t.isString(s)&&l.push("path="+s),t.isString(a)&&l.push("domain="+a),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),bg}var Z7=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},eF=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e},tF=Z7,rF=eF,bk=function(e,r){return e&&!tF(r)?rF(e,r):r},wg,MS;function nF(){if(MS)return wg;MS=1;var t=Pr,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return wg=function(n){var i={},o,s,a;return n&&t.forEach(n.split(`
`),function(l){if(a=l.indexOf(":"),o=t.trim(l.substr(0,a)).toLowerCase(),s=t.trim(l.substr(a+1)),o){if(i[o]&&e.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([s]):i[o]=i[o]?i[o]+", "+s:s}}),i},wg}var _g,NS;function iF(){if(NS)return _g;NS=1;var t=Pr;return _g=t.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function o(s){var a=s;return r&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=o(window.location.href),function(a){var c=t.isString(a)?o(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),_g}var Sg,IS;function tp(){if(IS)return Sg;IS=1;var t=Pl,e=Pr;function r(n){t.call(this,n??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(r,t,{__CANCEL__:!0}),Sg=r,Sg}var xg,DS;function oF(){return DS||(DS=1,xg=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}),xg}var Eg,LS;function BS(){if(LS)return Eg;LS=1;var t=Pr,e=Y7(),r=X7(),n=hk,i=bk,o=nF(),s=iF(),a=vk,c=Pl,l=tp(),u=oF();return Eg=function(d){return new Promise(function(p,m){var y=d.data,g=d.headers,v=d.responseType,S;function w(){d.cancelToken&&d.cancelToken.unsubscribe(S),d.signal&&d.signal.removeEventListener("abort",S)}t.isFormData(y)&&t.isStandardBrowserEnv()&&delete g["Content-Type"];var x=new XMLHttpRequest;if(d.auth){var M=d.auth.username||"",k=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";g.Authorization="Basic "+btoa(M+":"+k)}var N=i(d.baseURL,d.url);x.open(d.method.toUpperCase(),n(N,d.params,d.paramsSerializer),!0),x.timeout=d.timeout;function U(){if(x){var L="getAllResponseHeaders"in x?o(x.getAllResponseHeaders()):null,A=!v||v==="text"||v==="json"?x.responseText:x.response,b={data:A,status:x.status,statusText:x.statusText,headers:L,config:d,request:x};e(function(I){p(I),w()},function(I){m(I),w()},b),x=null}}if("onloadend"in x?x.onloadend=U:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(U)},x.onabort=function(){x&&(m(new c("Request aborted",c.ECONNABORTED,d,x)),x=null)},x.onerror=function(){m(new c("Network Error",c.ERR_NETWORK,d,x,x)),x=null},x.ontimeout=function(){var A=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",b=d.transitional||a;d.timeoutErrorMessage&&(A=d.timeoutErrorMessage),m(new c(A,b.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,d,x)),x=null},t.isStandardBrowserEnv()){var D=(d.withCredentials||s(N))&&d.xsrfCookieName?r.read(d.xsrfCookieName):void 0;D&&(g[d.xsrfHeaderName]=D)}"setRequestHeader"in x&&t.forEach(g,function(A,b){typeof y>"u"&&b.toLowerCase()==="content-type"?delete g[b]:x.setRequestHeader(b,A)}),t.isUndefined(d.withCredentials)||(x.withCredentials=!!d.withCredentials),v&&v!=="json"&&(x.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&x.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(S=function(L){x&&(m(!L||L&&L.type?new l:L),x.abort(),x=null)},d.cancelToken&&d.cancelToken.subscribe(S),d.signal&&(d.signal.aborted?S():d.signal.addEventListener("abort",S))),y||(y=null);var O=u(N);if(O&&["http","https","file"].indexOf(O)===-1){m(new c("Unsupported protocol "+O+":",c.ERR_BAD_REQUEST,d));return}x.send(y)})},Eg}var Rg,$S;function sF(){return $S||($S=1,Rg=null),Rg}var ur=Pr,FS=Q7,jS=Pl,aF=vk,lF=yk,cF={"Content-Type":"application/x-www-form-urlencoded"};function US(t,e){!ur.isUndefined(t)&&ur.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function uF(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=BS()),t}function fF(t,e,r){if(ur.isString(t))try{return(e||JSON.parse)(t),ur.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var rp={transitional:aF,adapter:uF(),transformRequest:[function(e,r){if(FS(r,"Accept"),FS(r,"Content-Type"),ur.isFormData(e)||ur.isArrayBuffer(e)||ur.isBuffer(e)||ur.isStream(e)||ur.isFile(e)||ur.isBlob(e))return e;if(ur.isArrayBufferView(e))return e.buffer;if(ur.isURLSearchParams(e))return US(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n=ur.isObject(e),i=r&&r["Content-Type"],o;if((o=ur.isFileList(e))||n&&i==="multipart/form-data"){var s=this.env&&this.env.FormData;return lF(o?{"files[]":e}:e,s&&new s)}else if(n||i==="application/json")return US(r,"application/json"),fF(e);return e}],transformResponse:[function(e){var r=this.transitional||rp.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&ur.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?jS.from(s,jS.ERR_BAD_RESPONSE,this,null,this.response):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sF()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ur.forEach(["delete","get","head"],function(e){rp.headers[e]={}});ur.forEach(["post","put","patch"],function(e){rp.headers[e]=ur.merge(cF)});var S1=rp,dF=Pr,hF=S1,pF=function(e,r,n){var i=this||hF;return dF.forEach(n,function(s){e=s.call(i,e,r)}),e},Pg,zS;function wk(){return zS||(zS=1,Pg=function(e){return!!(e&&e.__CANCEL__)}),Pg}var qS=Pr,Ag=pF,mF=wk(),gF=S1,vF=tp();function kg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vF}var yF=function(e){kg(e),e.headers=e.headers||{},e.data=Ag.call(e,e.data,e.headers,e.transformRequest),e.headers=qS.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),qS.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||gF.adapter;return r(e).then(function(i){return kg(e),i.data=Ag.call(e,i.data,i.headers,e.transformResponse),i},function(i){return mF(i)||(kg(e),i&&i.response&&(i.response.data=Ag.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Zr=Pr,_k=function(e,r){r=r||{};var n={};function i(u,f){return Zr.isPlainObject(u)&&Zr.isPlainObject(f)?Zr.merge(u,f):Zr.isPlainObject(f)?Zr.merge({},f):Zr.isArray(f)?f.slice():f}function o(u){if(Zr.isUndefined(r[u])){if(!Zr.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function s(u){if(!Zr.isUndefined(r[u]))return i(void 0,r[u])}function a(u){if(Zr.isUndefined(r[u])){if(!Zr.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return Zr.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var d=l[f]||o,h=d(f);Zr.isUndefined(h)&&d!==c||(n[f]=h)}),n},Tg,HS;function Sk(){return HS||(HS=1,Tg={version:"0.27.2"}),Tg}var bF=Sk().version,Co=Pl,x1={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){x1[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var VS={};x1.transitional=function(e,r,n){function i(o,s){return"[Axios v"+bF+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,a){if(e===!1)throw new Co(i(s," has been removed"+(r?" in "+r:"")),Co.ERR_DEPRECATED);return r&&!VS[s]&&(VS[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function wF(t,e,r){if(typeof t!="object")throw new Co("options must be an object",Co.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),i=n.length;i-- >0;){var o=n[i],s=e[o];if(s){var a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new Co("option "+o+" must be "+c,Co.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Co("Unknown option "+o,Co.ERR_BAD_OPTION)}}var _F={assertOptions:wF,validators:x1},xk=Pr,SF=hk,WS=G7,GS=yF,np=_k,xF=bk,Ek=_F,ma=Ek.validators;function dl(t){this.defaults=t,this.interceptors={request:new WS,response:new WS}}dl.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=np(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&Ek.assertOptions(n,{silentJSONParsing:ma.transitional(ma.boolean),forcedJSONParsing:ma.transitional(ma.boolean),clarifyTimeoutError:ma.transitional(ma.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(o=o&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});var s=[];this.interceptors.response.forEach(function(h){s.push(h.fulfilled,h.rejected)});var a;if(!o){var c=[GS,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(s),a=Promise.resolve(r);c.length;)a=a.then(c.shift(),c.shift());return a}for(var l=r;i.length;){var u=i.shift(),f=i.shift();try{l=u(l)}catch(d){f(d);break}}try{a=GS(l)}catch(d){return Promise.reject(d)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};dl.prototype.getUri=function(e){e=np(this.defaults,e);var r=xF(e.baseURL,e.url);return SF(r,e.params,e.paramsSerializer)};xk.forEach(["delete","get","head","options"],function(e){dl.prototype[e]=function(r,n){return this.request(np(n||{},{method:e,url:r,data:(n||{}).data}))}});xk.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(np(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}dl.prototype[e]=r(),dl.prototype[e+"Form"]=r(!0)});var EF=dl,Cg,KS;function RF(){if(KS)return Cg;KS=1;var t=tp();function e(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(s){n=s});var i=this;this.promise.then(function(o){if(i._listeners){var s,a=i._listeners.length;for(s=0;s<a;s++)i._listeners[s](o);i._listeners=null}}),this.promise.then=function(o){var s,a=new Promise(function(c){i.subscribe(c),s=c}).then(o);return a.cancel=function(){i.unsubscribe(s)},a},r(function(s){i.reason||(i.reason=new t(s),n(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var n,i=new e(function(s){n=s});return{token:i,cancel:n}},Cg=e,Cg}var Og,QS;function PF(){return QS||(QS=1,Og=function(e){return function(n){return e.apply(null,n)}}),Og}var Mg,JS;function AF(){if(JS)return Mg;JS=1;var t=Pr;return Mg=function(r){return t.isObject(r)&&r.isAxiosError===!0},Mg}var YS=Pr,kF=uk,rd=EF,TF=_k,CF=S1;function Rk(t){var e=new rd(t),r=kF(rd.prototype.request,e);return YS.extend(r,rd.prototype,e),YS.extend(r,e),r.create=function(i){return Rk(TF(t,i))},r}var Jr=Rk(CF);Jr.Axios=rd;Jr.CanceledError=tp();Jr.CancelToken=RF();Jr.isCancel=wk();Jr.VERSION=Sk().version;Jr.toFormData=yk;Jr.AxiosError=Pl;Jr.Cancel=Jr.CanceledError;Jr.all=function(e){return Promise.all(e)};Jr.spread=PF();Jr.isAxiosError=AF();E7.exports=Jr;Xd.default=Jr;(function(t){t.exports=Xd})(x7);const OF=du(m0);var MF=class extends _7{constructor(t,e,r){super(r),this.joining=!1,this.roomId=null,this.hostId=null,this.peerId=t,this.produce=!0,this._webcamProducer=null,this._shareVideoProducer=null,this._shareAudioProducer=null,this.micProducer=null,this._loading=!1,this._chatDataProducer=null,this._useDataChannel=!0,this._bot=e}get isBot(){return this._bot}async changeAvatarUrl(t){if(!this.socket)return Y.error({type:"error",message:"changeAvatarUrl",error:"no socket"});try{this.setMeAvatarUrl(t),await this.socket.request("changeAvatarUrl",{avatarUrl:t})}catch(e){console.error(e)}}async sendDM(t,e,r){var n;const i=new Date;try{await((n=this.socket)==null?void 0:n.request("sendData",{type:"dm",payload:{message:t,toId:e,fromId:r,timestamp:i.toISOString()}}))}catch(o){console.error(o)}}async toggleRaiseHand(t){var e;try{await((e=this.socket)==null?void 0:e.request("sendData",{type:"raiseHand",payload:{isHandRaised:t}})),this.toggleMeHandRaise(t)}catch(r){console.error(r)}}async sendReaction(t){var e;try{await((e=this.socket)==null?void 0:e.request("sendData",{type:"reaction",payload:{reaction:t}})),this.addMeReaction(t)}catch(r){console.error(r)}}async allowLobbyPeerToJoinRoom(t){this.socket&&this.socket.request("allowRoomJoin",{peerIdToAdmit:t})}async allowAllLobbyPeersToJoinRoom(){this.socket&&this.socket.request("admitAll")}async disallowLobbyPeerFromJoiningRoom(t){this.socket&&this.socket.request("disallowRoomJoin",{peerIdToDisallow:t})}async disallowAllLobbyPeerFromJoiningRoom(){this.socket&&this.socket.request("denyAll")}async requestLobby(t,e,r){if(!this.socket)return Y.error({type:"error",msg:"no socket"});const n=this.getUserGeoLocation(),i={displayName:t,avatarUrl:e,geoLocation:n},{host:o,hostState:s}=await this.socket.request("lobby",{userData:i,walletData:r});this.setHostState(s),Y.info({type:"info",msg:"requestLobby()",data:{host:o,meId:this.peerId}}),this.hostId=o}async join(t,e){if(!this.joining){if(this.joining=!0,this.setSocket(t,this.peerId),!this.socket)return Y.error({type:"error",msg:"join() no socket"});this.socket.on("open",async()=>{Y.info({type:"info",msg:"socket open"});const r=this.getAvatarUrl();await this.requestLobby(this.getDisplayName(),r,e),this.initMe({peerId:this.peerId,displayName:this.getDisplayName(),avatarUrl:r}),this.roomId=t}),this.socket.on("failed",()=>{Y.info({type:"error",text:"WebSocket connection failed/ Wrong API Key"})}),this.socket.on("disconnected",()=>{Y.info({type:"error",text:"WebSocket  disconnected"})}),this.socket.on("close",()=>{var r,n;Y.info({type:"error",text:"WebSocket  closed"}),(r=this.recvTransport)==null||r.close(),(n=this.sendTransport)==null||n.close(),this.disableCamStream()}),this.socket.on("request",async(r,n,i)=>{var o;const s=[],a={newConsumer:async()=>{Y.info({type:"info",msg:"newConsumer",data:r.data});const{peerId:c,producerId:l,id:u,kind:f,rtpParameters:d,appData:h,producerPaused:p}=r.data;if(this.recvTransport)try{const m=await this.recvTransport.consume({id:u,producerId:l,kind:f,rtpParameters:d,appData:{...h,peerId:c}});this.consumers.set(m.id,m),m.on("transportclose",()=>{var g;Y.info({type:"info",msg:"consumer transport closed",data:{consumerId:m.id,peerId:(g=m.appData)==null?void 0:g.peerId}}),this.consumers.delete(m.id),this.removeStreamFromHark(c)});const y={id:m.id,track:m.track,isPaused:p,peerId:c,appData:h};this.addConsumerMedia(c,h.type,y),h.type==="mic"&&(y.isPaused?this.pauseConsumerMedia(c,h.type):this.addStreamToHark(m.track,c)),h.type==="share"&&(Y.info({type:"info",msg:"newConsumer | Screen Share Enabled",peerId:c}),this.enableScreenShare(c)),h.type==="shareAudio"&&Y.info({type:"info",msg:"newConsumer | Screenshare Audio Share Enabled",peerId:c}),n(),h.type==="cam"&&this.getBandwidthSaver()&&s.push(this.pauseConsumer(u,c,"cam"))}catch(m){Y.error({type:m,error:m}),s.splice(0,s.length)}}};await((o=a[r.method])==null?void 0:o.call(a)),await Promise.all(s)}),this.socket.on("notification",r=>{var n;const i={peerAvatarUrlChanged:()=>{Y.info({type:"info",msg:"peerAvatarUrlChanged"});const{peerId:o,avatarUrl:s}=r.data;Pf("avatar-url-changed",{peerId:o,avatarUrl:s}),this.changePeerAvatarUrl(o,s)},joinRoomPermissionGranted:()=>{Y.info({type:"info",msg:"joinRoomPermissionGranted"}),this.joinRoom()},joinRoomPermissionDenied:()=>{this.close("denied"),Y.info({type:"info",msg:"joinRoomPermissionDenied"})},roomClosedByHost:()=>{this.close("closedByHost"),Y.info({type:"info",msg:"roomClosedByHost"})},kickedByHost:()=>{this.close("kicked"),Y.info({type:"info",msg:"kickedByHost"})},newLobbyPeer:()=>{const o=r.data;this.addLobbyPeer(o.lobbyPeers),Y.info({type:"info",msg:"newLobbyPeer",data:r.data})},newPeer:()=>{const o=r.data;if(o.id==="recorder_bot"){Y.info({type:"info",message:"Recorder Bot has entered the room...",meta:{peerId:o.id}});return}const s={peerId:o.id,displayName:o.displayName,avatarUrl:o.avatarUrl,isMicPaused:!0,isCamPaused:!0,isSharePaused:!0,isHandRaised:!1,reaction:o.reaction};Pf("peer-join",s),this.setScreenShareLayout(this.isBot,"sideBarGridView"),this.addPeer(o.id,s),this.addPeerPort(o.id),this.getSpaceLeftInViewport()>0&&this.addPeerViewPort(o.id),Y.info({type:"info",msg:"newPeer",data:r.data}),this.setNotificationSounds("peerJoin")},peerClosed:()=>{const{peerId:o}=r.data;o!=="recorder_bot"&&(this.removeChat(o),this.removePeerViewPort(o),this.getSpaceLeftInViewport()>0&&this.isLastNActive()&&this.deactivateLastN(),this.removePeerPort(o),this.removePeer(o),this.setScreenShareLayout(this.isBot,"sideBarView"),Pf("peer-left",{peerId:o}),Y.info({type:"info",msg:"peerClosed",data:r.data}),this.setNotificationSounds("peerLeave"),this.removeStreamFromHark(o))},updatedPeersArray:()=>{const o=r.data;this.addLobbyPeer(o.lobbyPeers),Y.info({type:"info",msg:"updatedPeersArray",data:r.data})},consumerClosed:()=>{const{consumerId:o}=r.data,s=this.consumers.get(o);if(Y.info({type:"info",msg:"consumerClosed",consumer:s}),!s)return;const{appData:{type:a,peerId:c}}=s;a==="share"&&(Y.info({type:"info",msg:"newConsumer | Screen Share Disabled",peerId:c}),this.disableScreenShare("grid")),a==="mic"&&this.removeStreamFromHark(c),s.close(),this.consumers.delete(o),this.removeConsumerMedia(c,a)},consumerPaused:()=>{const{consumerId:o}=r.data,s=this.consumers.get(o);if(!s)return;const{appData:{type:a,peerId:c}}=s;Y.info({type:"info",msg:"consumerPaused",consumer:s}),s.pause(),a==="mic"&&(this.pauseConsumerMedia(c,a),this.removeStreamFromHark(c))},consumerResumed:()=>{const{consumerId:o}=r.data,s=this.consumers.get(o);if(!s)return;const{appData:{type:a,peerId:c}}=s;Y.info({type:"info",msg:"consumerResumed",consumer:s}),s.resume(),a==="mic"&&(this.resumeConsumerMedia(c,a),this.addStreamToHark(s.track,c))},"recording-started":()=>{this.setStartRecording(),this.toggleRecording(!0),this.setNotifyRecording("started",!0),Y.info({type:"info",msg:"recording-started"})},"recording-stopped":()=>{this.setStopRecording(),this.toggleRecording(!1),this.setNotifyRecording("finished",!0),Y.info({type:"info",msg:"recording-stopped"})},recordingUrl:()=>{const{s3URL:o,ipfsURL:s,size:a,duration:c,uploadToIpfs:l}=r.data;Y.info({type:"info",msg:"recording-stopped",s3URL:o,ipfsURL:s,uploadToIpfs:l}),this.updateRecording({url:o,duration:c,size:a,uploadToIpfs:!!l})},getAllRecordings:()=>{const o=r.data;Y.info("Got all recordings"),Y.info({recordingURls:o}),this.setRecordings(o)},"disabled-last-N":()=>{const o=this.getPeerIds();Y.info({type:"info",msg:"disabled-last-N",meta:{peerIds:o}}),this.isLastNActive()&&this.deactivateLastN()},"updated-last-N":()=>{const{lastNPeers:o,mostInactivePeerIdInLastN:s}=r.data,a=this.peerId,c=o.includes(a)?o.filter(l=>l!==a):o.filter(l=>s?l!==s:o[o.length-1]!==l);Y.info({type:"info",msg:"updated-last-N | Updaing with new lastNPeers"}),this.isLastNActive()||this.activateLastN(),this.setActiveViewPort(c)},"updated-network-strength":()=>{const{networkStrength:o}=r.data;this.setNetworkStats(o)},receiveData:()=>{const{type:o,payload:s}=r.data;if(o==="dm"){const{toId:a,fromId:c,message:l,timestamp:u}=s;if(a==="mainRoom")this.setChat(l,"mainRoom",c,u),c!==this.peerId&&this.increaseUnread("mainRoom");else{const f=c;this.setChat(l,f,c,u),this.increaseUnread(c)}c!==this.peerId&&this.setNotificationSounds("chat")}if(o==="reaction"){const{peerId:a,reaction:c}=s;this.peerId!==a&&this.addReaction(a,c)}if(o==="raiseHand"){const{peerId:a,isHandRaised:c}=s;this.togglePeerHandRaise(a,c)}if(o==="sharedFile"){const a=new Date,{peerId:c,fileDetails:l}=s;this.addSharedFile(l),this.setChat("I've shared a file, please check it out from shared files tab.","mainRoom",c,a.toISOString()),this.increaseUnread("mainRoom")}},enabledHostControls:()=>{const{type:o}=r.data;({enableHostOnlyVideo:()=>{this.setSingleHostControl("allowVideo",!1)},enableHostOnlyAudio:()=>{this.setSingleHostControl("allowAudio",!1)},enableHostOnlyScreenShare:()=>{this.setSingleHostControl("allowScreenShare",!1)},enableHostOnlyChat:()=>{this.setSingleHostControl("allowChat",!1)}})[o]()},disabledHostControls:()=>{const{type:o}=r.data;({disableHostOnlyVideo:()=>{this.setSingleHostControl("allowVideo",!0)},disableHostOnlyAudio:()=>{this.setSingleHostControl("allowAudio",!0)},disableHostOnlyScreenShare:()=>{this.setSingleHostControl("allowScreenShare",!0)},disableHostOnlyChat:()=>{this.setSingleHostControl("allowChat",!0)}})[o]()},hostIs:()=>{const{hostId:o}=r.data;Y.info({type:"info",msg:"hostIs"}),this.setHost(o)},updatedCoHosts:()=>{const{coHosts:o}=r.data;Y.info({type:"info",msg:"updatedCoHosts"}),this.setCoHosts(o)},muteMe:()=>{this.muteMic()},disableMyCam:()=>{this.disableWebcam()},stopScreenShare:()=>{this.disableShare()},streamStarted:()=>{const{stream:o,platform:s}=r.data;if(Y.info("stream started",{stream:o}),o.id){const a={isLive:!0,isLoading:!1,url:`https://livepeer.huddle01.com/livestream?streamId=${o.id}`};this.setStreamData(s,a),this.setStreamPlatform(s)}},streamStopped:()=>{const{platform:o}=r.data;Y.info("stream started"),this.stopStreaming(o)},recordingOrStreamingError:()=>{const{type:o}=r.data;o=="record"&&this.setRecordingEnded(),o=="stream"&&this.stopStreaming("livepeer")},"room-lock-state":()=>{const{isRoomLocked:o}=r.data;this.setRoomLockState(o)},downlinkBwe:()=>{Y.info("downlinkBwe event :",r.data)}};(n=i[r.method])==null||n.call(i)})}}async joinRoom(){if(this.socket)try{if(await this.loadMediasoupDevice(),!this.mediasoupDevice)return;try{const{data:m}=await OF.get("https://jbzp43rb25.execute-api.ap-south-1.amazonaws.com/turn"),g=m.servers.map(({url:v,...S})=>({...S,urls:v}));this._turn=g||[]}catch(m){Y.error("error fetching turn servers",m)}this.isBot||await this.createSendTransport(),await this.createRecvTransport();const t=await this.socket.request("join",{displayName:this.getDisplayName(),rtpCapabilities:this.mediasoupDevice.rtpCapabilities,sctpCapabilities:this.mediasoupDevice.sctpCapabilities,avatarUrl:this.getAvatarUrl(),device:{device:S7(),name:this.mediasoupDevice.handlerName}}),{peers:e,roomId:r,hostId:n,coHostIds:i,createdAt:o,isRoomLocked:s,isRecordingOrStreaming:a,typeOfStreamingOrRecording:c,streamId:l,sharedFiles:u,hostControls:f,streamingPlatform:d}=t;e.forEach(m=>{if(m.id!=="recorder_bot"){const y={peerId:m.id,displayName:m.displayName,avatarUrl:m.avatarUrl,isMicPaused:!0,isCamPaused:!0,isSharePaused:!0,isHandRaised:!1,reaction:m.reaction};this.addPeer(m.id,y),this.addPeerPort(m.id)}}),f.allowVideo||(this.toggleProducerMedia("cam","off"),await this.disableAllCamStreams()),!this.getProducerState("cam")&&f.allowVideo&&await this.enableWebcam();const h=this.isMicPaused();if(await this.enableMic(),(!f.allowAudio||h)&&(this.toggleProducerMedia("mic","off"),await this.muteMic()),this.initHostControls(n,this.peerId,f,i),this.setRoomId(r),this.setRoomLockState(s),this.setActiveViewPortForNewPeer(),this.setCreatedAt(o),d){const m={isLive:!0,isLoading:!1,url:`https://livepeer.huddle01.com/livestream?streamId=${l}`};this.setStreamData(d,m),this.setStreamPlatform(d)}this.setSharedFiles(u),a&&(c=="record"&&this.toggleRecording(!0),n===this.peerId&&this.setStartRecording());const p=this.isBot?3:2;this.getPeerIds().length>p&&this.setLayoutView("sideBarGridView"),this.setJoined()}catch(t){Y.error({type:"error",error:t,message:"Couldn't join room",loc:"RoomProvider.tsx -> joinRoom()"})}}async enableWebcam(t=!0){const e=this.getProducerState("cam"),n=/([da-z.-]+).huddle01.com$/.test(window.location.hostname);console.log({isHuddleApp:n});try{(e&&t||!n)&&(console.log("ldaaa"),this.disableCamStream(),await this.enableCamStream(),console.log("2ldaaa"));const i=this.getCamStream();if(!i){Y.error({type:"error",msg:"enableWebcam() | No Stream Enabled"});return}if(!this.sendTransport)return;const o=i.getVideoTracks()[0];let s;const a={videoGoogleStartBitrate:1e3};!0&&(s=a5),this._webcamProducer=await this.sendTransport.produce({track:o,encodings:s,codecOptions:a,appData:{type:"cam",share:!1}});const l={id:this._webcamProducer.id,track:this._webcamProducer.track,isPaused:!1,peerId:this.peerId,appData:{type:"cam",peerId:this.peerId}};this.addProducerMedia("cam",l),Y.info({type:"info",msg:"enableWebcam",webcamProducer:this._webcamProducer}),this._webcamProducer.on("transportclose",async()=>{Y.info({type:"info",msg:"enableWebcam | transportclose",webcamProducer:this._webcamProducer}),this.removeProducerMedia("cam"),this.toggleFigmentStream("disable"),await u0(),this._webcamProducer=null}),this._webcamProducer.on("trackended",async()=>{Y.info({type:"info",msg:"enableWebcam | trackended",webcamProducer:this._webcamProducer}),Y.info({type:"error",text:"Webcam disconnected!"}),this.disableWebcam().catch(()=>{})}),Y.info({type:"info",msg:"Webcam enabled",webcamProducer:this._webcamProducer})}catch(i){Y.error({type:"error",error:i})}}async disableWebcam(t=!0){var e;if(!this.socket){this.disableCamStream(),Y.debug({type:"debug",msg:"disableWebcam() | No socket"});return}if(!this._webcamProducer){Y.info({type:"info",msg:"disableWebcam | No Producer"});return}Y.info("webcamProducer is on"),(e=this._webcamProducer.track)==null||e.stop(),this._webcamProducer.close(),this.removeProducerMedia("cam");try{await this.socket.request("closeProducer",{producerId:this._webcamProducer.id}),this._webcamProducer=null,t&&(this.toggleFigmentStream("disable"),await u0(),Y.info({type:"info",msg:"disableWebcam | figment disabled"})),this.disableCamStream();const r=this.getCamStream();r&&Y.info({type:"info",msg:"disableWebcam | stream Still Enabled",stream:r}),Y.info("server closed producer")}catch(r){Y.error({type:"error",text:`Error closing server-side webcam Producer: ${r}`})}}async changeWebcam(t){if(!this._loading){this._loading=!0,t&&this.setMediaDevice(t);try{await this.disableWebcam(),await this.enableWebcam()}catch(e){Y.error({type:"error",msg:"changeWebcam()",error:e})}this._loading=!1}}async pauseVideo(){if(Y.info({msg:"pauseVideo()",_webcamProducer:this._webcamProducer,this:this}),!!this.socket&&(this.produce=!1,!!this._webcamProducer)){this._webcamProducer.pause();try{await this.socket.request("pauseProducer",{producerId:this._webcamProducer.id}),this._webcamProducer!==null&&this.removeProducerMedia("cam")}catch(t){Y.error({type:"error",text:`Error pausing server-side webcam Producer: ${t}`})}}}async disableMic(){if(!(!this.micProducer||!this.socket)){this.micProducer.close(),Y.info({type:"info",text:"disableMic()"}),this.removeStreamFromHark(this.peerId);try{await this.socket.request("closeProducer",{producerId:this.micProducer.id}),this.removeProducerMedia("mic")}catch(t){Y.error({type:"error",text:`Error closing server-side mic Producer: ${t}`})}this.micProducer=null}}async enableMic(){if(!(!this.mediasoupDevice||!this.sendTransport))try{this.disableMicStream(),this.removeStreamFromHark(this.peerId),await this.enableMicStream();const t=this.getMicStream();if(Y.info({micstream:t}),!t){Y.error({type:"error",msg:"enableMic() | No Stream Enabled"});return}const e=t.getAudioTracks()[0];e.onended=async()=>{Y.error({type:"error",msg:"enableMic() | track ended"}),await this.disableMic().catch(()=>{})},this.addStreamToHark(e,this.peerId),this.micProducer=await this.sendTransport.produce({track:e,appData:{type:"mic",share:!1}});const r={id:this.micProducer.id,track:this.micProducer.track,isPaused:!1,peerId:this.peerId,appData:{type:"mic",peerId:this.peerId}};this.micProducer!==null&&this.addProducerMedia("mic",r),this.micProducer.on("transportclose",()=>{this.micProducer=null}),this.micProducer.on("trackended",async()=>{Y.info({type:"error",text:"Microphone disconnected!"});try{await this.disableMic(),await this.enableMic()}catch{alert("error in switching audio input sources, please refresh your tab")}})}catch(t){Y.error({type:"error | enableMic() ",error:t})}}async changeMic(t){if(!this._loading){this._loading=!0,t&&this.setAudioDevice(t);try{await this.disableMic(),await this.enableMic(),await this.unmuteMic()}catch(e){Y.error({type:"error",msg:"changeMic()",error:e})}finally{this._loading=!1}}}async muteMic(){if(Y.info({msg:"muteMic()",this:this}),!!this.socket&&this.micProducer){this.micProducer.pause();try{await this.socket.request("pauseProducer",{producerId:this.micProducer.id}),this.micProducer!==null&&this.toggleProducerMedia("mic","off")}catch(t){Y.info("muteMic() | failed: %o",t)}}}async unmuteMic(){if(Y.info({msg:"unmuteMic()",this:this}),!this.socket){Y.info("unmuteMic() | no socket");return}if(!this.micProducer){Y.info({type:"info",msg:"unmuteMic() | micProducer is null enabling mic"}),await this.enableMic();return}this.micProducer.resume();try{await this.socket.request("resumeProducer",{producerId:this.micProducer.id}),this.micProducer!==null&&this.toggleProducerMedia("mic","on")}catch(t){Y.info("unmuteMic() | failed: %o",t)}}async enableShare(){if(!this.mediasoupDevice||!this.sendTransport){Y.error("enableShare() | cannot produce audio");return}if(!this.mediasoupDevice.canProduce("video")){Y.error("enableShare() | cannot produce video");return}let t=null,e=null;try{let r={video:{displaySurface:"monitor",logicalSurface:!0,cursor:!0,width:{max:1920},height:{max:1080},frameRate:{max:30}},audio:{echoCancellation:!0,noiseSuppression:!0}};const n=await navigator.mediaDevices.getDisplayMedia(r);t=n.getVideoTracks()[0],e=n.getAudioTracks()[0],this._shareVideoProducer=await this.sendTransport.produce({track:t,appData:{type:"share",share:!0}}),e&&(this._shareAudioProducer=await this.sendTransport.produce({track:e,appData:{type:"shareAudio",share:!0}}));const i={id:this._shareVideoProducer.id,peerId:this.peerId,track:this._shareVideoProducer.track,isPaused:this._shareVideoProducer.paused,appData:{type:"share",peerId:this.peerId}};if(this._shareVideoProducer!==null&&this.addProducerMedia("share",i),this._shareAudioProducer!==null){const o={id:this._shareAudioProducer.id,peerId:this.peerId,track:this._shareAudioProducer.track,isPaused:this._shareAudioProducer.paused,appData:{type:"shareAudio",peerId:this.peerId}};this.addProducerMedia("shareAudio",o),Y.info({type:"info",msg:"Share Audio enabled",shareVideoProducer:this._shareAudioProducer,shareAudioProd:o})}this._shareVideoProducer.on("transportclose",async()=>{await this.disableShare()}),this._shareVideoProducer.on("trackended",async()=>{Y.info({type:"error",text:"shareScreen Disconnected!"});try{await this.disableShare()}catch{alert("error in switching audio input sources, please refresh your tab")}}),Y.info({type:"info",msg:"Share enabled",shareProducer:this._shareVideoProducer}),this.enableScreenShare(this.peerId)}catch(r){t&&(t.stop(),this.disableScreenShare("grid")),Y.error({type:"error",error:r})}}async disableShare(){if(!(!this._shareVideoProducer||!this.socket)){this._shareVideoProducer.close(),this.removeProducerMedia("share"),this._shareAudioProducer!==null&&(this._shareAudioProducer.close(),this.removeProducerMedia("shareAudio"));try{await this.socket.request("closeProducer",{producerId:this._shareVideoProducer.id}),Y.info("closed server side share producer"),this._shareAudioProducer&&(await this.socket.request("closeProducer",{producerId:this._shareAudioProducer.id}),Y.info("closed server side audio share producer")),Y.info({type:"info",msg:"Share disabled",shareProducer:this._shareVideoProducer}),this.disableScreenShare("grid")}catch(t){Y.error({type:"error",text:`Error closing server-side share Producer: ${t}`})}this._shareVideoProducer=null,this._shareAudioProducer=null}}async emailRecording(t,e){if(this.socket)try{await this.socket.request("emailRecordingUrl",{to:t,url:e})}catch(r){Y.error({type:"error",text:`Error emailing recording url: ${r}`})}}async getClientNetworkStats(){var t,e,r,n;if(Y.debug("getClientNetworkStats()"),!this.socket)return;const i=await this.socket.request("getClientNetworkStats",{audioProducerId:((t=this.micProducer)==null?void 0:t.id)||"",videoProducerId:((e=this._webcamProducer)==null?void 0:e.id)||"",sendTransportId:((r=this.sendTransport)==null?void 0:r.id)||"",recvTransportId:((n=this.recvTransport)==null?void 0:n.id)||""});return Y.info({stats:i}),i}async handleEnableHostControl(t,e){if(this.socket)try{await this.socket.request("handleEnableHostControl",{control:t}),this.setSingleHostControl(e,!1)}catch(r){Y.error({type:"error",text:`Error enabling host control: ${r}`})}}async handleDisableHostControl(t,e){if(this.socket)try{Y.info("huddlecliend handledisable",{control:t}),await this.socket.request("handleDisableHostControl",{control:t}),this.setSingleHostControl(e,!0)}catch(r){Y.error({type:"error",text:`Error disabling host control: ${r}`})}}async makeACohost(t){if(this.socket)try{await this.socket.request("makeACoHost",{coHostId:t})}catch(e){Y.error({type:"error",text:`Error making a cohost: ${e}`})}}async removeACohost(t){if(this.socket)try{await this.socket.request("removeACoHost",{coHostId:t})}catch(e){Y.error({type:"error",text:`Error making a cohost: ${e}`})}}async kickPeerFromRoom(t){if(this.socket)try{await this.socket.request("kickPeerFromRoom",{peerIdToKick:t})}catch(e){Y.error({type:"error",text:`Error kicking peer from room: ${e}`})}}async closeRoomForEverybody(){if(this.socket)try{await this.socket.request("closeRoomForEverybody"),this.close()}catch(t){Y.error({type:"error",text:`Error closeRoomForEverybody: ${t}`})}}async disablePeerMic(t){if(this.socket)try{await this.socket.request("mutePeer",{peerId:t})}catch(e){Y.error({type:"error",text:`Error mutePeer: ${e}`})}}async disablePeerCam(t){if(this.socket)try{await this.socket.request("disablePeerCam",{peerId:t})}catch(e){Y.error({type:"error",text:`Error disablePeerCam: ${e}`})}}async muteEveryone(){if(this.socket)try{await this.socket.request("muteEveryone")}catch(t){throw new Error(`Cant mute everyone ${t}`)}}async toggleRoomLock(){if(this.socket)try{await this.socket.request("toggleRoomLock",{state:!this.getRoomLockState()})}catch(t){throw new Error(`Cant toggle room lock ${t}`)}}async pauseConsumer(t,e,r){if(!(!this.consumers.has(t)||!this.socket))try{const n=this.consumers.get(t);if(!n)return;this.socket.request("pauseConsumer",{consumerId:t}),n.pause(),this.pauseConsumerMedia(e,r)}catch(n){Y.error({type:"error",text:`Error pausing consumer ${n}`})}}async resumeConsumer(t,e,r){if(!(!this.consumers.has(t)||!this.socket))try{const n=this.consumers.get(t);if(!n)return;this.socket.request("resumeConsumer",{consumerId:t}),n.resume(),this.resumeConsumerMedia(e,r)}catch(n){Y.error({type:"error",text:`Error pausing consumer ${n}`})}}async toggleBandwidthSaver(t){const e=[];Object.entries(this.getParticipants()).forEach(([r,n])=>{var i;n.consumers&&((i=n.consumers.cam)!=null&&i.id)&&e.push(t?this.pauseConsumer(n.consumers.cam.id,r,"cam"):this.resumeConsumer(n.consumers.cam.id,r,"cam"))}),await Promise.all(e)}close(t){this.socket&&(this.setDropState(t||"left"),this.socket.close(),Pf("me-left",{peerId:this.peerId}))}},NF="0123456789",IF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",DF="!$%^&*()_+|~-=`{}[]:;<>?,./";function LF(t){return t||(t={}),{length:t.length||8,numeric:typeof t.numeric=="boolean"?t.numeric:!0,letters:typeof t.letters=="boolean"?t.letters:!0,special:typeof t.special=="boolean"?t.special:!1,exclude:Array.isArray(t.exclude)?t.exclude:[]}}function BF(t){var e="";t.numeric&&(e+=NF),t.letters&&(e+=IF),t.special&&(e+=DF);for(var r=0;r<=t.exclude.length;r++)e=e.replace(t.exclude[r],"");return e}var $F=function(e){e=LF(e);var r,n,i="",o=e.length;e.exclude;var s=BF(e);for(r=1;r<=o;r++)i+=s.substring(n=Math.floor(Math.random()*s.length),n+1);return i},kc,FF=(t,e=!1)=>{const r=e?"recorder_bot":$F({length:10});return kc=new MF(r,e,t),console.log({hc:kc}),kc},Pk=(t,e=!1)=>(kc||FF(t,e),kc),XS=globalThis&&globalThis.__assign||function(){return XS=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},XS.apply(this,arguments)},ZS=globalThis&&globalThis.__assign||function(){return ZS=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ZS.apply(this,arguments)},ex=globalThis&&globalThis.__assign||function(){return ex=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ex.apply(this,arguments)},tx=globalThis&&globalThis.__assign||function(){return tx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tx.apply(this,arguments)},rx=globalThis&&globalThis.__assign||function(){return rx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rx.apply(this,arguments)},nx=globalThis&&globalThis.__assign||function(){return nx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nx.apply(this,arguments)},ix=globalThis&&globalThis.__assign||function(){return ix=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ix.apply(this,arguments)},eh={},jF={get exports(){return eh},set exports(t){eh=t}},bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1=Symbol.for("react.element"),R1=Symbol.for("react.portal"),ip=Symbol.for("react.fragment"),op=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),ap=Symbol.for("react.provider"),lp=Symbol.for("react.context"),UF=Symbol.for("react.server_context"),cp=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),fp=Symbol.for("react.suspense_list"),dp=Symbol.for("react.memo"),hp=Symbol.for("react.lazy"),zF=Symbol.for("react.offscreen"),Ak;Ak=Symbol.for("react.module.reference");function Mn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case E1:switch(t=t.type,t){case ip:case sp:case op:case up:case fp:return t;default:switch(t=t&&t.$$typeof,t){case UF:case lp:case cp:case hp:case dp:case ap:return t;default:return e}}case R1:return e}}}bt.ContextConsumer=lp;bt.ContextProvider=ap;bt.Element=E1;bt.ForwardRef=cp;bt.Fragment=ip;bt.Lazy=hp;bt.Memo=dp;bt.Portal=R1;bt.Profiler=sp;bt.StrictMode=op;bt.Suspense=up;bt.SuspenseList=fp;bt.isAsyncMode=function(){return!1};bt.isConcurrentMode=function(){return!1};bt.isContextConsumer=function(t){return Mn(t)===lp};bt.isContextProvider=function(t){return Mn(t)===ap};bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===E1};bt.isForwardRef=function(t){return Mn(t)===cp};bt.isFragment=function(t){return Mn(t)===ip};bt.isLazy=function(t){return Mn(t)===hp};bt.isMemo=function(t){return Mn(t)===dp};bt.isPortal=function(t){return Mn(t)===R1};bt.isProfiler=function(t){return Mn(t)===sp};bt.isStrictMode=function(t){return Mn(t)===op};bt.isSuspense=function(t){return Mn(t)===up};bt.isSuspenseList=function(t){return Mn(t)===fp};bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ip||t===sp||t===op||t===up||t===fp||t===zF||typeof t=="object"&&t!==null&&(t.$$typeof===hp||t.$$typeof===dp||t.$$typeof===ap||t.$$typeof===lp||t.$$typeof===cp||t.$$typeof===Ak||t.getModuleId!==void 0)};bt.typeOf=Mn;(function(t){t.exports=bt})(jF);function qF(t){function e(_,C,H,P,T){for(var z=0,q=0,W=0,K=0,X,Z,ge=0,le=0,pe,Oe=pe=X=0,Se=0,ee=0,ie=0,se=0,he=H.length,fe=he-1,_e,ce="",Q="",te="",ne="",re;Se<he;){if(Z=H.charCodeAt(Se),Se===fe&&q+K+W+z!==0&&(q!==0&&(Z=q===47?10:47),K=W=z=0,he++,fe++),q+K+W+z===0){if(Se===fe&&(0<ee&&(ce=ce.replace(d,"")),0<ce.trim().length)){switch(Z){case 32:case 9:case 59:case 13:case 10:break;default:ce+=H.charAt(Se)}Z=59}switch(Z){case 123:for(ce=ce.trim(),X=ce.charCodeAt(0),pe=1,se=++Se;Se<he;){switch(Z=H.charCodeAt(Se)){case 123:pe++;break;case 125:pe--;break;case 47:switch(Z=H.charCodeAt(Se+1)){case 42:case 47:e:{for(Oe=Se+1;Oe<fe;++Oe)switch(H.charCodeAt(Oe)){case 47:if(Z===42&&H.charCodeAt(Oe-1)===42&&Se+2!==Oe){Se=Oe+1;break e}break;case 10:if(Z===47){Se=Oe+1;break e}}Se=Oe}}break;case 91:Z++;case 40:Z++;case 34:case 39:for(;Se++<fe&&H.charCodeAt(Se)!==Z;);}if(pe===0)break;Se++}switch(pe=H.substring(se,Se),X===0&&(X=(ce=ce.replace(f,"").trim()).charCodeAt(0)),X){case 64:switch(0<ee&&(ce=ce.replace(d,"")),Z=ce.charCodeAt(1),Z){case 100:case 109:case 115:case 45:ee=C;break;default:ee=I}if(pe=e(C,ee,pe,Z,T+1),se=pe.length,0<$&&(ee=r(I,ce,ie),re=a(3,pe,ee,C,A,L,se,Z,T,P),ce=ee.join(""),re!==void 0&&(se=(pe=re.trim()).length)===0&&(Z=0,pe="")),0<se)switch(Z){case 115:ce=ce.replace(M,s);case 100:case 109:case 45:pe=ce+"{"+pe+"}";break;case 107:ce=ce.replace(v,"$1 $2"),pe=ce+"{"+pe+"}",pe=E===1||E===2&&o("@"+pe,3)?"@-webkit-"+pe+"@"+pe:"@"+pe;break;default:pe=ce+pe,P===112&&(pe=(Q+=pe,""))}else pe="";break;default:pe=e(C,r(C,ce,ie),pe,P,T+1)}te+=pe,pe=ie=ee=Oe=X=0,ce="",Z=H.charCodeAt(++Se);break;case 125:case 59:if(ce=(0<ee?ce.replace(d,""):ce).trim(),1<(se=ce.length))switch(Oe===0&&(X=ce.charCodeAt(0),X===45||96<X&&123>X)&&(se=(ce=ce.replace(" ",":")).length),0<$&&(re=a(1,ce,C,_,A,L,Q.length,P,T,P))!==void 0&&(se=(ce=re.trim()).length)===0&&(ce="\0\0"),X=ce.charCodeAt(0),Z=ce.charCodeAt(1),X){case 0:break;case 64:if(Z===105||Z===99){ne+=ce+H.charAt(Se);break}default:ce.charCodeAt(se-1)!==58&&(Q+=i(ce,X,Z,ce.charCodeAt(2)))}ie=ee=Oe=X=0,ce="",Z=H.charCodeAt(++Se)}}switch(Z){case 13:case 10:q===47?q=0:1+X===0&&P!==107&&0<ce.length&&(ee=1,ce+="\0"),0<$*j&&a(0,ce,C,_,A,L,Q.length,P,T,P),L=1,A++;break;case 59:case 125:if(q+K+W+z===0){L++;break}default:switch(L++,_e=H.charAt(Se),Z){case 9:case 32:if(K+z+q===0)switch(ge){case 44:case 58:case 9:case 32:_e="";break;default:Z!==32&&(_e=" ")}break;case 0:_e="\\0";break;case 12:_e="\\f";break;case 11:_e="\\v";break;case 38:K+q+z===0&&(ee=ie=1,_e="\f"+_e);break;case 108:if(K+q+z+b===0&&0<Oe)switch(Se-Oe){case 2:ge===112&&H.charCodeAt(Se-3)===58&&(b=ge);case 8:le===111&&(b=le)}break;case 58:K+q+z===0&&(Oe=Se);break;case 44:q+W+K+z===0&&(ee=1,_e+="\r");break;case 34:case 39:q===0&&(K=K===Z?0:K===0?Z:K);break;case 91:K+q+W===0&&z++;break;case 93:K+q+W===0&&z--;break;case 41:K+q+z===0&&W--;break;case 40:if(K+q+z===0){if(X===0)switch(2*ge+3*le){case 533:break;default:X=1}W++}break;case 64:q+W+K+z+Oe+pe===0&&(pe=1);break;case 42:case 47:if(!(0<K+z+W))switch(q){case 0:switch(2*Z+3*H.charCodeAt(Se+1)){case 235:q=47;break;case 220:se=Se,q=42}break;case 42:Z===47&&ge===42&&se+2!==Se&&(H.charCodeAt(se+2)===33&&(Q+=H.substring(se,Se+1)),_e="",q=0)}}q===0&&(ce+=_e)}le=ge,ge=Z,Se++}if(se=Q.length,0<se){if(ee=C,0<$&&(re=a(2,Q,ee,_,A,L,se,P,T,P),re!==void 0&&(Q=re).length===0))return ne+Q+te;if(Q=ee.join(",")+"{"+Q+"}",E*b!==0){switch(E!==2||o(Q,2)||(b=0),b){case 111:Q=Q.replace(w,":-moz-$1")+Q;break;case 112:Q=Q.replace(S,"::-webkit-input-$1")+Q.replace(S,"::-moz-$1")+Q.replace(S,":-ms-input-$1")+Q}b=0}}return ne+Q+te}function r(_,C,H){var P=C.trim().split(y);C=P;var T=P.length,z=_.length;switch(z){case 0:case 1:var q=0;for(_=z===0?"":_[0]+" ";q<T;++q)C[q]=n(_,C[q],H).trim();break;default:var W=q=0;for(C=[];q<T;++q)for(var K=0;K<z;++K)C[W++]=n(_[K]+" ",P[q],H).trim()}return C}function n(_,C,H){var P=C.charCodeAt(0);switch(33>P&&(P=(C=C.trim()).charCodeAt(0)),P){case 38:return C.replace(g,"$1"+_.trim());case 58:return _.trim()+C.replace(g,"$1"+_.trim());default:if(0<1*H&&0<C.indexOf("\f"))return C.replace(g,(_.charCodeAt(0)===58?"":"$1")+_.trim())}return _+C}function i(_,C,H,P){var T=_+";",z=2*C+3*H+4*P;if(z===944){_=T.indexOf(":",9)+1;var q=T.substring(_,T.length-1).trim();return q=T.substring(0,_).trim()+q+";",E===1||E===2&&o(q,1)?"-webkit-"+q+q:q}if(E===0||E===2&&!o(T,1))return T;switch(z){case 1015:return T.charCodeAt(10)===97?"-webkit-"+T+T:T;case 951:return T.charCodeAt(3)===116?"-webkit-"+T+T:T;case 963:return T.charCodeAt(5)===110?"-webkit-"+T+T:T;case 1009:if(T.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+T+T;case 978:return"-webkit-"+T+"-moz-"+T+T;case 1019:case 983:return"-webkit-"+T+"-moz-"+T+"-ms-"+T+T;case 883:if(T.charCodeAt(8)===45)return"-webkit-"+T+T;if(0<T.indexOf("image-set(",11))return T.replace(O,"$1-webkit-$2")+T;break;case 932:if(T.charCodeAt(4)===45)switch(T.charCodeAt(5)){case 103:return"-webkit-box-"+T.replace("-grow","")+"-webkit-"+T+"-ms-"+T.replace("grow","positive")+T;case 115:return"-webkit-"+T+"-ms-"+T.replace("shrink","negative")+T;case 98:return"-webkit-"+T+"-ms-"+T.replace("basis","preferred-size")+T}return"-webkit-"+T+"-ms-"+T+T;case 964:return"-webkit-"+T+"-ms-flex-"+T+T;case 1023:if(T.charCodeAt(8)!==99)break;return q=T.substring(T.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+q+"-webkit-"+T+"-ms-flex-pack"+q+T;case 1005:return p.test(T)?T.replace(h,":-webkit-")+T.replace(h,":-moz-")+T:T;case 1e3:switch(q=T.substring(13).trim(),C=q.indexOf("-")+1,q.charCodeAt(0)+q.charCodeAt(C)){case 226:q=T.replace(x,"tb");break;case 232:q=T.replace(x,"tb-rl");break;case 220:q=T.replace(x,"lr");break;default:return T}return"-webkit-"+T+"-ms-"+q+T;case 1017:if(T.indexOf("sticky",9)===-1)break;case 975:switch(C=(T=_).length-10,q=(T.charCodeAt(C)===33?T.substring(0,C):T).substring(_.indexOf(":",7)+1).trim(),z=q.charCodeAt(0)+(q.charCodeAt(7)|0)){case 203:if(111>q.charCodeAt(8))break;case 115:T=T.replace(q,"-webkit-"+q)+";"+T;break;case 207:case 102:T=T.replace(q,"-webkit-"+(102<z?"inline-":"")+"box")+";"+T.replace(q,"-webkit-"+q)+";"+T.replace(q,"-ms-"+q+"box")+";"+T}return T+";";case 938:if(T.charCodeAt(5)===45)switch(T.charCodeAt(6)){case 105:return q=T.replace("-items",""),"-webkit-"+T+"-webkit-box-"+q+"-ms-flex-"+q+T;case 115:return"-webkit-"+T+"-ms-flex-item-"+T.replace(N,"")+T;default:return"-webkit-"+T+"-ms-flex-line-pack"+T.replace("align-content","").replace(N,"")+T}break;case 973:case 989:if(T.charCodeAt(3)!==45||T.charCodeAt(4)===122)break;case 931:case 953:if(D.test(_)===!0)return(q=_.substring(_.indexOf(":")+1)).charCodeAt(0)===115?i(_.replace("stretch","fill-available"),C,H,P).replace(":fill-available",":stretch"):T.replace(q,"-webkit-"+q)+T.replace(q,"-moz-"+q.replace("fill-",""))+T;break;case 962:if(T="-webkit-"+T+(T.charCodeAt(5)===102?"-ms-"+T:"")+T,H+P===211&&T.charCodeAt(13)===105&&0<T.indexOf("transform",10))return T.substring(0,T.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+T}return T}function o(_,C){var H=_.indexOf(C===1?":":"{"),P=_.substring(0,C!==3?H:10);return H=_.substring(H+1,_.length-1),B(C!==2?P:P.replace(U,"$1"),H,C)}function s(_,C){var H=i(C,C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2));return H!==C+";"?H.replace(k," or ($1)").substring(4):"("+C+")"}function a(_,C,H,P,T,z,q,W,K,X){for(var Z=0,ge=C,le;Z<$;++Z)switch(le=F[Z].call(u,_,ge,H,P,T,z,q,W,K,X)){case void 0:case!1:case!0:case null:break;default:ge=le}if(ge!==C)return ge}function c(_){switch(_){case void 0:case null:$=F.length=0;break;default:if(typeof _=="function")F[$++]=_;else if(typeof _=="object")for(var C=0,H=_.length;C<H;++C)c(_[C]);else j=!!_|0}return c}function l(_){return _=_.prefix,_!==void 0&&(B=null,_?typeof _!="function"?E=1:(E=2,B=_):E=0),l}function u(_,C){var H=_;if(33>H.charCodeAt(0)&&(H=H.trim()),R=H,H=[R],0<$){var P=a(-1,C,H,H,A,L,0,0,0,0);P!==void 0&&typeof P=="string"&&(C=P)}var T=e(I,H,C,0,0);return 0<$&&(P=a(-2,T,H,H,A,L,T.length,0,0,0),P!==void 0&&(T=P)),R="",b=0,L=A=1,T}var f=/^\0+/g,d=/[\0\r\f]/g,h=/: */g,p=/zoo|gra/,m=/([,: ])(transform)/g,y=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,S=/::(place)/g,w=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,M=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,N=/-self|flex-/g,U=/[^]*?(:[rp][el]a[\w-]+)[^]*/,D=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,L=1,A=1,b=0,E=1,I=[],F=[],$=0,B=null,j=0,R="";return u.use=c,u.set=l,t!==void 0&&l(t),u}var HF={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function kk(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var VF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,v0=kk(function(t){return VF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),y0={},WF={get exports(){return y0},set exports(t){y0=t}},wt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr=typeof Symbol=="function"&&Symbol.for,P1=mr?Symbol.for("react.element"):60103,A1=mr?Symbol.for("react.portal"):60106,pp=mr?Symbol.for("react.fragment"):60107,mp=mr?Symbol.for("react.strict_mode"):60108,gp=mr?Symbol.for("react.profiler"):60114,vp=mr?Symbol.for("react.provider"):60109,yp=mr?Symbol.for("react.context"):60110,k1=mr?Symbol.for("react.async_mode"):60111,bp=mr?Symbol.for("react.concurrent_mode"):60111,wp=mr?Symbol.for("react.forward_ref"):60112,_p=mr?Symbol.for("react.suspense"):60113,GF=mr?Symbol.for("react.suspense_list"):60120,Sp=mr?Symbol.for("react.memo"):60115,xp=mr?Symbol.for("react.lazy"):60116,KF=mr?Symbol.for("react.block"):60121,QF=mr?Symbol.for("react.fundamental"):60117,JF=mr?Symbol.for("react.responder"):60118,YF=mr?Symbol.for("react.scope"):60119;function pn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case P1:switch(t=t.type,t){case k1:case bp:case pp:case gp:case mp:case _p:return t;default:switch(t=t&&t.$$typeof,t){case yp:case wp:case xp:case Sp:case vp:return t;default:return e}}case A1:return e}}}function Tk(t){return pn(t)===bp}wt.AsyncMode=k1;wt.ConcurrentMode=bp;wt.ContextConsumer=yp;wt.ContextProvider=vp;wt.Element=P1;wt.ForwardRef=wp;wt.Fragment=pp;wt.Lazy=xp;wt.Memo=Sp;wt.Portal=A1;wt.Profiler=gp;wt.StrictMode=mp;wt.Suspense=_p;wt.isAsyncMode=function(t){return Tk(t)||pn(t)===k1};wt.isConcurrentMode=Tk;wt.isContextConsumer=function(t){return pn(t)===yp};wt.isContextProvider=function(t){return pn(t)===vp};wt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===P1};wt.isForwardRef=function(t){return pn(t)===wp};wt.isFragment=function(t){return pn(t)===pp};wt.isLazy=function(t){return pn(t)===xp};wt.isMemo=function(t){return pn(t)===Sp};wt.isPortal=function(t){return pn(t)===A1};wt.isProfiler=function(t){return pn(t)===gp};wt.isStrictMode=function(t){return pn(t)===mp};wt.isSuspense=function(t){return pn(t)===_p};wt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pp||t===bp||t===gp||t===mp||t===_p||t===GF||typeof t=="object"&&t!==null&&(t.$$typeof===xp||t.$$typeof===Sp||t.$$typeof===vp||t.$$typeof===yp||t.$$typeof===wp||t.$$typeof===QF||t.$$typeof===JF||t.$$typeof===YF||t.$$typeof===KF)};wt.typeOf=pn;(function(t){t.exports=wt})(WF);var T1=y0,XF={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZF={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},e9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ck={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},C1={};C1[T1.ForwardRef]=e9;C1[T1.Memo]=Ck;function ox(t){return T1.isMemo(t)?Ck:C1[t.$$typeof]||XF}var t9=Object.defineProperty,r9=Object.getOwnPropertyNames,sx=Object.getOwnPropertySymbols,n9=Object.getOwnPropertyDescriptor,i9=Object.getPrototypeOf,ax=Object.prototype;function Ok(t,e,r){if(typeof e!="string"){if(ax){var n=i9(e);n&&n!==ax&&Ok(t,n,r)}var i=r9(e);sx&&(i=i.concat(sx(e)));for(var o=ox(t),s=ox(e),a=0;a<i.length;++a){var c=i[a];if(!ZF[c]&&!(r&&r[c])&&!(s&&s[c])&&!(o&&o[c])){var l=n9(e,c);try{t9(t,c,l)}catch{}}}}return t}var o9=Ok;function Qi(){return(Qi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var lx=function(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r},b0=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!eh.typeOf(t)},th=Object.freeze([]),Qo=Object.freeze({});function iu(t){return typeof t=="function"}function cx(t){return t.displayName||t.name||"Component"}function O1(t){return t&&typeof t.styledComponentId=="string"}var hl=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",M1=typeof window<"u"&&"HTMLElement"in window,s9=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1);function Lu(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var a9=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}var e=t.prototype;return e.indexOfGroup=function(r){for(var n=0,i=0;i<r;i++)n+=this.groupSizes[i];return n},e.insertRules=function(r,n){if(r>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,s=o;r>=s;)(s<<=1)<0&&Lu(16,""+r);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var a=o;a<s;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(r+1),l=0,u=n.length;l<u;l++)this.tag.insertRule(c,n[l])&&(this.groupSizes[r]++,c++)},e.clearGroup=function(r){if(r<this.length){var n=this.groupSizes[r],i=this.indexOfGroup(r),o=i+n;this.groupSizes[r]=0;for(var s=i;s<o;s++)this.tag.deleteRule(i)}},e.getGroup=function(r){var n="";if(r>=this.length||this.groupSizes[r]===0)return n;for(var i=this.groupSizes[r],o=this.indexOfGroup(r),s=o+i,a=o;a<s;a++)n+=this.tag.getRule(a)+`/*!sc*/
`;return n},t}(),nd=new Map,rh=new Map,Tc=1,Af=function(t){if(nd.has(t))return nd.get(t);for(;rh.has(Tc);)Tc++;var e=Tc++;return nd.set(t,e),rh.set(e,t),e},l9=function(t){return rh.get(t)},c9=function(t,e){e>=Tc&&(Tc=e+1),nd.set(t,e),rh.set(e,t)},u9="style["+hl+'][data-styled-version="5.3.5"]',f9=new RegExp("^"+hl+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),d9=function(t,e,r){for(var n,i=r.split(","),o=0,s=i.length;o<s;o++)(n=i[o])&&t.registerName(e,n)},h9=function(t,e){for(var r=(e.textContent||"").split(`/*!sc*/
`),n=[],i=0,o=r.length;i<o;i++){var s=r[i].trim();if(s){var a=s.match(f9);if(a){var c=0|parseInt(a[1],10),l=a[2];c!==0&&(c9(l,c),d9(t,l,a[3]),t.getTag().insertRules(c,n)),n.length=0}else n.push(s)}}},p9=function(){return typeof window<"u"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},Mk=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(a){for(var c=a.childNodes,l=c.length;l>=0;l--){var u=c[l];if(u&&u.nodeType===1&&u.hasAttribute(hl))return u}}(r),o=i!==void 0?i.nextSibling:null;n.setAttribute(hl,"active"),n.setAttribute("data-styled-version","5.3.5");var s=p9();return s&&n.setAttribute("nonce",s),r.insertBefore(n,o),n},m9=function(){function t(r){var n=this.element=Mk(r);n.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var o=document.styleSheets,s=0,a=o.length;s<a;s++){var c=o[s];if(c.ownerNode===i)return c}Lu(17)}(n),this.length=0}var e=t.prototype;return e.insertRule=function(r,n){try{return this.sheet.insertRule(n,r),this.length++,!0}catch{return!1}},e.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},e.getRule=function(r){var n=this.sheet.cssRules[r];return n!==void 0&&typeof n.cssText=="string"?n.cssText:""},t}(),g9=function(){function t(r){var n=this.element=Mk(r);this.nodes=n.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(r,n){if(r<=this.length&&r>=0){var i=document.createTextNode(n),o=this.nodes[r];return this.element.insertBefore(i,o||null),this.length++,!0}return!1},e.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},e.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),v9=function(){function t(r){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(r,n){return r<=this.length&&(this.rules.splice(r,0,n),this.length++,!0)},e.deleteRule=function(r){this.rules.splice(r,1),this.length--},e.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),ux=M1,y9={isServer:!M1,useCSSOMInjection:!s9},Nk=function(){function t(r,n,i){r===void 0&&(r=Qo),n===void 0&&(n={}),this.options=Qi({},y9,{},r),this.gs=n,this.names=new Map(i),this.server=!!r.isServer,!this.server&&M1&&ux&&(ux=!1,function(o){for(var s=document.querySelectorAll(u9),a=0,c=s.length;a<c;a++){var l=s[a];l&&l.getAttribute(hl)!=="active"&&(h9(o,l),l.parentNode&&l.parentNode.removeChild(l))}}(this))}t.registerId=function(r){return Af(r)};var e=t.prototype;return e.reconstructWithOptions=function(r,n){return n===void 0&&(n=!0),new t(Qi({},this.options,{},r),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(n=this.options).isServer,o=n.useCSSOMInjection,s=n.target,r=i?new v9(s):o?new m9(s):new g9(s),new a9(r)));var r,n,i,o,s},e.hasNameForId=function(r,n){return this.names.has(r)&&this.names.get(r).has(n)},e.registerName=function(r,n){if(Af(r),this.names.has(r))this.names.get(r).add(n);else{var i=new Set;i.add(n),this.names.set(r,i)}},e.insertRules=function(r,n,i){this.registerName(r,n),this.getTag().insertRules(Af(r),i)},e.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},e.clearRules=function(r){this.getTag().clearGroup(Af(r)),this.clearNames(r)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(r){for(var n=r.getTag(),i=n.length,o="",s=0;s<i;s++){var a=l9(s);if(a!==void 0){var c=r.names.get(a),l=n.getGroup(s);if(c&&l&&c.size){var u=hl+".g"+s+'[id="'+a+'"]',f="";c!==void 0&&c.forEach(function(d){d.length>0&&(f+=d+",")}),o+=""+l+u+'{content:"'+f+`"}/*!sc*/
`}}}return o}(this)},t}(),b9=/(a)(d)/gi,fx=function(t){return String.fromCharCode(t+(t>25?39:97))};function w0(t){var e,r="";for(e=Math.abs(t);e>52;e=e/52|0)r=fx(e%52)+r;return(fx(e%52)+r).replace(b9,"$1-$2")}var Ba=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},Ik=function(t){return Ba(5381,t)};function w9(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(iu(r)&&!O1(r))return!1}return!0}var _9=Ik("5.3.5"),S9=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&w9(e),this.componentId=r,this.baseHash=Ba(_9,r),this.baseStyle=n,Nk.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,r,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var s=pl(this.rules,e,r,n).join(""),a=w0(Ba(this.baseHash,s)>>>0);if(!r.hasNameForId(i,a)){var c=n(s,"."+a,void 0,i);r.insertRules(i,a,c)}o.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,u=Ba(this.baseHash,n.hash),f="",d=0;d<l;d++){var h=this.rules[d];if(typeof h=="string")f+=h;else if(h){var p=pl(h,e,r,n),m=Array.isArray(p)?p.join(""):p;u=Ba(u,m+d),f+=m}}if(f){var y=w0(u>>>0);if(!r.hasNameForId(i,y)){var g=n(f,"."+y,void 0,i);r.insertRules(i,y,g)}o.push(y)}}return o.join(" ")},t}(),x9=/^\s*\/\/.*$/gm,E9=[":","[",".","#"];function R9(t){var e,r,n,i,o=t===void 0?Qo:t,s=o.options,a=s===void 0?Qo:s,c=o.plugins,l=c===void 0?th:c,u=new qF(a),f=[],d=function(m){function y(g){if(g)try{m(g+"}")}catch{}}return function(g,v,S,w,x,M,k,N,U,D){switch(g){case 1:if(U===0&&v.charCodeAt(0)===64)return m(v+";"),"";break;case 2:if(N===0)return v+"/*|*/";break;case 3:switch(N){case 102:case 112:return m(S[0]+v),"";default:return v+(D===0?"/*|*/":"")}case-2:v.split("/*|*/}").forEach(y)}}}(function(m){f.push(m)}),h=function(m,y,g){return y===0&&E9.indexOf(g[r.length])!==-1||g.match(i)?m:"."+e};function p(m,y,g,v){v===void 0&&(v="&");var S=m.replace(x9,""),w=y&&g?g+" "+y+" { "+S+" }":S;return e=v,r=y,n=new RegExp("\\"+r+"\\b","g"),i=new RegExp("(\\"+r+"\\b){2,}"),u(g||!y?"":y,w)}return u.use([].concat(l,[function(m,y,g){m===2&&g.length&&g[0].lastIndexOf(r)>0&&(g[0]=g[0].replace(n,h))},d,function(m){if(m===-2){var y=f;return f=[],y}}])),p.hash=l.length?l.reduce(function(m,y){return y.name||Lu(15),Ba(m,y.name)},5381).toString():"",p}var Dk=ze.createContext();Dk.Consumer;var Lk=ze.createContext(),P9=(Lk.Consumer,new Nk),_0=R9();function A9(){return G.useContext(Dk)||P9}function k9(){return G.useContext(Lk)||_0}var Bk=function(){function t(e,r){var n=this;this.inject=function(i,o){o===void 0&&(o=_0);var s=n.name+o.hash;i.hasNameForId(n.id,s)||i.insertRules(n.id,s,o(n.rules,s,"@keyframes"))},this.toString=function(){return Lu(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=r}return t.prototype.getName=function(e){return e===void 0&&(e=_0),this.name+e.hash},t}(),T9=/([A-Z])/,C9=/([A-Z])/g,O9=/^ms-/,M9=function(t){return"-"+t.toLowerCase()};function dx(t){return T9.test(t)?t.replace(C9,M9).replace(O9,"-ms-"):t}var hx=function(t){return t==null||t===!1||t===""};function pl(t,e,r,n){if(Array.isArray(t)){for(var i,o=[],s=0,a=t.length;s<a;s+=1)(i=pl(t[s],e,r,n))!==""&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}if(hx(t))return"";if(O1(t))return"."+t.styledComponentId;if(iu(t)){if(typeof(l=t)!="function"||l.prototype&&l.prototype.isReactComponent||!e)return t;var c=t(e);return pl(c,e,r,n)}var l;return t instanceof Bk?r?(t.inject(r,n),t.getName(n)):t:b0(t)?function u(f,d){var h,p,m=[];for(var y in f)f.hasOwnProperty(y)&&!hx(f[y])&&(Array.isArray(f[y])&&f[y].isCss||iu(f[y])?m.push(dx(y)+":",f[y],";"):b0(f[y])?m.push.apply(m,u(f[y],y)):m.push(dx(y)+": "+(h=y,(p=f[y])==null||typeof p=="boolean"||p===""?"":typeof p!="number"||p===0||h in HF?String(p).trim():p+"px")+";"));return d?[d+" {"].concat(m,["}"]):m}(t):t.toString()}var px=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function $k(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return iu(t)||b0(t)?px(pl(lx(th,[t].concat(r)))):r.length===0&&t.length===1&&typeof t[0]=="string"?t:px(pl(lx(t,r)))}var N9=function(t,e,r){return r===void 0&&(r=Qo),t.theme!==r.theme&&t.theme||e||r.theme},I9=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,D9=/(^-|-$)/g;function Ng(t){return t.replace(I9,"-").replace(D9,"")}var Fk=function(t){return w0(Ik(t)>>>0)};function kf(t){return typeof t=="string"&&!0}var S0=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},L9=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function B9(t,e,r){var n=t[r];S0(e)&&S0(n)?jk(n,e):t[r]=e}function jk(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var i=0,o=r;i<o.length;i++){var s=o[i];if(S0(s))for(var a in s)L9(a)&&B9(t,s[a],a)}return t}var Uk=ze.createContext();Uk.Consumer;var Ig={};function zk(t,e,r){var n=O1(t),i=!kf(t),o=e.attrs,s=o===void 0?th:o,a=e.componentId,c=a===void 0?function(v,S){var w=typeof v!="string"?"sc":Ng(v);Ig[w]=(Ig[w]||0)+1;var x=w+"-"+Fk("5.3.5"+w+Ig[w]);return S?S+"-"+x:x}(e.displayName,e.parentComponentId):a,l=e.displayName,u=l===void 0?function(v){return kf(v)?"styled."+v:"Styled("+cx(v)+")"}(t):l,f=e.displayName&&e.componentId?Ng(e.displayName)+"-"+e.componentId:e.componentId||c,d=n&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,h=e.shouldForwardProp;n&&t.shouldForwardProp&&(h=e.shouldForwardProp?function(v,S,w){return t.shouldForwardProp(v,S,w)&&e.shouldForwardProp(v,S,w)}:t.shouldForwardProp);var p,m=new S9(r,f,n?t.componentStyle:void 0),y=m.isStatic&&s.length===0,g=function(v,S){return function(w,x,M,k){var N=w.attrs,U=w.componentStyle,D=w.defaultProps,O=w.foldedComponentIds,L=w.shouldForwardProp,A=w.styledComponentId,b=w.target,E=function(P,T,z){P===void 0&&(P=Qo);var q=Qi({},T,{theme:P}),W={};return z.forEach(function(K){var X,Z,ge,le=K;for(X in iu(le)&&(le=le(q)),le)q[X]=W[X]=X==="className"?(Z=W[X],ge=le[X],Z&&ge?Z+" "+ge:Z||ge):le[X]}),[q,W]}(N9(x,G.useContext(Uk),D)||Qo,x,N),I=E[0],F=E[1],$=function(P,T,z,q){var W=A9(),K=k9(),X=T?P.generateAndInjectStyles(Qo,W,K):P.generateAndInjectStyles(z,W,K);return X}(U,k,I),B=M,j=F.$as||x.$as||F.as||x.as||b,R=kf(j),_=F!==x?Qi({},x,{},F):x,C={};for(var H in _)H[0]!=="$"&&H!=="as"&&(H==="forwardedAs"?C.as=_[H]:(L?L(H,v0,j):!R||v0(H))&&(C[H]=_[H]));return x.style&&F.style!==x.style&&(C.style=Qi({},x.style,{},F.style)),C.className=Array.prototype.concat(O,A,$!==A?$:null,x.className,F.className).filter(Boolean).join(" "),C.ref=B,G.createElement(j,C)}(p,v,S,y)};return g.displayName=u,(p=ze.forwardRef(g)).attrs=d,p.componentStyle=m,p.displayName=u,p.shouldForwardProp=h,p.foldedComponentIds=n?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):th,p.styledComponentId=f,p.target=n?t.target:t,p.withComponent=function(v){var S=e.componentId,w=function(M,k){if(M==null)return{};var N,U,D={},O=Object.keys(M);for(U=0;U<O.length;U++)N=O[U],k.indexOf(N)>=0||(D[N]=M[N]);return D}(e,["componentId"]),x=S&&S+"-"+(kf(v)?v:Ng(cx(v)));return zk(v,Qi({},w,{attrs:d,componentId:x}),r)},Object.defineProperty(p,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=n?jk({},t.defaultProps,v):v}}),p.toString=function(){return"."+p.styledComponentId},i&&o9(p,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),p}var x0=function(t){return function e(r,n,i){if(i===void 0&&(i=Qo),!eh.isValidElementType(n))return Lu(1,String(n));var o=function(){return r(n,i,$k.apply(void 0,arguments))};return o.withConfig=function(s){return e(r,n,Qi({},i,{},s))},o.attrs=function(s){return e(r,n,Qi({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},o}(zk,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){x0[t]=x0(t)});function N1(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=$k.apply(void 0,[t].concat(r)).join(""),o=Fk(i);return new Bk(o,i)}const Bu=x0;var qk=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Vn=242.776657104492,$9=1.6,F9=N1(mx||(mx=qk([`
  12.5% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  43.75% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  100% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
`],[`
  12.5% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  43.75% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  100% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
`])),Vn*.14,Vn,Vn*.11,Vn*.35,Vn,Vn*.35,Vn*.01,Vn,Vn*.99);Bu.path(gx||(gx=qk([`
  stroke-dasharray: `,"px, ",`;
  stroke-dashoffset: 0;
  animation: `," ",`s linear infinite;
`],[`
  stroke-dasharray: `,"px, ",`;
  stroke-dashoffset: 0;
  animation: `," ",`s linear infinite;
`])),Vn*.01,Vn,F9,$9);var mx,gx,vx=globalThis&&globalThis.__assign||function(){return vx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vx.apply(this,arguments)},yx=globalThis&&globalThis.__assign||function(){return yx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yx.apply(this,arguments)},bx=globalThis&&globalThis.__assign||function(){return bx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},bx.apply(this,arguments)},wx=globalThis&&globalThis.__assign||function(){return wx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wx.apply(this,arguments)},_x=globalThis&&globalThis.__assign||function(){return _x=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_x.apply(this,arguments)},Sx=globalThis&&globalThis.__assign||function(){return Sx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sx.apply(this,arguments)},xx=globalThis&&globalThis.__assign||function(){return xx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xx.apply(this,arguments)},j9=function(e,r){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof n[e]<"u")return n[e];if(e&&e.indexOf(".")>0){for(var i=e.split("."),o=i.length,s=n[i[0]],a=1;s!=null&&a<o;)s=s[i[a]],a+=1;if(typeof s<"u")return s}return r}},I1=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Ex=globalThis&&globalThis.__assign||function(){return Ex=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ex.apply(this,arguments)},U9=N1(Rx||(Rx=I1([`
 to {
    transform: rotate(360deg);
  }
`],[`
 to {
    transform: rotate(360deg);
  }
`])));Bu.svg(Px||(Px=I1([`
  animation: `,` 0.75s steps(12, end) infinite;
  animation-duration: `,`s;
`],[`
  animation: `,` 0.75s steps(12, end) infinite;
  animation-duration: `,`s;
`])),U9,j9("speed","0.75"));Bu.polyline(Ax||(Ax=I1([`
  stroke-width: `,`px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`],[`
  stroke-width: `,`px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`])),function(t){return t.width});var Rx,Px,Ax,kx=globalThis&&globalThis.__assign||function(){return kx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},kx.apply(this,arguments)},Tx=globalThis&&globalThis.__assign||function(){return Tx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tx.apply(this,arguments)},Cx=globalThis&&globalThis.__assign||function(){return Cx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cx.apply(this,arguments)},D1=globalThis&&globalThis.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Ox=globalThis&&globalThis.__assign||function(){return Ox=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ox.apply(this,arguments)},z9=N1(Mx||(Mx=D1([`
 to {
    stroke-dashoffset: 136;
  }
`],[`
 to {
    stroke-dashoffset: 136;
  }
`])));Bu.polygon(Nx||(Nx=D1([`
  stroke-dasharray: 17;
  animation: `,` 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`],[`
  stroke-dasharray: 17;
  animation: `,` 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`])),z9);Bu.svg(Ix||(Ix=D1([`
  transform-origin: 50% 65%;
`],[`
  transform-origin: 50% 65%;
`])));var Mx,Nx,Ix,Dx=globalThis&&globalThis.__assign||function(){return Dx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Dx.apply(this,arguments)},Lx=globalThis&&globalThis.__assign||function(){return Lx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Lx.apply(this,arguments)},Bx=globalThis&&globalThis.__assign||function(){return Bx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bx.apply(this,arguments)},$x=globalThis&&globalThis.__assign||function(){return $x=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$x.apply(this,arguments)},Fx=globalThis&&globalThis.__assign||function(){return Fx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fx.apply(this,arguments)},jx=globalThis&&globalThis.__assign||function(){return jx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jx.apply(this,arguments)},Ux=globalThis&&globalThis.__assign||function(){return Ux=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ux.apply(this,arguments)},zx=globalThis&&globalThis.__assign||function(){return zx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zx.apply(this,arguments)},qx=globalThis&&globalThis.__assign||function(){return qx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qx.apply(this,arguments)},Hx=globalThis&&globalThis.__assign||function(){return Hx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hx.apply(this,arguments)},Vx=globalThis&&globalThis.__assign||function(){return Vx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vx.apply(this,arguments)},Wx=globalThis&&globalThis.__assign||function(){return Wx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wx.apply(this,arguments)},Gx=globalThis&&globalThis.__assign||function(){return Gx=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gx.apply(this,arguments)};const q9=()=>{const t=Ls(r=>r.stream);Ls(r=>r.isCamPaused);const e=G.useRef(null);return G.useEffect(()=>{e.current&&(e.current.srcObject=t),console.log({stream:t})},[t]),V("video",{style:{width:"100%"},ref:e,autoPlay:!0,muted:!0,playsInline:!0})},H9=({peerIdAtIndex:t})=>{var s,a;const e=G.useRef(null),r=G.useRef(null),n=(s=Ls(G.useCallback(c=>{var l,u;return(u=(l=c.peers[t])==null?void 0:l.consumers)==null?void 0:u.cam},[t])))==null?void 0:s.track,i=(a=Ls(G.useCallback(c=>{var l,u;return(u=(l=c.peers[t])==null?void 0:l.consumers)==null?void 0:u.mic},[t])))==null?void 0:a.track,o=c=>{const l=new MediaStream;return l.addTrack(c),l};return G.useEffect(()=>{const c=e.current;return c&&n&&(c.load(),c.srcObject=o(n),c.play().catch(l=>{console.log({message:"Error playing video",meta:{err:l}})})),()=>{c&&(c==null||c.pause(),c.srcObject=null)}},[n]),G.useEffect(()=>{i&&r.current&&(r.current.srcObject=o(i))},[i]),Ee("div",{style:{width:"100%"},children:[V("video",{ref:e,muted:!0,autoPlay:!0,playsInline:!0,style:{width:"100%"}}),V("audio",{ref:r,autoPlay:!0,playsInline:!0,controls:!1})]})},V9=ze.memo(H9);var Cc={},W9={get exports(){return Cc},set exports(t){Cc=t}},G9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",K9=G9,Q9=K9;function Hk(){}function Vk(){}Vk.resetWarningCache=Hk;var J9=function(){function t(n,i,o,s,a,c){if(c!==Q9){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Vk,resetWarningCache:Hk};return r.PropTypes=r,r};W9.exports=J9();function kt(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ve(){return ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ve.apply(this,arguments)}function ps(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Wk(t){if(!ps(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=Wk(t[r])}),e}function Yi(t,e,r={clone:!0}){const n=r.clone?ve({},t):t;return ps(t)&&ps(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(ps(e[i])&&i in t&&ps(t[i])?n[i]=Yi(t[i],e[i],r):r.clone?n[i]=ps(e[i])?Wk(e[i]):e[i]:n[i]=e[i])}),n}function ml(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function mt(t){if(typeof t!="string")throw new Error(ml(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Y9(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function nh(t,e=166){let r;function n(...i){const o=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(o,e)}return n.clear=()=>{clearTimeout(r)},n}function X9(t,e){return()=>null}function Z9(t,e){return G.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function L1(t){return t&&t.ownerDocument||document}function B1(t){return L1(t).defaultView||window}function ej(t,e){return()=>null}function Gk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const tj=typeof window<"u"?G.useLayoutEffect:G.useEffect,Kk=tj;let Kx=0;function rj(t){const[e,r]=G.useState(t),n=t||e;return G.useEffect(()=>{e==null&&(Kx+=1,r(`mui-${Kx}`))},[e]),n}const Qx=Ya["useId"];function nj(t){if(Qx!==void 0){const e=Qx();return t??e}return rj(t)}function ij(t,e,r,n,i){return null}function oj({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=G.useRef(t!==void 0),[o,s]=G.useState(e),a=i?t:o,c=G.useCallback(l=>{i||s(l)},[]);return[a,c]}function Do(t){const e=G.useRef(t);return Kk(()=>{e.current=t}),G.useCallback((...r)=>(0,e.current)(...r),[])}function E0(...t){return G.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{Gk(r,e)})},t)}let Ep=!0,R0=!1,Jx;const sj={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function aj(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&sj[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function lj(t){t.metaKey||t.altKey||t.ctrlKey||(Ep=!0)}function Dg(){Ep=!1}function cj(){this.visibilityState==="hidden"&&R0&&(Ep=!0)}function uj(t){t.addEventListener("keydown",lj,!0),t.addEventListener("mousedown",Dg,!0),t.addEventListener("pointerdown",Dg,!0),t.addEventListener("touchstart",Dg,!0),t.addEventListener("visibilitychange",cj,!0)}function fj(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Ep||aj(e)}function Qk(){const t=G.useCallback(i=>{i!=null&&uj(i.ownerDocument)},[]),e=G.useRef(!1);function r(){return e.current?(R0=!0,window.clearTimeout(Jx),Jx=window.setTimeout(()=>{R0=!1},100),e.current=!1,!0):!1}function n(i){return fj(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}let ga;function Jk(){if(ga)return ga;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),ga="reverse",t.scrollLeft>0?ga="default":(t.scrollLeft=1,t.scrollLeft===0&&(ga="negative")),document.body.removeChild(t),ga}function Yx(t,e){const r=t.scrollLeft;if(e!=="rtl")return r;switch(Jk()){case"negative":return t.scrollWidth-t.clientWidth+r;case"reverse":return t.scrollWidth-t.clientWidth-r;default:return r}}function $1(t,e){const r=ve({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=ve({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=t[n]||{},o=e[n];r[n]={},!o||!Object.keys(o)?r[n]=i:!i||!Object.keys(i)?r[n]=o:(r[n]=ve({},o),Object.keys(i).forEach(s=>{r[n][s]=$1(i[s],o[s])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function ni(t,e,r){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((o,s)=>(s&&(o.push(e(s)),r&&r[s]&&o.push(r[s])),o),[]).join(" ")}),n}const Xx=t=>t,dj=()=>{let t=Xx;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Xx}}},hj=dj(),F1=hj,pj={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Nn(t,e,r="Mui"){const n=pj[e];return n?`${r}-${n}`:`${F1.generate(t)}-${e}`}function ii(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=Nn(t,i,r)}),n}function mj(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function gj(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var vj=function(){function t(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gj(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=mj(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Tr="-ms-",ih="-moz-",lt="-webkit-",Yk="comm",j1="rule",U1="decl",yj="@import",Xk="@keyframes",bj=Math.abs,Rp=String.fromCharCode,wj=Object.assign;function _j(t,e){return _r(t,0)^45?(((e<<2^_r(t,0))<<2^_r(t,1))<<2^_r(t,2))<<2^_r(t,3):0}function Zk(t){return t.trim()}function Sj(t,e){return(t=e.exec(t))?t[0]:t}function pt(t,e,r){return t.replace(e,r)}function P0(t,e){return t.indexOf(e)}function _r(t,e){return t.charCodeAt(e)|0}function ou(t,e,r){return t.slice(e,r)}function bi(t){return t.length}function z1(t){return t.length}function Tf(t,e){return e.push(t),t}function xj(t,e){return t.map(e).join("")}var Pp=1,gl=1,eT=0,Yr=0,Xt=0,Al="";function Ap(t,e,r,n,i,o,s){return{value:t,root:e,parent:r,type:n,props:i,children:o,line:Pp,column:gl,length:s,return:""}}function Xl(t,e){return wj(Ap("",null,null,"",null,null,0),t,{length:-t.length},e)}function Ej(){return Xt}function Rj(){return Xt=Yr>0?_r(Al,--Yr):0,gl--,Xt===10&&(gl=1,Pp--),Xt}function cn(){return Xt=Yr<eT?_r(Al,Yr++):0,gl++,Xt===10&&(gl=1,Pp++),Xt}function Ti(){return _r(Al,Yr)}function id(){return Yr}function $u(t,e){return ou(Al,t,e)}function su(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tT(t){return Pp=gl=1,eT=bi(Al=t),Yr=0,[]}function rT(t){return Al="",t}function od(t){return Zk($u(Yr-1,A0(t===91?t+2:t===40?t+1:t)))}function Pj(t){for(;(Xt=Ti())&&Xt<33;)cn();return su(t)>2||su(Xt)>3?"":" "}function Aj(t,e){for(;--e&&cn()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return $u(t,id()+(e<6&&Ti()==32&&cn()==32))}function A0(t){for(;cn();)switch(Xt){case t:return Yr;case 34:case 39:t!==34&&t!==39&&A0(Xt);break;case 40:t===41&&A0(t);break;case 92:cn();break}return Yr}function kj(t,e){for(;cn()&&t+Xt!==47+10;)if(t+Xt===42+42&&Ti()===47)break;return"/*"+$u(e,Yr-1)+"*"+Rp(t===47?t:cn())}function Tj(t){for(;!su(Ti());)cn();return $u(t,Yr)}function Cj(t){return rT(sd("",null,null,null,[""],t=tT(t),0,[0],t))}function sd(t,e,r,n,i,o,s,a,c){for(var l=0,u=0,f=s,d=0,h=0,p=0,m=1,y=1,g=1,v=0,S="",w=i,x=o,M=n,k=S;y;)switch(p=v,v=cn()){case 40:if(p!=108&&_r(k,f-1)==58){P0(k+=pt(od(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:k+=od(v);break;case 9:case 10:case 13:case 32:k+=Pj(p);break;case 92:k+=Aj(id()-1,7);continue;case 47:switch(Ti()){case 42:case 47:Tf(Oj(kj(cn(),id()),e,r),c);break;default:k+="/"}break;case 123*m:a[l++]=bi(k)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:h>0&&bi(k)-f&&Tf(h>32?eE(k+";",n,r,f-1):eE(pt(k," ","")+";",n,r,f-2),c);break;case 59:k+=";";default:if(Tf(M=Zx(k,e,r,l,u,i,a,S,w=[],x=[],f),o),v===123)if(u===0)sd(k,e,M,M,w,o,f,a,x);else switch(d===99&&_r(k,3)===110?100:d){case 100:case 109:case 115:sd(t,M,M,n&&Tf(Zx(t,M,M,0,0,i,a,S,i,w=[],f),x),i,x,f,a,n?w:x);break;default:sd(k,M,M,M,[""],x,0,a,x)}}l=u=h=0,m=g=1,S=k="",f=s;break;case 58:f=1+bi(k),h=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&Rj()==125)continue}switch(k+=Rp(v),v*m){case 38:g=u>0?1:(k+="\f",-1);break;case 44:a[l++]=(bi(k)-1)*g,g=1;break;case 64:Ti()===45&&(k+=od(cn())),d=Ti(),u=f=bi(S=k+=Tj(id())),v++;break;case 45:p===45&&bi(k)==2&&(m=0)}}return o}function Zx(t,e,r,n,i,o,s,a,c,l,u){for(var f=i-1,d=i===0?o:[""],h=z1(d),p=0,m=0,y=0;p<n;++p)for(var g=0,v=ou(t,f+1,f=bj(m=s[p])),S=t;g<h;++g)(S=Zk(m>0?d[g]+" "+v:pt(v,/&\f/g,d[g])))&&(c[y++]=S);return Ap(t,e,r,i===0?j1:a,c,l,u)}function Oj(t,e,r){return Ap(t,e,r,Yk,Rp(Ej()),ou(t,2,-2),0)}function eE(t,e,r,n){return Ap(t,e,r,U1,ou(t,0,n),ou(t,n+1,-1),n)}function Ka(t,e){for(var r="",n=z1(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function Mj(t,e,r,n){switch(t.type){case yj:case U1:return t.return=t.return||t.value;case Yk:return"";case Xk:return t.return=t.value+"{"+Ka(t.children,n)+"}";case j1:t.value=t.props.join(",")}return bi(r=Ka(t.children,n))?t.return=t.value+"{"+r+"}":""}function Nj(t){var e=z1(t);return function(r,n,i,o){for(var s="",a=0;a<e;a++)s+=t[a](r,n,i,o)||"";return s}}function Ij(t){return function(e){e.root||(e=e.return)&&t(e)}}var Dj=function(e,r,n){for(var i=0,o=0;i=o,o=Ti(),i===38&&o===12&&(r[n]=1),!su(o);)cn();return $u(e,Yr)},Lj=function(e,r){var n=-1,i=44;do switch(su(i)){case 0:i===38&&Ti()===12&&(r[n]=1),e[n]+=Dj(Yr-1,r,n);break;case 2:e[n]+=od(i);break;case 4:if(i===44){e[++n]=Ti()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Rp(i)}while(i=cn());return e},Bj=function(e,r){return rT(Lj(tT(e),r))},tE=new WeakMap,$j=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!tE.get(n))&&!i){tE.set(e,!0);for(var o=[],s=Bj(r,o),a=n.props,c=0,l=0;c<s.length;c++)for(var u=0;u<a.length;u++,l++)e.props[l]=o[c]?s[c].replace(/&\f/g,a[u]):a[u]+" "+s[c]}}},Fj=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function nT(t,e){switch(_j(t,e)){case 5103:return lt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return lt+t+ih+t+Tr+t+t;case 6828:case 4268:return lt+t+Tr+t+t;case 6165:return lt+t+Tr+"flex-"+t+t;case 5187:return lt+t+pt(t,/(\w+).+(:[^]+)/,lt+"box-$1$2"+Tr+"flex-$1$2")+t;case 5443:return lt+t+Tr+"flex-item-"+pt(t,/flex-|-self/,"")+t;case 4675:return lt+t+Tr+"flex-line-pack"+pt(t,/align-content|flex-|-self/,"")+t;case 5548:return lt+t+Tr+pt(t,"shrink","negative")+t;case 5292:return lt+t+Tr+pt(t,"basis","preferred-size")+t;case 6060:return lt+"box-"+pt(t,"-grow","")+lt+t+Tr+pt(t,"grow","positive")+t;case 4554:return lt+pt(t,/([^-])(transform)/g,"$1"+lt+"$2")+t;case 6187:return pt(pt(pt(t,/(zoom-|grab)/,lt+"$1"),/(image-set)/,lt+"$1"),t,"")+t;case 5495:case 3959:return pt(t,/(image-set\([^]*)/,lt+"$1$`$1");case 4968:return pt(pt(t,/(.+:)(flex-)?(.*)/,lt+"box-pack:$3"+Tr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lt+t+t;case 4095:case 3583:case 4068:case 2532:return pt(t,/(.+)-inline(.+)/,lt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bi(t)-1-e>6)switch(_r(t,e+1)){case 109:if(_r(t,e+4)!==45)break;case 102:return pt(t,/(.+:)(.+)-([^]+)/,"$1"+lt+"$2-$3$1"+ih+(_r(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~P0(t,"stretch")?nT(pt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(_r(t,e+1)!==115)break;case 6444:switch(_r(t,bi(t)-3-(~P0(t,"!important")&&10))){case 107:return pt(t,":",":"+lt)+t;case 101:return pt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+lt+(_r(t,14)===45?"inline-":"")+"box$3$1"+lt+"$2$3$1"+Tr+"$2box$3")+t}break;case 5936:switch(_r(t,e+11)){case 114:return lt+t+Tr+pt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return lt+t+Tr+pt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return lt+t+Tr+pt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return lt+t+Tr+t+t}return t}var jj=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case U1:e.return=nT(e.value,e.length);break;case Xk:return Ka([Xl(e,{value:pt(e.value,"@","@"+lt)})],i);case j1:if(e.length)return xj(e.props,function(o){switch(Sj(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ka([Xl(e,{props:[pt(o,/:(read-\w+)/,":"+ih+"$1")]})],i);case"::placeholder":return Ka([Xl(e,{props:[pt(o,/:(plac\w+)/,":"+lt+"input-$1")]}),Xl(e,{props:[pt(o,/:(plac\w+)/,":"+ih+"$1")]}),Xl(e,{props:[pt(o,/:(plac\w+)/,Tr+"input-$1")]})],i)}return""})}},Uj=[jj],zj=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||Uj,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)o[y[g]]=!0;a.push(m)});var c,l=[$j,Fj];{var u,f=[Mj,Ij(function(m){u.insert(m)})],d=Nj(l.concat(i,f)),h=function(y){return Ka(Cj(y),d)};c=function(y,g,v,S){u=v,h(y?y+"{"+g.styles+"}":g.styles),S&&(p.inserted[g.name]=!0)}}var p={key:r,sheet:new vj({key:r,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:c};return p.sheet.hydrate(a),p},qj=!0;function Hj(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var iT=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||qj===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},Vj=function(e,r,n){iT(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var o=r;do e.insert(r===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Wj(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Gj={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Kj=/[A-Z]|^ms/g,Qj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oT=function(e){return e.charCodeAt(1)===45},rE=function(e){return e!=null&&typeof e!="boolean"},Lg=kk(function(t){return oT(t)?t:t.replace(Kj,"-$&").toLowerCase()}),nE=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Qj,function(n,i,o){return wi={name:i,styles:o,next:wi},i})}return Gj[e]!==1&&!oT(e)&&typeof r=="number"&&r!==0?r+"px":r};function au(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return wi={name:r.name,styles:r.styles,next:wi},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)wi={name:n.name,styles:n.styles,next:wi},n=n.next;var i=r.styles+";";return i}return Jj(t,e,r)}case"function":{if(t!==void 0){var o=wi,s=r(t);return wi=o,au(t,e,s)}break}}if(e==null)return r;var a=e[r];return a!==void 0?a:r}function Jj(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=au(t,e,r[i])+";";else for(var o in r){var s=r[o];if(typeof s!="object")e!=null&&e[s]!==void 0?n+=o+"{"+e[s]+"}":rE(s)&&(n+=Lg(o)+":"+nE(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)rE(s[a])&&(n+=Lg(o)+":"+nE(o,s[a])+";");else{var c=au(t,e,s);switch(o){case"animation":case"animationName":{n+=Lg(o)+":"+c+";";break}default:n+=o+"{"+c+"}"}}}return n}var iE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,wi,sT=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";wi=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=au(n,r,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=au(n,r,e[a]),i&&(o+=s[a]);iE.lastIndex=0;for(var c="",l;(l=iE.exec(o))!==null;)c+="-"+l[1];var u=Wj(o)+c;return{name:u,styles:o,next:wi}},Yj=function(e){return e()},Xj=Ya["useInsertionEffect"]?Ya["useInsertionEffect"]:!1,Zj=Xj||Yj,aT=G.createContext(typeof HTMLElement<"u"?zj({key:"css"}):null);aT.Provider;var eU=function(e){return G.forwardRef(function(r,n){var i=G.useContext(aT);return e(r,i,n)})},tU=G.createContext({});function rU(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return sT(e)}var q1=function(){var e=rU.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},nU=v0,iU=function(e){return e!=="theme"},oE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?nU:iU},sE=function(e,r,n){var i;if(r){var o=r.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},oU=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return iT(r,n,i),Zj(function(){return Vj(r,n,i)}),null},sU=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,o,s;r!==void 0&&(o=r.label,s=r.target);var a=sE(e,r,n),c=a||oE(i),l=!c("as");return function(){var u=arguments,f=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{f.push(u[0][0]);for(var d=u.length,h=1;h<d;h++)f.push(u[h],u[0][h])}var p=eU(function(m,y,g){var v=l&&m.as||i,S="",w=[],x=m;if(m.theme==null){x={};for(var M in m)x[M]=m[M];x.theme=G.useContext(tU)}typeof m.className=="string"?S=Hj(y.registered,w,m.className):m.className!=null&&(S=m.className+" ");var k=sT(f.concat(w),y.registered,x);S+=y.key+"-"+k.name,s!==void 0&&(S+=" "+s);var N=l&&a===void 0?oE(v):c,U={};for(var D in m)l&&D==="as"||N(D)&&(U[D]=m[D]);return U.className=S,U.ref=g,G.createElement(G.Fragment,null,G.createElement(oU,{cache:y,serialized:k,isStringTag:typeof v=="string"}),G.createElement(v,U))});return p.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=f,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+s}}),p.withComponent=function(m,y){return t(m,ve({},r,y,{shouldForwardProp:sE(p,y,!0)})).apply(void 0,f)},p}},aU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],k0=sU.bind();aU.forEach(function(t){k0[t]=k0(t)});const lU=k0;/** @license MUI v5.11.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function lT(t,e){return lU(t,e)}const cU=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Oc(t,e){return e?Yi(t,e,{clone:!1}):t}const H1={xs:0,sm:600,md:900,lg:1200,xl:1536},aE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${H1[t]}px)`};function kn(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const o=n.breakpoints||aE;return e.reduce((s,a,c)=>(s[o.up(o.keys[c])]=r(e[c]),s),{})}if(typeof e=="object"){const o=n.breakpoints||aE;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||H1).indexOf(a)!==-1){const c=o.up(a);s[c]=r(e[a],a)}else{const c=a;s[c]=e[c]}return s},{})}return r(e)}function uU(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,i)=>{const o=t.up(i);return n[o]={},n},{}))||{}}function fU(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function dU(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,o)=>{o<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function kp({values:t,breakpoints:e,base:r}){const n=r||dU(t,e),i=Object.keys(n);if(i.length===0)return t;let o;return i.reduce((s,a,c)=>(Array.isArray(t)?(s[a]=t[c]!=null?t[c]:t[o],o=c):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function Tp(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function oh(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=Tp(t,r)||n,e&&(i=e(i,n,t)),i}function gt(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],c=s.theme,l=Tp(c,n)||{};return kn(s,a,f=>{let d=oh(l,i,f);return f===d&&typeof f=="string"&&(d=oh(l,i,`${e}${f==="default"?"":mt(f)}`,f)),r===!1?d:{[r]:d}})};return o.propTypes={},o.filterProps=[e],o}function Cp(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>e[o]?Oc(i,e[o](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function hU(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const pU={m:"margin",p:"padding"},mU={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},lE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},gU=hU(t=>{if(t.length>2)if(lE[t])t=lE[t];else return[t];const[e,r]=t.split(""),n=pU[e],i=mU[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),V1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],W1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...V1,...W1];function Fu(t,e,r,n){var i;const o=(i=Tp(t,e,!1))!=null?i:r;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function cT(t){return Fu(t,"spacing",8)}function ju(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function vU(t,e){return r=>t.reduce((n,i)=>(n[i]=ju(e,r),n),{})}function yU(t,e,r,n){if(e.indexOf(r)===-1)return null;const i=gU(r),o=vU(i,n),s=t[r];return kn(t,s,o)}function uT(t,e){const r=cT(t.theme);return Object.keys(t).map(n=>yU(t,e,n,r)).reduce(Oc,{})}function Ht(t){return uT(t,V1)}Ht.propTypes={};Ht.filterProps=V1;function Vt(t){return uT(t,W1)}Vt.propTypes={};Vt.filterProps=W1;function Si(t){return typeof t!="number"?t:`${t}px solid`}const bU=gt({prop:"border",themeKey:"borders",transform:Si}),wU=gt({prop:"borderTop",themeKey:"borders",transform:Si}),_U=gt({prop:"borderRight",themeKey:"borders",transform:Si}),SU=gt({prop:"borderBottom",themeKey:"borders",transform:Si}),xU=gt({prop:"borderLeft",themeKey:"borders",transform:Si}),EU=gt({prop:"borderColor",themeKey:"palette"}),RU=gt({prop:"borderTopColor",themeKey:"palette"}),PU=gt({prop:"borderRightColor",themeKey:"palette"}),AU=gt({prop:"borderBottomColor",themeKey:"palette"}),kU=gt({prop:"borderLeftColor",themeKey:"palette"}),Op=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Fu(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:ju(e,n)});return kn(t,t.borderRadius,r)}return null};Op.propTypes={};Op.filterProps=["borderRadius"];Cp(bU,wU,_U,SU,xU,EU,RU,PU,AU,kU,Op);const Mp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Fu(t.theme,"spacing",8),r=n=>({gap:ju(e,n)});return kn(t,t.gap,r)}return null};Mp.propTypes={};Mp.filterProps=["gap"];const Np=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Fu(t.theme,"spacing",8),r=n=>({columnGap:ju(e,n)});return kn(t,t.columnGap,r)}return null};Np.propTypes={};Np.filterProps=["columnGap"];const Ip=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Fu(t.theme,"spacing",8),r=n=>({rowGap:ju(e,n)});return kn(t,t.rowGap,r)}return null};Ip.propTypes={};Ip.filterProps=["rowGap"];const TU=gt({prop:"gridColumn"}),CU=gt({prop:"gridRow"}),OU=gt({prop:"gridAutoFlow"}),MU=gt({prop:"gridAutoColumns"}),NU=gt({prop:"gridAutoRows"}),IU=gt({prop:"gridTemplateColumns"}),DU=gt({prop:"gridTemplateRows"}),LU=gt({prop:"gridTemplateAreas"}),BU=gt({prop:"gridArea"});Cp(Mp,Np,Ip,TU,CU,OU,MU,NU,IU,DU,LU,BU);function Qa(t,e){return e==="grey"?e:t}const $U=gt({prop:"color",themeKey:"palette",transform:Qa}),FU=gt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Qa}),jU=gt({prop:"backgroundColor",themeKey:"palette",transform:Qa});Cp($U,FU,jU);function sn(t){return t<=1&&t!==0?`${t*100}%`:t}const UU=gt({prop:"width",transform:sn}),G1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,i,o;return{maxWidth:((n=t.theme)==null||(i=n.breakpoints)==null||(o=i.values)==null?void 0:o[r])||H1[r]||sn(r)}};return kn(t,t.maxWidth,e)}return null};G1.filterProps=["maxWidth"];const zU=gt({prop:"minWidth",transform:sn}),qU=gt({prop:"height",transform:sn}),HU=gt({prop:"maxHeight",transform:sn}),VU=gt({prop:"minHeight",transform:sn});gt({prop:"size",cssProperty:"width",transform:sn});gt({prop:"size",cssProperty:"height",transform:sn});const WU=gt({prop:"boxSizing"});Cp(UU,G1,zU,qU,HU,VU,WU);const GU={border:{themeKey:"borders",transform:Si},borderTop:{themeKey:"borders",transform:Si},borderRight:{themeKey:"borders",transform:Si},borderBottom:{themeKey:"borders",transform:Si},borderLeft:{themeKey:"borders",transform:Si},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Op},color:{themeKey:"palette",transform:Qa},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Qa},backgroundColor:{themeKey:"palette",transform:Qa},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:Ht},mt:{style:Ht},mr:{style:Ht},mb:{style:Ht},ml:{style:Ht},mx:{style:Ht},my:{style:Ht},margin:{style:Ht},marginTop:{style:Ht},marginRight:{style:Ht},marginBottom:{style:Ht},marginLeft:{style:Ht},marginX:{style:Ht},marginY:{style:Ht},marginInline:{style:Ht},marginInlineStart:{style:Ht},marginInlineEnd:{style:Ht},marginBlock:{style:Ht},marginBlockStart:{style:Ht},marginBlockEnd:{style:Ht},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Mp},rowGap:{style:Ip},columnGap:{style:Np},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sn},maxWidth:{style:G1},minWidth:{transform:sn},height:{transform:sn},maxHeight:{transform:sn},minHeight:{transform:sn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Dp=GU;function KU(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function QU(t,e){return typeof t=="function"?t(e):t}function JU(){function t(r,n,i,o){const s={[r]:n,theme:i},a=o[r];if(!a)return{[r]:n};const{cssProperty:c=r,themeKey:l,transform:u,style:f}=a;if(n==null)return null;const d=Tp(i,l)||{};return f?f(s):kn(s,n,p=>{let m=oh(d,u,p);return p===m&&typeof p=="string"&&(m=oh(d,u,`${r}${p==="default"?"":mt(p)}`,p)),c===!1?m:{[c]:m}})}function e(r){var n;const{sx:i,theme:o={}}=r||{};if(!i)return null;const s=(n=o.unstable_sxConfig)!=null?n:Dp;function a(c){let l=c;if(typeof c=="function")l=c(o);else if(typeof c!="object")return c;if(!l)return null;const u=uU(o.breakpoints),f=Object.keys(u);let d=u;return Object.keys(l).forEach(h=>{const p=QU(l[h],o);if(p!=null)if(typeof p=="object")if(s[h])d=Oc(d,t(h,p,o,s));else{const m=kn({theme:o},p,y=>({[h]:y}));KU(m,p)?d[h]=e({sx:p,theme:o}):d=Oc(d,m)}else d=Oc(d,t(h,p,o,s))}),fU(f,d)}return Array.isArray(i)?i.map(a):a(i)}return e}const fT=JU();fT.filterProps=["sx"];const Lp=fT,YU=["sx"],XU=t=>{var e,r;const n={systemProps:{},otherProps:{}},i=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:Dp;return Object.keys(t).forEach(o=>{i[o]?n.systemProps[o]=t[o]:n.otherProps[o]=t[o]}),n};function Bp(t){const{sx:e}=t,r=kt(t,YU),{systemProps:n,otherProps:i}=XU(r);let o;return Array.isArray(e)?o=[n,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return ps(a)?ve({},n,a):n}:o=ve({},n,e),ve({},i,{sx:o})}const ZU=["values","unit","step"],ez=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>ve({},r,{[n.key]:n.val}),{})};function tz(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,i=kt(t,ZU),o=ez(e),s=Object.keys(o);function a(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${r})`}function c(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-n/100}${r})`}function l(d,h){const p=s.indexOf(h);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${r}) and (max-width:${(p!==-1&&typeof e[s[p]]=="number"?e[s[p]]:h)-n/100}${r})`}function u(d){return s.indexOf(d)+1<s.length?l(d,s[s.indexOf(d)+1]):a(d)}function f(d){const h=s.indexOf(d);return h===0?a(s[1]):h===s.length-1?c(s[h]):l(d,s[s.indexOf(d)+1]).replace("@media","@media not all and")}return ve({keys:s,values:o,up:a,down:c,between:l,only:u,not:f,unit:r},i)}const rz={borderRadius:4},nz=rz;function iz(t=8){if(t.mui)return t;const e=cT({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return r.mui=!0,r}const oz=["breakpoints","palette","spacing","shape"];function $p(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:o={}}=t,s=kt(t,oz),a=tz(r),c=iz(i);let l=Yi({breakpoints:a,direction:"ltr",components:{},palette:ve({mode:"light"},n),spacing:c,shape:ve({},nz,o)},s);return l=e.reduce((u,f)=>Yi(u,f),l),l.unstable_sxConfig=ve({},Dp,s==null?void 0:s.unstable_sxConfig),l.unstable_sx=function(f){return Lp({sx:f,theme:this})},l}const sz=G.createContext(null),az=sz;function lz(){return G.useContext(az)}function cz(t){return Object.keys(t).length===0}function uz(t=null){const e=lz();return!e||cz(e)?t:e}const fz=$p();function Fp(t=fz){return uz(t)}const dz=["className","component"];function hz(t={}){const{defaultTheme:e,defaultClassName:r="MuiBox-root",generateClassName:n}=t,i=lT("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(Lp);return G.forwardRef(function(a,c){const l=Fp(e),u=Bp(a),{className:f,component:d="div"}=u,h=kt(u,dz);return V(i,ve({as:d,ref:c,className:et(f,n?n(r):r),theme:l},h))})}const pz=["variant"];function cE(t){return t.length===0}function dT(t){const{variant:e}=t,r=kt(t,pz);let n=e||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=cE(n)?t[i]:mt(t[i]):n+=`${cE(n)?i:mt(i)}${mt(t[i].toString())}`}),n}const mz=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],gz=["theme"],vz=["theme"];function Zl(t){return Object.keys(t).length===0}function yz(t){return typeof t=="string"&&t.charCodeAt(0)>96}const bz=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,wz=(t,e)=>{let r=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(r=e.components[t].variants);const n={};return r.forEach(i=>{const o=dT(i.props);n[o]=i.style}),n},_z=(t,e,r,n)=>{var i,o;const{ownerState:s={}}=t,a=[],c=r==null||(i=r.components)==null||(o=i[n])==null?void 0:o.variants;return c&&c.forEach(l=>{let u=!0;Object.keys(l.props).forEach(f=>{s[f]!==l.props[f]&&t[f]!==l.props[f]&&(u=!1)}),u&&a.push(e[dT(l.props)])}),a};function ad(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Sz=$p();function hT(t={}){const{defaultTheme:e=Sz,rootShouldForwardProp:r=ad,slotShouldForwardProp:n=ad}=t,i=o=>{const s=Zl(o.theme)?e:o.theme;return Lp(ve({},o,{theme:s}))};return i.__mui_systemSx=!0,(o,s={})=>{cU(o,S=>S.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:a,slot:c,skipVariantsResolver:l,skipSx:u,overridesResolver:f}=s,d=kt(s,mz),h=l!==void 0?l:c&&c!=="Root"||!1,p=u||!1;let m,y=ad;c==="Root"?y=r:c?y=n:yz(o)&&(y=void 0);const g=lT(o,ve({shouldForwardProp:y,label:m},d)),v=(S,...w)=>{const x=w?w.map(U=>typeof U=="function"&&U.__emotion_real!==U?D=>{let{theme:O}=D,L=kt(D,gz);return U(ve({theme:Zl(O)?e:O},L))}:U):[];let M=S;a&&f&&x.push(U=>{const D=Zl(U.theme)?e:U.theme,O=bz(a,D);if(O){const L={};return Object.entries(O).forEach(([A,b])=>{L[A]=typeof b=="function"?b(ve({},U,{theme:D})):b}),f(U,L)}return null}),a&&!h&&x.push(U=>{const D=Zl(U.theme)?e:U.theme;return _z(U,wz(a,D),D,a)}),p||x.push(i);const k=x.length-w.length;if(Array.isArray(S)&&k>0){const U=new Array(k).fill("");M=[...S,...U],M.raw=[...S.raw,...U]}else typeof S=="function"&&S.__emotion_real!==S&&(M=U=>{let{theme:D}=U,O=kt(U,vz);return S(ve({theme:Zl(D)?e:D},O))});return g(M,...x)};return g.withConfig&&(v.withConfig=g.withConfig),v}}const xz=hT(),Ez=xz;function Rz(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:$1(e.components[r].defaultProps,n)}function pT({props:t,name:e,defaultTheme:r}){const n=Fp(r);return Rz({theme:n,name:e,props:t})}function K1(t,e=0,r=1){return Math.min(Math.max(e,t),r)}function Pz(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function $s(t){if(t.type)return t;if(t.charAt(0)==="#")return $s(Pz(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(ml(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ml(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}function jp(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function Az(t){t=$s(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,o=n*Math.min(i,1-i),s=(l,u=(l+r/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",c.push(e[3])),jp({type:a,values:c})}function uE(t){t=$s(t);let e=t.type==="hsl"||t.type==="hsla"?$s(Az(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function kz(t,e){const r=uE(t),n=uE(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Lo(t,e){return t=$s(t),e=K1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,jp(t)}function Tz(t,e){if(t=$s(t),e=K1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return jp(t)}function Cz(t,e){if(t=$s(t),e=K1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return jp(t)}const Oz=(t,e)=>t.filter(r=>e.includes(r)),kl=(t,e,r)=>{const n=t.keys[0];Array.isArray(e)?e.forEach((i,o)=>{r((s,a)=>{o<=t.keys.length-1&&(o===0?Object.assign(s,a):s[t.up(t.keys[o])]=a)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:Oz(t.keys,Object.keys(e))).forEach(o=>{if(t.keys.indexOf(o)!==-1){const s=e[o];s!==void 0&&r((a,c)=>{n===o?Object.assign(a,c):a[t.up(o)]=c},s)}}):(typeof e=="number"||typeof e=="string")&&r((i,o)=>{Object.assign(i,o)},e)},Mz=({theme:t,ownerState:e})=>{const r={};return kl(t.breakpoints,e.gridSize,(n,i)=>{let o={};i===!0&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(--Grid-columns)${e.nested&&e.container?" + var(--Grid-columnSpacing)":""})`}),n(r,o)}),r},Nz=({theme:t,ownerState:e})=>{const r={};return kl(t.breakpoints,e.gridOffset,(n,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(--Grid-columns))`}),n(r,o)}),r},Iz=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={"--Grid-columns":12};return kl(t.breakpoints,e.columns,(n,i)=>{n(r,{"--Grid-columns":i})}),r},Dz=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return kl(t.breakpoints,e.rowSpacing,(n,i)=>{var o;n(r,{"--Grid-rowSpacing":typeof i=="string"?i:(o=t.spacing)==null?void 0:o.call(t,i)})}),r},Lz=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return kl(t.breakpoints,e.columnSpacing,(n,i)=>{var o;n(r,{"--Grid-columnSpacing":typeof i=="string"?i:(o=t.spacing)==null?void 0:o.call(t,i)})}),r},Bz=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return kl(t.breakpoints,e.direction,(n,i)=>{n(r,{flexDirection:i})}),r},$z=({ownerState:t})=>ve({minWidth:0,boxSizing:"border-box"},t.container?ve({display:"flex",flexWrap:"wrap"},t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},{margin:"calc(var(--Grid-rowSpacing) / -2) calc(var(--Grid-columnSpacing) / -2)"},t.disableEqualOverflow&&{margin:"calc(var(--Grid-rowSpacing) * -1) 0px 0px calc(var(--Grid-columnSpacing) * -1)"},t.nested?ve({padding:"calc(var(--Grid-nested-rowSpacing) / 2) calc(var(--Grid-nested-columnSpacing) / 2)"},(t.disableEqualOverflow||t.parentDisableEqualOverflow)&&{padding:"calc(var(--Grid-nested-rowSpacing)) 0px 0px calc(var(--Grid-nested-columnSpacing))"}):{"--Grid-nested-rowSpacing":"var(--Grid-rowSpacing)","--Grid-nested-columnSpacing":"var(--Grid-columnSpacing)"}):ve({padding:"calc(var(--Grid-rowSpacing) / 2) calc(var(--Grid-columnSpacing) / 2)"},t.disableEqualOverflow&&{padding:"calc(var(--Grid-rowSpacing)) 0px 0px calc(var(--Grid-columnSpacing))"})),Fz=t=>{const e=[];return Object.entries(t).forEach(([r,n])=>{n!==!1&&n!==void 0&&e.push(`grid-${r}-${String(n)}`)}),e},jz=(t,e="xs")=>{function r(n){return n===void 0?!1:typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"&&n>0}if(r(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const n=[];return Object.entries(t).forEach(([i,o])=>{r(o)&&n.push(`spacing-${i}-${String(o)}`)}),n}return[]},Uz=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,r])=>`direction-${e}-${r}`):[`direction-xs-${String(t)}`],zz=["className","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow"],qz=$p(),Hz=Ez("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function Vz(t){return pT({props:t,name:"MuiGrid",defaultTheme:qz})}function Wz(t={}){const{createStyledComponent:e=Hz,useThemeProps:r=Vz,componentName:n="MuiGrid"}=t,i=G.createContext(!1),o=G.createContext(void 0),s=(l,u)=>{const{container:f,direction:d,spacing:h,wrap:p,gridSize:m}=l,y={root:["root",f&&"container",p!=="wrap"&&`wrap-xs-${String(p)}`,...Uz(d),...Fz(m),...f?jz(h,u.breakpoints.keys[0]):[]]};return ni(y,g=>Nn(n,g),{})},a=e(Iz,Lz,Dz,Mz,Bz,$z,Nz);return G.forwardRef(function(u,f){var d,h,p,m,y,g,v,S;const w=Fp(),x=r(u),M=Bp(x),k=G.useContext(i),N=G.useContext(o),{className:U,columns:D=12,container:O=!1,component:L="div",direction:A="row",wrap:b="wrap",spacing:E=0,rowSpacing:I=E,columnSpacing:F=E,disableEqualOverflow:$}=M,B=kt(M,zz);let j=$;k&&$!==void 0&&(j=u.disableEqualOverflow);const R={},_={},C={};Object.entries(B).forEach(([X,Z])=>{w.breakpoints.values[X]!==void 0?R[X]=Z:w.breakpoints.values[X.replace("Offset","")]!==void 0?_[X.replace("Offset","")]=Z:C[X]=Z});const H=(d=u.columns)!=null?d:k?void 0:D,P=(h=u.spacing)!=null?h:k?void 0:E,T=(p=(m=u.rowSpacing)!=null?m:u.spacing)!=null?p:k?void 0:I,z=(y=(g=u.columnSpacing)!=null?g:u.spacing)!=null?y:k?void 0:F,q=ve({},M,{nested:k,columns:H,container:O,direction:A,wrap:b,spacing:P,rowSpacing:T,columnSpacing:z,gridSize:R,gridOffset:_,disableEqualOverflow:(v=(S=j)!=null?S:N)!=null?v:!1,parentDisableEqualOverflow:N}),W=s(q,w);let K=V(a,ve({ref:f,as:L,ownerState:q,className:et(W.root,U)},C));return k||(K=V(i.Provider,{value:!0,children:K})),j!==void 0&&j!==(N??!1)&&(K=V(o.Provider,{value:j,children:K})),K})}function Gz(t,e){return ve({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const Kz={black:"#000",white:"#fff"},lu=Kz,Qz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Jz=Qz,Yz={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},va=Yz,Xz={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ya=Xz,Zz={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ec=Zz,eq={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ba=eq,tq={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},wa=tq,rq={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},_a=rq,nq=["mode","contrastThreshold","tonalOffset"],fE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:lu.white,default:lu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Bg={text:{primary:lu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:lu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function dE(t,e,r,n){const i=n.light||n,o=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=Cz(t.main,i):e==="dark"&&(t.dark=Tz(t.main,o)))}function iq(t="light"){return t==="dark"?{main:ba[200],light:ba[50],dark:ba[400]}:{main:ba[700],light:ba[400],dark:ba[800]}}function oq(t="light"){return t==="dark"?{main:va[200],light:va[50],dark:va[400]}:{main:va[500],light:va[300],dark:va[700]}}function sq(t="light"){return t==="dark"?{main:ya[500],light:ya[300],dark:ya[700]}:{main:ya[700],light:ya[400],dark:ya[800]}}function aq(t="light"){return t==="dark"?{main:wa[400],light:wa[300],dark:wa[700]}:{main:wa[700],light:wa[500],dark:wa[900]}}function lq(t="light"){return t==="dark"?{main:_a[400],light:_a[300],dark:_a[700]}:{main:_a[800],light:_a[500],dark:_a[900]}}function cq(t="light"){return t==="dark"?{main:ec[400],light:ec[300],dark:ec[700]}:{main:"#ed6c02",light:ec[500],dark:ec[900]}}function uq(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2}=t,i=kt(t,nq),o=t.primary||iq(e),s=t.secondary||oq(e),a=t.error||sq(e),c=t.info||aq(e),l=t.success||lq(e),u=t.warning||cq(e);function f(m){return kz(m,Bg.text.primary)>=r?Bg.text.primary:fE.text.primary}const d=({color:m,name:y,mainShade:g=500,lightShade:v=300,darkShade:S=700})=>{if(m=ve({},m),!m.main&&m[g]&&(m.main=m[g]),!m.hasOwnProperty("main"))throw new Error(ml(11,y?` (${y})`:"",g));if(typeof m.main!="string")throw new Error(ml(12,y?` (${y})`:"",JSON.stringify(m.main)));return dE(m,"light",v,n),dE(m,"dark",S,n),m.contrastText||(m.contrastText=f(m.main)),m},h={dark:Bg,light:fE};return Yi(ve({common:ve({},lu),mode:e,primary:d({color:o,name:"primary"}),secondary:d({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:u,name:"warning"}),info:d({color:c,name:"info"}),success:d({color:l,name:"success"}),grey:Jz,contrastThreshold:r,getContrastText:f,augmentColor:d,tonalOffset:n},h[e]),i)}const fq=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function dq(t){return Math.round(t*1e5)/1e5}const hE={textTransform:"uppercase"},pE='"Roboto", "Helvetica", "Arial", sans-serif';function hq(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:n=pE,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:l=16,allVariants:u,pxToRem:f}=r,d=kt(r,fq),h=i/14,p=f||(g=>`${g/l*h}rem`),m=(g,v,S,w,x)=>ve({fontFamily:n,fontWeight:g,fontSize:p(v),lineHeight:S},n===pE?{letterSpacing:`${dq(w/v)}em`}:{},x,u),y={h1:m(o,96,1.167,-1.5),h2:m(o,60,1.2,-.5),h3:m(s,48,1.167,0),h4:m(s,34,1.235,.25),h5:m(s,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(s,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(s,16,1.5,.15),body2:m(s,14,1.43,.15),button:m(a,14,1.75,.4,hE),caption:m(s,12,1.66,.4),overline:m(s,12,2.66,1,hE)};return Yi(ve({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c},y),d,{clone:!1})}const pq=.2,mq=.14,gq=.12;function Bt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${pq})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${mq})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${gq})`].join(",")}const vq=["none",Bt(0,2,1,-1,0,1,1,0,0,1,3,0),Bt(0,3,1,-2,0,2,2,0,0,1,5,0),Bt(0,3,3,-2,0,3,4,0,0,1,8,0),Bt(0,2,4,-1,0,4,5,0,0,1,10,0),Bt(0,3,5,-1,0,5,8,0,0,1,14,0),Bt(0,3,5,-1,0,6,10,0,0,1,18,0),Bt(0,4,5,-2,0,7,10,1,0,2,16,1),Bt(0,5,5,-3,0,8,10,1,0,3,14,2),Bt(0,5,6,-3,0,9,12,1,0,3,16,2),Bt(0,6,6,-3,0,10,14,1,0,4,18,3),Bt(0,6,7,-4,0,11,15,1,0,4,20,3),Bt(0,7,8,-4,0,12,17,2,0,5,22,4),Bt(0,7,8,-4,0,13,19,2,0,5,24,4),Bt(0,7,9,-4,0,14,21,2,0,5,26,4),Bt(0,8,9,-5,0,15,22,2,0,6,28,5),Bt(0,8,10,-5,0,16,24,2,0,6,30,5),Bt(0,8,11,-5,0,17,26,2,0,6,32,5),Bt(0,9,11,-5,0,18,28,2,0,7,34,6),Bt(0,9,12,-6,0,19,29,2,0,7,36,6),Bt(0,10,13,-6,0,20,31,3,0,8,38,7),Bt(0,10,13,-6,0,21,33,3,0,8,40,7),Bt(0,10,14,-6,0,22,35,3,0,8,42,7),Bt(0,11,14,-7,0,23,36,3,0,9,44,8),Bt(0,11,15,-7,0,24,38,3,0,9,46,8)],yq=vq,bq=["duration","easing","delay"],wq={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_q={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function mE(t){return`${Math.round(t)}ms`}function Sq(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function xq(t){const e=ve({},wq,t.easing),r=ve({},_q,t.duration);return ve({getAutoHeightDuration:Sq,create:(i=["all"],o={})=>{const{duration:s=r.standard,easing:a=e.easeInOut,delay:c=0}=o;return kt(o,bq),(Array.isArray(i)?i:[i]).map(l=>`${l} ${typeof s=="string"?s:mE(s)} ${a} ${typeof c=="string"?c:mE(c)}`).join(",")}},t,{easing:e,duration:r})}const Eq={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Rq=Eq,Pq=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function mT(t={},...e){const{mixins:r={},palette:n={},transitions:i={},typography:o={}}=t,s=kt(t,Pq);if(t.vars)throw new Error(ml(18));const a=uq(n),c=$p(t);let l=Yi(c,{mixins:Gz(c.breakpoints,r),palette:a,shadows:yq.slice(),typography:hq(a,o),transitions:xq(i),zIndex:ve({},Rq)});return l=Yi(l,s),l=e.reduce((u,f)=>Yi(u,f),l),l.unstable_sxConfig=ve({},Dp,s==null?void 0:s.unstable_sxConfig),l.unstable_sx=function(f){return Lp({sx:f,theme:this})},l}const Aq=mT(),Q1=Aq,gT=t=>ad(t)&&t!=="classes",kq=hT({defaultTheme:Q1,rootShouldForwardProp:gT}),qt=kq;function In({props:t,name:e}){return pT({props:t,name:e,defaultTheme:Q1})}function J1(){return Fp(Q1)}function Tq(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function Cq(t,e,r,n={},i=()=>{}){const{ease:o=Tq,duration:s=300}=n;let a=null;const c=e[t];let l=!1;const u=()=>{l=!0},f=d=>{if(l){i(new Error("Animation cancelled"));return}a===null&&(a=d);const h=Math.min(1,(d-a)/s);if(e[t]=o(h)*(r-c)+c,h>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return c===r?(i(new Error("Element already at target position")),u):(requestAnimationFrame(f),u)}function Oq(t){return Nn("MuiSvgIcon",t)}ii("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Mq=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Nq=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${mt(e)}`,`fontSize${mt(r)}`]};return ni(i,Oq,n)},Iq=qt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${mt(r.color)}`],e[`fontSize${mt(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var r,n,i,o,s,a,c,l,u,f,d,h,p,m,y,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=t.transitions)==null||(o=i.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(a=s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem",medium:((c=t.typography)==null||(l=c.pxToRem)==null?void 0:l.call(c,24))||"1.5rem",large:((u=t.typography)==null||(f=u.pxToRem)==null?void 0:f.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(p=h[e.color])==null?void 0:p.main)!=null?d:{action:(m=(t.vars||t).palette)==null||(y=m.action)==null?void 0:y.active,disabled:(g=(t.vars||t).palette)==null||(v=g.action)==null?void 0:v.disabled,inherit:void 0}[e.color]}}),vT=G.forwardRef(function(e,r){const n=In({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:c="medium",htmlColor:l,inheritViewBox:u=!1,titleAccess:f,viewBox:d="0 0 24 24"}=n,h=kt(n,Mq),p=ve({},n,{color:s,component:a,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:d}),m={};u||(m.viewBox=d);const y=Nq(p);return Ee(Iq,ve({as:a,className:et(y.root,o),focusable:"false",color:l,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:r},m,h,{ownerState:p,children:[i,f?V("title",{children:f}):null]}))});vT.muiName="SvgIcon";const gE=vT;function Y1(t,e){function r(n,i){return V(gE,ve({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return r.muiName=gE.muiName,G.memo(G.forwardRef(r))}const Dq={configure:t=>{F1.configure(t)}},Lq=Object.freeze(Object.defineProperty({__proto__:null,capitalize:mt,createChainedFunction:Y9,createSvgIcon:Y1,debounce:nh,deprecatedPropType:X9,isMuiElement:Z9,ownerDocument:L1,ownerWindow:B1,requirePropFactory:ej,setRef:Gk,unstable_ClassNameGenerator:Dq,unstable_useEnhancedEffect:Kk,unstable_useId:nj,unsupportedProp:ij,useControlled:oj,useEventCallback:Do,useForkRef:E0,useIsFocusVisible:Qk},Symbol.toStringTag,{value:"Module"})),Bq=["onChange"],$q={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Fq(t){const{onChange:e}=t,r=kt(t,Bq),n=G.useRef(),i=G.useRef(null),o=()=>{n.current=i.current.offsetHeight-i.current.clientHeight};return G.useEffect(()=>{const s=nh(()=>{const c=n.current;o(),c!==n.current&&e(n.current)}),a=B1(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),G.useEffect(()=>{o(),e(n.current)},[e]),V("div",ve({style:$q,ref:i},r))}const jq=Y1(V("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Uq=Y1(V("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function T0(t,e){return T0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T0(t,e)}function zq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,T0(t,e)}const vE=ze.createContext(null);function qq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X1(t,e){var r=function(o){return e&&G.isValidElement(o)?e(o):o},n=Object.create(null);return t&&G.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function Hq(t,e){t=t||{},e=e||{};function r(u){return u in e?e[u]:t[u]}var n=Object.create(null),i=[];for(var o in t)o in e?i.length&&(n[o]=i,i=[]):i.push(o);var s,a={};for(var c in e){if(n[c])for(s=0;s<n[c].length;s++){var l=n[c][s];a[n[c][s]]=r(l)}a[c]=r(c)}for(s=0;s<i.length;s++)a[i[s]]=r(i[s]);return a}function xs(t,e,r){return r[e]!=null?r[e]:t.props[e]}function Vq(t,e){return X1(t.children,function(r){return G.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:xs(r,"appear",t),enter:xs(r,"enter",t),exit:xs(r,"exit",t)})})}function Wq(t,e,r){var n=X1(t.children),i=Hq(e,n);return Object.keys(i).forEach(function(o){var s=i[o];if(G.isValidElement(s)){var a=o in e,c=o in n,l=e[o],u=G.isValidElement(l)&&!l.props.in;c&&(!a||u)?i[o]=G.cloneElement(s,{onExited:r.bind(null,s),in:!0,exit:xs(s,"exit",t),enter:xs(s,"enter",t)}):!c&&a&&!u?i[o]=G.cloneElement(s,{in:!1}):c&&a&&G.isValidElement(l)&&(i[o]=G.cloneElement(s,{onExited:r.bind(null,s),in:l.props.in,exit:xs(s,"exit",t),enter:xs(s,"enter",t)}))}}),i}var Gq=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Kq={component:"div",childFactory:function(e){return e}},Z1=function(t){zq(e,t);function e(n,i){var o;o=t.call(this,n,i)||this;var s=o.handleExited.bind(qq(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,c=o.firstRender;return{children:c?Vq(i,a):Wq(i,s,a),firstRender:!1}},r.handleExited=function(i,o){var s=X1(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var c=ve({},a.children);return delete c[i.key],{children:c}}))},r.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=kt(i,["component","childFactory"]),c=this.state.contextValue,l=Gq(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?ze.createElement(vE.Provider,{value:c},l):ze.createElement(vE.Provider,{value:c},ze.createElement(o,a,l))},e}(ze.Component);Z1.propTypes={};Z1.defaultProps=Kq;const Qq=Z1;function Jq(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:c,timeout:l}=t,[u,f]=G.useState(!1),d=et(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),h={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},p=et(r.child,u&&r.childLeaving,n&&r.childPulsate);return!a&&!u&&f(!0),G.useEffect(()=>{if(!a&&c!=null){const m=setTimeout(c,l);return()=>{clearTimeout(m)}}},[c,a,l]),V("span",{className:d,style:h,children:V("span",{className:p})})}const Yq=ii("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),bn=Yq,Xq=["center","classes","className"];let Up=t=>t,yE,bE,wE,_E;const C0=550,Zq=80,eH=q1(yE||(yE=Up`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),tH=q1(bE||(bE=Up`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),rH=q1(wE||(wE=Up`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),nH=qt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),iH=qt(Jq,{name:"MuiTouchRipple",slot:"Ripple"})(_E||(_E=Up`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),bn.rippleVisible,eH,C0,({theme:t})=>t.transitions.easing.easeInOut,bn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,bn.child,bn.childLeaving,tH,C0,({theme:t})=>t.transitions.easing.easeInOut,bn.childPulsate,rH,({theme:t})=>t.transitions.easing.easeInOut),oH=G.forwardRef(function(e,r){const n=In({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=n,a=kt(n,Xq),[c,l]=G.useState([]),u=G.useRef(0),f=G.useRef(null);G.useEffect(()=>{f.current&&(f.current(),f.current=null)},[c]);const d=G.useRef(!1),h=G.useRef(null),p=G.useRef(null),m=G.useRef(null);G.useEffect(()=>()=>{clearTimeout(h.current)},[]);const y=G.useCallback(w=>{const{pulsate:x,rippleX:M,rippleY:k,rippleSize:N,cb:U}=w;l(D=>[...D,V(iH,{classes:{ripple:et(o.ripple,bn.ripple),rippleVisible:et(o.rippleVisible,bn.rippleVisible),ripplePulsate:et(o.ripplePulsate,bn.ripplePulsate),child:et(o.child,bn.child),childLeaving:et(o.childLeaving,bn.childLeaving),childPulsate:et(o.childPulsate,bn.childPulsate)},timeout:C0,pulsate:x,rippleX:M,rippleY:k,rippleSize:N},u.current)]),u.current+=1,f.current=U},[o]),g=G.useCallback((w={},x={},M=()=>{})=>{const{pulsate:k=!1,center:N=i||x.pulsate,fakeElement:U=!1}=x;if((w==null?void 0:w.type)==="mousedown"&&d.current){d.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(d.current=!0);const D=U?null:m.current,O=D?D.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,A,b;if(N||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)L=Math.round(O.width/2),A=Math.round(O.height/2);else{const{clientX:E,clientY:I}=w.touches&&w.touches.length>0?w.touches[0]:w;L=Math.round(E-O.left),A=Math.round(I-O.top)}if(N)b=Math.sqrt((2*O.width**2+O.height**2)/3),b%2===0&&(b+=1);else{const E=Math.max(Math.abs((D?D.clientWidth:0)-L),L)*2+2,I=Math.max(Math.abs((D?D.clientHeight:0)-A),A)*2+2;b=Math.sqrt(E**2+I**2)}w!=null&&w.touches?p.current===null&&(p.current=()=>{y({pulsate:k,rippleX:L,rippleY:A,rippleSize:b,cb:M})},h.current=setTimeout(()=>{p.current&&(p.current(),p.current=null)},Zq)):y({pulsate:k,rippleX:L,rippleY:A,rippleSize:b,cb:M})},[i,y]),v=G.useCallback(()=>{g({},{pulsate:!0})},[g]),S=G.useCallback((w,x)=>{if(clearTimeout(h.current),(w==null?void 0:w.type)==="touchend"&&p.current){p.current(),p.current=null,h.current=setTimeout(()=>{S(w,x)});return}p.current=null,l(M=>M.length>0?M.slice(1):M),f.current=x},[]);return G.useImperativeHandle(r,()=>({pulsate:v,start:g,stop:S}),[v,g,S]),V(nH,ve({className:et(bn.root,o.root,s),ref:m},a,{children:V(Qq,{component:null,exit:!0,children:c})}))}),sH=oH;function aH(t){return Nn("MuiButtonBase",t)}const lH=ii("MuiButtonBase",["root","disabled","focusVisible"]),cH=lH,uH=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],fH=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,s=ni({root:["root",e&&"disabled",r&&"focusVisible"]},aH,i);return r&&n&&(s.root+=` ${n}`),s},dH=qt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${cH.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),hH=G.forwardRef(function(e,r){const n=In({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:c="button",disabled:l=!1,disableRipple:u=!1,disableTouchRipple:f=!1,focusRipple:d=!1,LinkComponent:h="a",onBlur:p,onClick:m,onContextMenu:y,onDragLeave:g,onFocus:v,onFocusVisible:S,onKeyDown:w,onKeyUp:x,onMouseDown:M,onMouseLeave:k,onMouseUp:N,onTouchEnd:U,onTouchMove:D,onTouchStart:O,tabIndex:L=0,TouchRippleProps:A,touchRippleRef:b,type:E}=n,I=kt(n,uH),F=G.useRef(null),$=G.useRef(null),B=E0($,b),{isFocusVisibleRef:j,onFocus:R,onBlur:_,ref:C}=Qk(),[H,P]=G.useState(!1);l&&H&&P(!1),G.useImperativeHandle(i,()=>({focusVisible:()=>{P(!0),F.current.focus()}}),[]);const[T,z]=G.useState(!1);G.useEffect(()=>{z(!0)},[]);const q=T&&!u&&!l;G.useEffect(()=>{H&&d&&!u&&T&&$.current.pulsate()},[u,d,H,T]);function W(J,ae,me=f){return Do(xe=>(ae&&ae(xe),!me&&$.current&&$.current[J](xe),!0))}const K=W("start",M),X=W("stop",y),Z=W("stop",g),ge=W("stop",N),le=W("stop",J=>{H&&J.preventDefault(),k&&k(J)}),pe=W("start",O),Oe=W("stop",U),Se=W("stop",D),ee=W("stop",J=>{_(J),j.current===!1&&P(!1),p&&p(J)},!1),ie=Do(J=>{F.current||(F.current=J.currentTarget),R(J),j.current===!0&&(P(!0),S&&S(J)),v&&v(J)}),se=()=>{const J=F.current;return c&&c!=="button"&&!(J.tagName==="A"&&J.href)},he=G.useRef(!1),fe=Do(J=>{d&&!he.current&&H&&$.current&&J.key===" "&&(he.current=!0,$.current.stop(J,()=>{$.current.start(J)})),J.target===J.currentTarget&&se()&&J.key===" "&&J.preventDefault(),w&&w(J),J.target===J.currentTarget&&se()&&J.key==="Enter"&&!l&&(J.preventDefault(),m&&m(J))}),_e=Do(J=>{d&&J.key===" "&&$.current&&H&&!J.defaultPrevented&&(he.current=!1,$.current.stop(J,()=>{$.current.pulsate(J)})),x&&x(J),m&&J.target===J.currentTarget&&se()&&J.key===" "&&!J.defaultPrevented&&m(J)});let ce=c;ce==="button"&&(I.href||I.to)&&(ce=h);const Q={};ce==="button"?(Q.type=E===void 0?"button":E,Q.disabled=l):(!I.href&&!I.to&&(Q.role="button"),l&&(Q["aria-disabled"]=l));const te=E0(r,C,F),ne=ve({},n,{centerRipple:o,component:c,disabled:l,disableRipple:u,disableTouchRipple:f,focusRipple:d,tabIndex:L,focusVisible:H}),re=fH(ne);return Ee(dH,ve({as:ce,className:et(re.root,a),ownerState:ne,onBlur:ee,onClick:m,onContextMenu:X,onFocus:ie,onKeyDown:fe,onKeyUp:_e,onMouseDown:K,onMouseLeave:le,onMouseUp:ge,onDragLeave:Z,onTouchEnd:Oe,onTouchMove:Se,onTouchStart:pe,ref:te,tabIndex:l?-1:L,type:E},Q,I,{children:[s,q?V(sH,ve({ref:B,center:o},A)):null]}))}),zp=hH;function pH(t){return Nn("MuiTabScrollButton",t)}const mH=ii("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),gH=mH;var SE,xE;const vH=["className","direction","orientation","disabled"],yH=t=>{const{classes:e,orientation:r,disabled:n}=t;return ni({root:["root",r,n&&"disabled"]},pH,e)},bH=qt(zp,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.orientation&&e[r.orientation]]}})(({ownerState:t})=>ve({width:40,flexShrink:0,opacity:.8,[`&.${gH.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),wH=G.forwardRef(function(e,r){const n=In({props:e,name:"MuiTabScrollButton"}),{className:i,direction:o}=n,s=kt(n,vH),c=J1().direction==="rtl",l=ve({isRtl:c},n),u=yH(l);return V(bH,ve({component:"div",className:et(u.root,i),ref:r,role:null,ownerState:l,tabIndex:null},s,{children:o==="left"?SE||(SE=V(jq,{fontSize:"small"})):xE||(xE=V(Uq,{fontSize:"small"}))}))}),_H=wH;function SH(t){return Nn("MuiTabs",t)}const xH=ii("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),$g=xH,EH=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],EE=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,RE=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Cf=(t,e,r)=>{let n=!1,i=r(t,e);for(;i;){if(i===t.firstChild){if(n)return;n=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=r(t,i);else{i.focus();return}}},RH=t=>{const{vertical:e,fixed:r,hideScrollbar:n,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:c}=t;return ni({root:["root",e&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},SH,c)},PH=qt("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${$g.scrollButtons}`]:e.scrollButtons},{[`& .${$g.scrollButtons}`]:r.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,r.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>ve({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${$g.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),AH=qt("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.scroller,r.fixed&&e.fixed,r.hideScrollbar&&e.hideScrollbar,r.scrollableX&&e.scrollableX,r.scrollableY&&e.scrollableY]}})(({ownerState:t})=>ve({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),kH=qt("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.flexContainer,r.vertical&&e.flexContainerVertical,r.centered&&e.centered]}})(({ownerState:t})=>ve({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),TH=qt("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>ve({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),CH=qt(Fq,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),PE={},OH=G.forwardRef(function(e,r){const n=In({props:e,name:"MuiTabs"}),i=J1(),o=i.direction==="rtl",{"aria-label":s,"aria-labelledby":a,action:c,centered:l=!1,children:u,className:f,component:d="div",allowScrollButtonsMobile:h=!1,indicatorColor:p="primary",onChange:m,orientation:y="horizontal",ScrollButtonComponent:g=_H,scrollButtons:v="auto",selectionFollowsFocus:S,TabIndicatorProps:w={},TabScrollButtonProps:x={},textColor:M="primary",value:k,variant:N="standard",visibleScrollbar:U=!1}=n,D=kt(n,EH),O=N==="scrollable",L=y==="vertical",A=L?"scrollTop":"scrollLeft",b=L?"top":"left",E=L?"bottom":"right",I=L?"clientHeight":"clientWidth",F=L?"height":"width",$=ve({},n,{component:d,allowScrollButtonsMobile:h,indicatorColor:p,orientation:y,vertical:L,scrollButtons:v,textColor:M,variant:N,visibleScrollbar:U,fixed:!O,hideScrollbar:O&&!U,scrollableX:O&&!L,scrollableY:O&&L,centered:l&&!O,scrollButtonsHideMobile:!h}),B=RH($),[j,R]=G.useState(!1),[_,C]=G.useState(PE),[H,P]=G.useState({start:!1,end:!1}),[T,z]=G.useState({overflow:"hidden",scrollbarWidth:0}),q=new Map,W=G.useRef(null),K=G.useRef(null),X=()=>{const re=W.current;let J;if(re){const me=re.getBoundingClientRect();J={clientWidth:re.clientWidth,scrollLeft:re.scrollLeft,scrollTop:re.scrollTop,scrollLeftNormalized:Yx(re,i.direction),scrollWidth:re.scrollWidth,top:me.top,bottom:me.bottom,left:me.left,right:me.right}}let ae;if(re&&k!==!1){const me=K.current.children;if(me.length>0){const xe=me[q.get(k)];ae=xe?xe.getBoundingClientRect():null}}return{tabsMeta:J,tabMeta:ae}},Z=Do(()=>{const{tabsMeta:re,tabMeta:J}=X();let ae=0,me;if(L)me="top",J&&re&&(ae=J.top-re.top+re.scrollTop);else if(me=o?"right":"left",J&&re){const we=o?re.scrollLeftNormalized+re.clientWidth-re.scrollWidth:re.scrollLeft;ae=(o?-1:1)*(J[me]-re[me]+we)}const xe={[me]:ae,[F]:J?J[F]:0};if(isNaN(_[me])||isNaN(_[F]))C(xe);else{const we=Math.abs(_[me]-xe[me]),ut=Math.abs(_[F]-xe[F]);(we>=1||ut>=1)&&C(xe)}}),ge=(re,{animation:J=!0}={})=>{J?Cq(A,W.current,re,{duration:i.transitions.duration.standard}):W.current[A]=re},le=re=>{let J=W.current[A];L?J+=re:(J+=re*(o?-1:1),J*=o&&Jk()==="reverse"?-1:1),ge(J)},pe=()=>{const re=W.current[I];let J=0;const ae=Array.from(K.current.children);for(let me=0;me<ae.length;me+=1){const xe=ae[me];if(J+xe[I]>re){me===0&&(J=re);break}J+=xe[I]}return J},Oe=()=>{le(-1*pe())},Se=()=>{le(pe())},ee=G.useCallback(re=>{z({overflow:null,scrollbarWidth:re})},[]),ie=()=>{const re={};re.scrollbarSizeListener=O?V(CH,{onChange:ee,className:et(B.scrollableX,B.hideScrollbar)}):null;const J=H.start||H.end,ae=O&&(v==="auto"&&J||v===!0);return re.scrollButtonStart=ae?V(g,ve({orientation:y,direction:o?"right":"left",onClick:Oe,disabled:!H.start},x,{className:et(B.scrollButtons,x.className)})):null,re.scrollButtonEnd=ae?V(g,ve({orientation:y,direction:o?"left":"right",onClick:Se,disabled:!H.end},x,{className:et(B.scrollButtons,x.className)})):null,re},se=Do(re=>{const{tabsMeta:J,tabMeta:ae}=X();if(!(!ae||!J)){if(ae[b]<J[b]){const me=J[A]+(ae[b]-J[b]);ge(me,{animation:re})}else if(ae[E]>J[E]){const me=J[A]+(ae[E]-J[E]);ge(me,{animation:re})}}}),he=Do(()=>{if(O&&v!==!1){const{scrollTop:re,scrollHeight:J,clientHeight:ae,scrollWidth:me,clientWidth:xe}=W.current;let we,ut;if(L)we=re>1,ut=re<J-ae-1;else{const Re=Yx(W.current,i.direction);we=o?Re<me-xe-1:Re>1,ut=o?Re>1:Re<me-xe-1}(we!==H.start||ut!==H.end)&&P({start:we,end:ut})}});G.useEffect(()=>{const re=nh(()=>{W.current&&(Z(),he())}),J=B1(W.current);J.addEventListener("resize",re);let ae;return typeof ResizeObserver<"u"&&(ae=new ResizeObserver(re),Array.from(K.current.children).forEach(me=>{ae.observe(me)})),()=>{re.clear(),J.removeEventListener("resize",re),ae&&ae.disconnect()}},[Z,he]);const fe=G.useMemo(()=>nh(()=>{he()}),[he]);G.useEffect(()=>()=>{fe.clear()},[fe]),G.useEffect(()=>{R(!0)},[]),G.useEffect(()=>{Z(),he()}),G.useEffect(()=>{se(PE!==_)},[se,_]),G.useImperativeHandle(c,()=>({updateIndicator:Z,updateScrollButtons:he}),[Z,he]);const _e=V(TH,ve({},w,{className:et(B.indicator,w.className),ownerState:$,style:ve({},_,w.style)}));let ce=0;const Q=G.Children.map(u,re=>{if(!G.isValidElement(re))return null;const J=re.props.value===void 0?ce:re.props.value;q.set(J,ce);const ae=J===k;return ce+=1,G.cloneElement(re,ve({fullWidth:N==="fullWidth",indicator:ae&&!j&&_e,selected:ae,selectionFollowsFocus:S,onChange:m,textColor:M,value:J},ce===1&&k===!1&&!re.props.tabIndex?{tabIndex:0}:{}))}),te=re=>{const J=K.current,ae=L1(J).activeElement;if(ae.getAttribute("role")!=="tab")return;let xe=y==="horizontal"?"ArrowLeft":"ArrowUp",we=y==="horizontal"?"ArrowRight":"ArrowDown";switch(y==="horizontal"&&o&&(xe="ArrowRight",we="ArrowLeft"),re.key){case xe:re.preventDefault(),Cf(J,ae,RE);break;case we:re.preventDefault(),Cf(J,ae,EE);break;case"Home":re.preventDefault(),Cf(J,null,EE);break;case"End":re.preventDefault(),Cf(J,null,RE);break}},ne=ie();return Ee(PH,ve({className:et(B.root,f),ownerState:$,ref:r,as:d},D,{children:[ne.scrollButtonStart,ne.scrollbarSizeListener,Ee(AH,{className:B.scroller,ownerState:$,style:{overflow:T.overflow,[L?`margin${o?"Left":"Right"}`:"marginBottom"]:U?void 0:-T.scrollbarWidth},ref:W,onScroll:fe,children:[V(kH,{"aria-label":s,"aria-labelledby":a,"aria-orientation":y==="vertical"?"vertical":null,className:B.flexContainer,ownerState:$,onKeyDown:te,ref:K,role:"tablist",children:Q}),j&&_e]}),ne.scrollButtonEnd]}))}),MH=OH;function NH(t){return Nn("MuiTab",t)}const IH=ii("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),cs=IH,DH=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],LH=t=>{const{classes:e,textColor:r,fullWidth:n,wrapped:i,icon:o,label:s,selected:a,disabled:c}=t,l={root:["root",o&&s&&"labelIcon",`textColor${mt(r)}`,n&&"fullWidth",i&&"wrapped",a&&"selected",c&&"disabled"],iconWrapper:["iconWrapper"]};return ni(l,NH,e)},BH=qt(zp,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.label&&r.icon&&e.labelIcon,e[`textColor${mt(r.textColor)}`],r.fullWidth&&e.fullWidth,r.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>ve({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${cs.iconWrapper}`]:ve({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${cs.selected}`]:{opacity:1},[`&.${cs.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${cs.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${cs.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${cs.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${cs.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),$H=G.forwardRef(function(e,r){const n=In({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:c,iconPosition:l="top",indicator:u,label:f,onChange:d,onClick:h,onFocus:p,selected:m,selectionFollowsFocus:y,textColor:g="inherit",value:v,wrapped:S=!1}=n,w=kt(n,DH),x=ve({},n,{disabled:o,disableFocusRipple:s,selected:m,icon:!!c,iconPosition:l,label:!!f,fullWidth:a,textColor:g,wrapped:S}),M=LH(x),k=c&&f&&G.isValidElement(c)?G.cloneElement(c,{className:et(M.iconWrapper,c.props.className)}):c,N=D=>{!m&&d&&d(D,v),h&&h(D)},U=D=>{y&&!m&&d&&d(D,v),p&&p(D)};return Ee(BH,ve({focusRipple:!s,className:et(M.root,i),ref:r,role:"tab","aria-selected":m,disabled:o,onClick:N,onFocus:U,ownerState:x,tabIndex:m?0:-1},w,{children:[l==="top"||l==="start"?Ee(G.Fragment,{children:[k,f]}):Ee(G.Fragment,{children:[f,k]}),u]}))}),FH=$H;function jH(t){return Nn("MuiTypography",t)}ii("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const UH=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],zH=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${mt(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return ni(a,jH,s)},qH=qt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${mt(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>ve({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),AE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},HH={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},VH=t=>HH[t]||t,WH=G.forwardRef(function(e,r){const n=In({props:e,name:"MuiTypography"}),i=VH(n.color),o=Bp(ve({},n,{color:i})),{align:s="inherit",className:a,component:c,gutterBottom:l=!1,noWrap:u=!1,paragraph:f=!1,variant:d="body1",variantMapping:h=AE}=o,p=kt(o,UH),m=ve({},o,{align:s,color:i,className:a,component:c,gutterBottom:l,noWrap:u,paragraph:f,variant:d,variantMapping:h}),y=c||(f?"p":h[d]||AE[d])||"span",g=zH(m);return V(qH,ve({as:y,ref:r,ownerState:m,className:et(g.root,a)},p))}),GH=WH,KH=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},kE=KH,QH=mT(),JH=hz({defaultTheme:QH,defaultClassName:"MuiBox-root",generateClassName:F1.generate}),cu=JH;var O0={},YH={get exports(){return O0},set exports(t){O0=t}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:oe,function(){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return r[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),c=i(45),l=i(46),u=i(47),f=i(48),d=i(49),h=i(12),p=i(32),m=i(33),y=i(31),g=i(1),v={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:f.default,Scroll:c.default,Block:u.default,Inline:l.default,Text:d.default,Attributor:{Attribute:h.default,Class:p.default,Style:m.default,Store:y.default}};n.default=v},function(r,n,i){var o=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var S in v)v.hasOwnProperty(S)&&(g[S]=v[S])};return function(g,v){y(g,v);function S(){this.constructor=g}g.prototype=v===null?Object.create(v):(S.prototype=v.prototype,new S)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(y){o(g,y);function g(v){var S=this;return v="[Parchment] "+v,S=y.call(this,v)||this,S.message=v,S.name=S.constructor.name,S}return g}(Error);n.ParchmentError=s;var a={},c={},l={},u={};n.DATA_KEY="__blot";var f;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function d(y,g){var v=p(y);if(v==null)throw new s("Unable to create "+y+" blot");var S=v,w=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:S.create(g);return new S(w,g)}n.create=d;function h(y,g){return g===void 0&&(g=!1),y==null?null:y[n.DATA_KEY]!=null?y[n.DATA_KEY].blot:g?h(y.parentNode,g):null}n.find=h;function p(y,g){g===void 0&&(g=f.ANY);var v;if(typeof y=="string")v=u[y]||a[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)v=u.text;else if(typeof y=="number")y&f.LEVEL&f.BLOCK?v=u.block:y&f.LEVEL&f.INLINE&&(v=u.inline);else if(y instanceof HTMLElement){var S=(y.getAttribute("class")||"").split(/\s+/);for(var w in S)if(v=c[S[w]],v)break;v=v||l[y.tagName]}return v==null?null:g&f.LEVEL&v.scope&&g&f.TYPE&v.scope?v:null}n.query=p;function m(){for(var y=[],g=0;g<arguments.length;g++)y[g]=arguments[g];if(y.length>1)return y.map(function(w){return m(w)});var v=y[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new s("Invalid definition");if(v.blotName==="abstract")throw new s("Cannot register abstract class");if(u[v.blotName||v.attrName]=v,typeof v.keyName=="string")a[v.keyName]=v;else if(v.className!=null&&(c[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(w){return w.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var S=Array.isArray(v.tagName)?v.tagName:[v.tagName];S.forEach(function(w){(l[w]==null||v.className==null)&&(l[w]=v)})}return v}n.register=m},function(r,n,i){var o=i(51),s=i(11),a=i(3),c=i(20),l=String.fromCharCode(0),u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,d){var h={};return f.length===0?this:(h.insert=f,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,d){if(f<=0)return this;var h={retain:f};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h)},u.prototype.push=function(f){var d=this.ops.length,h=this.ops[d-1];if(f=a(!0,{},f),typeof h=="object"){if(typeof f.delete=="number"&&typeof h.delete=="number")return this.ops[d-1]={delete:h.delete+f.delete},this;if(typeof h.delete=="number"&&f.insert!=null&&(d-=1,h=this.ops[d-1],typeof h!="object"))return this.ops.unshift(f),this;if(s(f.attributes,h.attributes)){if(typeof f.insert=="string"&&typeof h.insert=="string")return this.ops[d-1]={insert:h.insert+f.insert},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof h.retain=="number")return this.ops[d-1]={retain:h.retain+f.retain},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this}}return d===this.ops.length?this.ops.push(f):this.ops.splice(d,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var d=[],h=[];return this.forEach(function(p){var m=f(p)?d:h;m.push(p)}),[d,h]},u.prototype.reduce=function(f,d){return this.ops.reduce(f,d)},u.prototype.changeLength=function(){return this.reduce(function(f,d){return d.insert?f+c.length(d):d.delete?f-d.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,d){return f+c.length(d)},0)},u.prototype.slice=function(f,d){f=f||0,typeof d!="number"&&(d=1/0);for(var h=[],p=c.iterator(this.ops),m=0;m<d&&p.hasNext();){var y;m<f?y=p.next(f-m):(y=p.next(d-m),h.push(y)),m+=c.length(y)}return new u(h)},u.prototype.compose=function(f){var d=c.iterator(this.ops),h=c.iterator(f.ops),p=[],m=h.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var y=m.retain;d.peekType()==="insert"&&d.peekLength()<=y;)y-=d.peekLength(),p.push(d.next());m.retain-y>0&&h.next(m.retain-y)}for(var g=new u(p);d.hasNext()||h.hasNext();)if(h.peekType()==="insert")g.push(h.next());else if(d.peekType()==="delete")g.push(d.next());else{var v=Math.min(d.peekLength(),h.peekLength()),S=d.next(v),w=h.next(v);if(typeof w.retain=="number"){var x={};typeof S.retain=="number"?x.retain=v:x.insert=S.insert;var M=c.attributes.compose(S.attributes,w.attributes,typeof S.retain=="number");if(M&&(x.attributes=M),g.push(x),!h.hasNext()&&s(g.ops[g.ops.length-1],x)){var k=new u(d.rest());return g.concat(k).chop()}}else typeof w.delete=="number"&&typeof S.retain=="number"&&g.push(w)}return g.chop()},u.prototype.concat=function(f){var d=new u(this.ops.slice());return f.ops.length>0&&(d.push(f.ops[0]),d.ops=d.ops.concat(f.ops.slice(1))),d},u.prototype.diff=function(f,d){if(this.ops===f.ops)return new u;var h=[this,f].map(function(v){return v.map(function(S){if(S.insert!=null)return typeof S.insert=="string"?S.insert:l;var w=v===f?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),p=new u,m=o(h[0],h[1],d),y=c.iterator(this.ops),g=c.iterator(f.ops);return m.forEach(function(v){for(var S=v[1].length;S>0;){var w=0;switch(v[0]){case o.INSERT:w=Math.min(g.peekLength(),S),p.push(g.next(w));break;case o.DELETE:w=Math.min(S,y.peekLength()),y.next(w),p.delete(w);break;case o.EQUAL:w=Math.min(y.peekLength(),g.peekLength(),S);var x=y.next(w),M=g.next(w);s(x.insert,M.insert)?p.retain(w,c.attributes.diff(x.attributes,M.attributes)):p.push(M).delete(w);break}S-=w}}),p.chop()},u.prototype.eachLine=function(f,d){d=d||`
`;for(var h=c.iterator(this.ops),p=new u,m=0;h.hasNext();){if(h.peekType()!=="insert")return;var y=h.peek(),g=c.length(y)-h.peekLength(),v=typeof y.insert=="string"?y.insert.indexOf(d,g)-g:-1;if(v<0)p.push(h.next());else if(v>0)p.push(h.next(v));else{if(f(p,h.next(1).attributes||{},m)===!1)return;m+=1,p=new u}}p.length()>0&&f(p,{},m)},u.prototype.transform=function(f,d){if(d=!!d,typeof f=="number")return this.transformPosition(f,d);for(var h=c.iterator(this.ops),p=c.iterator(f.ops),m=new u;h.hasNext()||p.hasNext();)if(h.peekType()==="insert"&&(d||p.peekType()!=="insert"))m.retain(c.length(h.next()));else if(p.peekType()==="insert")m.push(p.next());else{var y=Math.min(h.peekLength(),p.peekLength()),g=h.next(y),v=p.next(y);if(g.delete)continue;v.delete?m.push(v):m.retain(y,c.attributes.transform(g.attributes,v.attributes,d))}return m.chop()},u.prototype.transformPosition=function(f,d){d=!!d;for(var h=c.iterator(this.ops),p=0;h.hasNext()&&p<=f;){var m=h.peekLength(),y=h.peekType();if(h.next(),y==="delete"){f-=Math.min(m,f-p);continue}else y==="insert"&&(p<f||!d)&&(f+=m);p+=m}return f},r.exports=u},function(r,n){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,c=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},l=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var p=i.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!m)return!1;var y;for(y in h);return typeof y>"u"||i.call(h,y)},u=function(h,p){s&&p.name==="__proto__"?s(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},f=function(h,p){if(p==="__proto__")if(i.call(h,p)){if(a)return a(h,p).value}else return;return h[p]};r.exports=function d(){var h,p,m,y,g,v,S=arguments[0],w=1,x=arguments.length,M=!1;for(typeof S=="boolean"&&(M=S,S=arguments[1]||{},w=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});w<x;++w)if(h=arguments[w],h!=null)for(p in h)m=f(S,p),y=f(h,p),S!==y&&(M&&y&&(l(y)||(g=c(y)))?(g?(g=!1,v=m&&c(m)?m:[]):v=m&&l(m)?m:{},u(S,{name:p,newValue:d(M,v,y)})):typeof y<"u"&&u(S,{name:p,newValue:y}));return S}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var o=function(){function O(L,A){for(var b=0;b<A.length;b++){var E=A[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(L,E.key,E)}}return function(L,A,b){return A&&O(L.prototype,A),b&&O(L,b),L}}(),s=function O(L,A,b){L===null&&(L=Function.prototype);var E=Object.getOwnPropertyDescriptor(L,A);if(E===void 0){var I=Object.getPrototypeOf(L);return I===null?void 0:O(I,A,b)}else{if("value"in E)return E.value;var F=E.get;return F===void 0?void 0:F.call(b)}},a=i(3),c=S(a),l=i(2),u=S(l),f=i(0),d=S(f),h=i(16),p=S(h),m=i(6),y=S(m),g=i(7),v=S(g);function S(O){return O&&O.__esModule?O:{default:O}}function w(O,L){if(!(O instanceof L))throw new TypeError("Cannot call a class as a function")}function x(O,L){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:O}function M(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(O,L):O.__proto__=L)}var k=1,N=function(O){M(L,O);function L(){return w(this,L),x(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return o(L,[{key:"attach",value:function(){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(b,E){var I=d.default.query(b,d.default.Scope.BLOCK_ATTRIBUTE);I!=null&&this.attributes.attribute(I,E)}},{key:"formatAt",value:function(b,E,I,F){this.format(I,F)}},{key:"insertAt",value:function(b,E,I){if(typeof E=="string"&&E.endsWith(`
`)){var F=d.default.create(U.blotName);this.parent.insertBefore(F,b===0?this:this.next),F.insertAt(0,E.slice(0,-1))}else s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,b,E,I)}}]),L}(d.default.Embed);N.scope=d.default.Scope.BLOCK_BLOT;var U=function(O){M(L,O);function L(A){w(this,L);var b=x(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,A));return b.cache={},b}return o(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(b,E){return E.length()===0?b:b.insert(E.value(),D(E))},new u.default).insert(`
`,D(this))),this.cache.delta}},{key:"deleteAt",value:function(b,E){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,b,E),this.cache={}}},{key:"formatAt",value:function(b,E,I,F){E<=0||(d.default.query(I,d.default.Scope.BLOCK)?b+E===this.length()&&this.format(I,F):s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,b,Math.min(E,this.length()-b-1),I,F),this.cache={})}},{key:"insertAt",value:function(b,E,I){if(I!=null)return s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,b,E,I);if(E.length!==0){var F=E.split(`
`),$=F.shift();$.length>0&&(b<this.length()-1||this.children.tail==null?s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min(b,this.length()-1),$):this.children.tail.insertAt(this.children.tail.length(),$),this.cache={});var B=this;F.reduce(function(j,R){return B=B.split(j,!0),B.insertAt(0,R),R.length},b+$.length)}}},{key:"insertBefore",value:function(b,E){var I=this.children.head;s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,b,E),I instanceof p.default&&I.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(b,E){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,b,E),this.cache={}}},{key:"optimize",value:function(b){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,b),this.cache={}}},{key:"path",value:function(b){return s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,b,!0)}},{key:"removeChild",value:function(b){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,b),this.cache={}}},{key:"split",value:function(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E&&(b===0||b>=this.length()-k)){var I=this.clone();return b===0?(this.parent.insertBefore(I,this),this):(this.parent.insertBefore(I,this.next),I)}else{var F=s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,b,E);return this.cache={},F}}}]),L}(d.default.Block);U.blotName="block",U.tagName="P",U.defaultChild="break",U.allowedChildren=[y.default,d.default.Embed,v.default];function D(O){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O==null||(typeof O.formats=="function"&&(L=(0,c.default)(L,O.formats())),O.parent==null||O.parent.blotName=="scroll"||O.parent.statics.scope!==O.statics.scope)?L:D(O.parent,L)}n.bubbleFormats=D,n.BlockEmbed=N,n.default=U},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(j,R){var _=[],C=!0,H=!1,P=void 0;try{for(var T=j[Symbol.iterator](),z;!(C=(z=T.next()).done)&&(_.push(z.value),!(R&&_.length===R));C=!0);}catch(q){H=!0,P=q}finally{try{!C&&T.return&&T.return()}finally{if(H)throw P}}return _}return function(j,R){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return B(j,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(j,R){for(var _=0;_<R.length;_++){var C=R[_];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(j,C.key,C)}}return function(j,R,_){return R&&B(j.prototype,R),_&&B(j,_),j}}();i(50);var c=i(2),l=D(c),u=i(14),f=D(u),d=i(8),h=D(d),p=i(9),m=D(p),y=i(0),g=D(y),v=i(15),S=D(v),w=i(3),x=D(w),M=i(10),k=D(M),N=i(34),U=D(N);function D(B){return B&&B.__esModule?B:{default:B}}function O(B,j,R){return j in B?Object.defineProperty(B,j,{value:R,enumerable:!0,configurable:!0,writable:!0}):B[j]=R,B}function L(B,j){if(!(B instanceof j))throw new TypeError("Cannot call a class as a function")}var A=(0,k.default)("quill"),b=function(){a(B,null,[{key:"debug",value:function(R){R===!0&&(R="log"),k.default.level(R)}},{key:"find",value:function(R){return R.__quill||g.default.find(R)}},{key:"import",value:function(R){return this.imports[R]==null&&A.error("Cannot import "+R+". Are you sure it was registered?"),this.imports[R]}},{key:"register",value:function(R,_){var C=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof R!="string"){var P=R.attrName||R.blotName;typeof P=="string"?this.register("formats/"+P,R,_):Object.keys(R).forEach(function(T){C.register(T,R[T],_)})}else this.imports[R]!=null&&!H&&A.warn("Overwriting "+R+" with",_),this.imports[R]=_,(R.startsWith("blots/")||R.startsWith("formats/"))&&_.blotName!=="abstract"?g.default.register(_):R.startsWith("modules")&&typeof _.register=="function"&&_.register()}}]);function B(j){var R=this,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,B),this.options=E(j,_),this.container=this.options.container,this.container==null)return A.error("Invalid Quill container",j);this.options.debug&&B.debug(this.options.debug);var C=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new S.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(P){P===h.default.events.TEXT_CHANGE&&R.root.classList.toggle("ql-blank",R.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(P,T){var z=R.selection.lastRange,q=z&&z.length===0?z.index:void 0;I.call(R,function(){return R.editor.update(null,T,q)},P)});var H=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+C+"<p><br></p></div>");this.setContents(H),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(B,[{key:"addContainer",value:function(R){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof R=="string"){var C=R;R=document.createElement("div"),R.classList.add(C)}return this.container.insertBefore(R,_),R}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(R,_,C){var H=this,P=F(R,_,C),T=s(P,4);return R=T[0],_=T[1],C=T[3],I.call(this,function(){return H.editor.deleteText(R,_)},C,R,-1*_)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(R),this.container.classList.toggle("ql-disabled",!R)}},{key:"focus",value:function(){var R=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=R,this.scrollIntoView()}},{key:"format",value:function(R,_){var C=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return I.call(this,function(){var P=C.getSelection(!0),T=new l.default;if(P==null)return T;if(g.default.query(R,g.default.Scope.BLOCK))T=C.editor.formatLine(P.index,P.length,O({},R,_));else{if(P.length===0)return C.selection.format(R,_),T;T=C.editor.formatText(P.index,P.length,O({},R,_))}return C.setSelection(P,h.default.sources.SILENT),T},H)}},{key:"formatLine",value:function(R,_,C,H,P){var T=this,z=void 0,q=F(R,_,C,H,P),W=s(q,4);return R=W[0],_=W[1],z=W[2],P=W[3],I.call(this,function(){return T.editor.formatLine(R,_,z)},P,R,0)}},{key:"formatText",value:function(R,_,C,H,P){var T=this,z=void 0,q=F(R,_,C,H,P),W=s(q,4);return R=W[0],_=W[1],z=W[2],P=W[3],I.call(this,function(){return T.editor.formatText(R,_,z)},P,R,0)}},{key:"getBounds",value:function(R){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=void 0;typeof R=="number"?C=this.selection.getBounds(R,_):C=this.selection.getBounds(R.index,R.length);var H=this.container.getBoundingClientRect();return{bottom:C.bottom-H.top,height:C.height,left:C.left-H.left,right:C.right-H.left,top:C.top-H.top,width:C.width}}},{key:"getContents",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-R,C=F(R,_),H=s(C,2);return R=H[0],_=H[1],this.editor.getContents(R,_)}},{key:"getFormat",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof R=="number"?this.editor.getFormat(R,_):this.editor.getFormat(R.index,R.length)}},{key:"getIndex",value:function(R){return R.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(R){return this.scroll.leaf(R)}},{key:"getLine",value:function(R){return this.scroll.line(R)}},{key:"getLines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof R!="number"?this.scroll.lines(R.index,R.length):this.scroll.lines(R,_)}},{key:"getModule",value:function(R){return this.theme.modules[R]}},{key:"getSelection",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return R&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-R,C=F(R,_),H=s(C,2);return R=H[0],_=H[1],this.editor.getText(R,_)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(R,_,C){var H=this,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return I.call(this,function(){return H.editor.insertEmbed(R,_,C)},P,R)}},{key:"insertText",value:function(R,_,C,H,P){var T=this,z=void 0,q=F(R,0,C,H,P),W=s(q,4);return R=W[0],z=W[2],P=W[3],I.call(this,function(){return T.editor.insertText(R,_,z)},P,R,_.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(R,_,C){this.clipboard.dangerouslyPasteHTML(R,_,C)}},{key:"removeFormat",value:function(R,_,C){var H=this,P=F(R,_,C),T=s(P,4);return R=T[0],_=T[1],C=T[3],I.call(this,function(){return H.editor.removeFormat(R,_)},C,R)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(R){var _=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return I.call(this,function(){R=new l.default(R);var H=_.getLength(),P=_.editor.deleteText(0,H),T=_.editor.applyDelta(R),z=T.ops[T.ops.length-1];z!=null&&typeof z.insert=="string"&&z.insert[z.insert.length-1]===`
`&&(_.editor.deleteText(_.getLength()-1,1),T.delete(1));var q=P.compose(T);return q},C)}},{key:"setSelection",value:function(R,_,C){if(R==null)this.selection.setRange(null,_||B.sources.API);else{var H=F(R,_,C),P=s(H,4);R=P[0],_=P[1],C=P[3],this.selection.setRange(new v.Range(R,_),C),C!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(R){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,C=new l.default().insert(R);return this.setContents(C,_)}},{key:"update",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,_=this.scroll.update(R);return this.selection.update(R),_}},{key:"updateContents",value:function(R){var _=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return I.call(this,function(){return R=new l.default(R),_.editor.applyDelta(R,C)},C,!0)}}]),B}();b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=h.default.events,b.sources=h.default.sources,b.version="1.3.7",b.imports={delta:l.default,parchment:g.default,"core/module":m.default,"core/theme":U.default};function E(B,j){if(j=(0,x.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},j),!j.theme||j.theme===b.DEFAULTS.theme)j.theme=U.default;else if(j.theme=b.import("themes/"+j.theme),j.theme==null)throw new Error("Invalid theme "+j.theme+". Did you register it?");var R=(0,x.default)(!0,{},j.theme.DEFAULTS);[R,j].forEach(function(H){H.modules=H.modules||{},Object.keys(H.modules).forEach(function(P){H.modules[P]===!0&&(H.modules[P]={})})});var _=Object.keys(R.modules).concat(Object.keys(j.modules)),C=_.reduce(function(H,P){var T=b.import("modules/"+P);return T==null?A.error("Cannot load "+P+" module. Are you sure you registered it?"):H[P]=T.DEFAULTS||{},H},{});return j.modules!=null&&j.modules.toolbar&&j.modules.toolbar.constructor!==Object&&(j.modules.toolbar={container:j.modules.toolbar}),j=(0,x.default)(!0,{},b.DEFAULTS,{modules:C},R,j),["bounds","container","scrollingContainer"].forEach(function(H){typeof j[H]=="string"&&(j[H]=document.querySelector(j[H]))}),j.modules=Object.keys(j.modules).reduce(function(H,P){return j.modules[P]&&(H[P]=j.modules[P]),H},{}),j}function I(B,j,R,_){if(this.options.strict&&!this.isEnabled()&&j===h.default.sources.USER)return new l.default;var C=R==null?null:this.getSelection(),H=this.editor.delta,P=B();if(C!=null&&(R===!0&&(R=C.index),_==null?C=$(C,P,j):_!==0&&(C=$(C,R,_,j)),this.setSelection(C,h.default.sources.SILENT)),P.length()>0){var T,z=[h.default.events.TEXT_CHANGE,P,H,j];if((T=this.emitter).emit.apply(T,[h.default.events.EDITOR_CHANGE].concat(z)),j!==h.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,z)}}return P}function F(B,j,R,_,C){var H={};return typeof B.index=="number"&&typeof B.length=="number"?typeof j!="number"?(C=_,_=R,R=j,j=B.length,B=B.index):(j=B.length,B=B.index):typeof j!="number"&&(C=_,_=R,R=j,j=0),(typeof R>"u"?"undefined":o(R))==="object"?(H=R,C=_):typeof R=="string"&&(_!=null?H[R]=_:C=R),C=C||h.default.sources.API,[B,j,H,C]}function $(B,j,R,_){if(B==null)return null;var C=void 0,H=void 0;if(j instanceof l.default){var P=[B.index,B.index+B.length].map(function(W){return j.transformPosition(W,_!==h.default.sources.USER)}),T=s(P,2);C=T[0],H=T[1]}else{var z=[B.index,B.index+B.length].map(function(W){return W<j||W===j&&_===h.default.sources.USER?W:R>=0?W+R:Math.max(j,W+R)}),q=s(z,2);C=q[0],H=q[1]}return new v.Range(C,H-C)}n.expandConfig=E,n.overload=F,n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function y(g,v){for(var S=0;S<v.length;S++){var w=v[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,v,S){return v&&y(g.prototype,v),S&&y(g,S),g}}(),s=function y(g,v,S){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,v);if(w===void 0){var x=Object.getPrototypeOf(g);return x===null?void 0:y(x,v,S)}else{if("value"in w)return w.value;var M=w.get;return M===void 0?void 0:M.call(S)}},a=i(7),c=f(a),l=i(0),u=f(l);function f(y){return y&&y.__esModule?y:{default:y}}function d(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function h(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function p(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var m=function(y){p(g,y);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"formatAt",value:function(S,w,x,M){if(g.compare(this.statics.blotName,x)<0&&u.default.query(x,u.default.Scope.BLOT)){var k=this.isolate(S,w);M&&k.wrap(x,M)}else s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,S,w,x,M)}},{key:"optimize",value:function(S){if(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,S),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(S,w){var x=g.order.indexOf(S),M=g.order.indexOf(w);return x>=0||M>=0?x-M:S===w?0:S<w?-1:1}}]),g}(u.default.Inline);m.allowedChildren=[m,u.default.Embed,c.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function l(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){u(h,d);function h(){return c(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function v(S,w){for(var x=0;x<w.length;x++){var M=w[x];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,w,x){return w&&v(S.prototype,w),x&&v(S,x),S}}(),s=function v(S,w,x){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,w);if(M===void 0){var k=Object.getPrototypeOf(S);return k===null?void 0:v(k,w,x)}else{if("value"in M)return M.value;var N=M.get;return N===void 0?void 0:N.call(x)}},a=i(54),c=f(a),l=i(10),u=f(l);function f(v){return v&&v.__esModule?v:{default:v}}function d(v,S){if(!(v instanceof S))throw new TypeError("Cannot call a class as a function")}function h(v,S){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:v}function p(v,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);v.prototype=Object.create(S&&S.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(v,S):v.__proto__=S)}var m=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(v){document.addEventListener(v,function(){for(var S=arguments.length,w=Array(S),x=0;x<S;x++)w[x]=arguments[x];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(M){if(M.__quill&&M.__quill.emitter){var k;(k=M.__quill.emitter).handleDOM.apply(k,w)}})})});var g=function(v){p(S,v);function S(){d(this,S);var w=h(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));return w.listeners={},w.on("error",m.error),w}return o(S,[{key:"emit",value:function(){m.log.apply(m,arguments),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var M=arguments.length,k=Array(M>1?M-1:0),N=1;N<M;N++)k[N-1]=arguments[N];(this.listeners[x.type]||[]).forEach(function(U){var D=U.node,O=U.handler;(x.target===D||D.contains(x.target))&&O.apply(void 0,[x].concat(k))})}},{key:"listenDOM",value:function(x,M,k){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:M,handler:k})}}]),S}(c.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function o(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}var s=function a(c){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=c,this.options=l};s.DEFAULTS={},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(l){if(o.indexOf(l)<=o.indexOf(s)){for(var u,f=arguments.length,d=Array(f>1?f-1:0),h=1;h<f;h++)d[h-1]=arguments[h];(u=console)[l].apply(u,d)}}function c(l){return o.reduce(function(u,f){return u[f]=a.bind(console,f,l),u},{})}a.level=c.level=function(l){s=l},n.default=c},function(r,n,i){var o=Array.prototype.slice,s=i(52),a=i(53),c=r.exports=function(d,h,p){return p||(p={}),d===h?!0:d instanceof Date&&h instanceof Date?d.getTime()===h.getTime():!d||!h||typeof d!="object"&&typeof h!="object"?p.strict?d===h:d==h:f(d,h,p)};function l(d){return d==null}function u(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function f(d,h,p){var m,y;if(l(d)||l(h)||d.prototype!==h.prototype)return!1;if(a(d))return a(h)?(d=o.call(d),h=o.call(h),c(d,h,p)):!1;if(u(d)){if(!u(h)||d.length!==h.length)return!1;for(m=0;m<d.length;m++)if(d[m]!==h[m])return!1;return!0}try{var g=s(d),v=s(h)}catch{return!1}if(g.length!=v.length)return!1;for(g.sort(),v.sort(),m=g.length-1;m>=0;m--)if(g[m]!=v[m])return!1;for(m=g.length-1;m>=0;m--)if(y=g[m],!c(d[y],h[y],p))return!1;return typeof d==typeof h}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),s=function(){function a(c,l,u){u===void 0&&(u={}),this.attrName=c,this.keyName=l;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return a.keys=function(c){return[].map.call(c.attributes,function(l){return l.name})},a.prototype.add=function(c,l){return this.canAdd(c,l)?(c.setAttribute(this.keyName,l),!0):!1},a.prototype.canAdd=function(c,l){var u=o.query(c,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof l=="string"?this.whitelist.indexOf(l.replace(/["']/g,""))>-1:this.whitelist.indexOf(l)>-1},a.prototype.remove=function(c){c.removeAttribute(this.keyName)},a.prototype.value=function(c){var l=c.getAttribute(this.keyName);return this.canAdd(c,l)&&l?l:""},a}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var o=function(){function N(U,D){var O=[],L=!0,A=!1,b=void 0;try{for(var E=U[Symbol.iterator](),I;!(L=(I=E.next()).done)&&(O.push(I.value),!(D&&O.length===D));L=!0);}catch(F){A=!0,b=F}finally{try{!L&&E.return&&E.return()}finally{if(A)throw b}}return O}return function(U,D){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return N(U,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function N(U,D){for(var O=0;O<D.length;O++){var L=D[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(U,L.key,L)}}return function(U,D,O){return D&&N(U.prototype,D),O&&N(U,O),U}}(),a=function N(U,D,O){U===null&&(U=Function.prototype);var L=Object.getOwnPropertyDescriptor(U,D);if(L===void 0){var A=Object.getPrototypeOf(U);return A===null?void 0:N(A,D,O)}else{if("value"in L)return L.value;var b=L.get;return b===void 0?void 0:b.call(O)}},c=i(2),l=v(c),u=i(0),f=v(u),d=i(4),h=v(d),p=i(6),m=v(p),y=i(7),g=v(y);function v(N){return N&&N.__esModule?N:{default:N}}function S(N,U){if(!(N instanceof U))throw new TypeError("Cannot call a class as a function")}function w(N,U){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:N}function x(N,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);N.prototype=Object.create(U&&U.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(N,U):N.__proto__=U)}var M=function(N){x(U,N);function U(){return S(this,U),w(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return U}(m.default);M.blotName="code",M.tagName="CODE";var k=function(N){x(U,N);function U(){return S(this,U),w(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return s(U,[{key:"delta",value:function(){var O=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(A,b){return A.insert(b).insert(`
`,O.formats())},new l.default)}},{key:"format",value:function(O,L){if(!(O===this.statics.blotName&&L)){var A=this.descendant(g.default,this.length()-1),b=o(A,1),E=b[0];E!=null&&E.deleteAt(E.length()-1,1),a(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"format",this).call(this,O,L)}}},{key:"formatAt",value:function(O,L,A,b){if(L!==0&&!(f.default.query(A,f.default.Scope.BLOCK)==null||A===this.statics.blotName&&b===this.statics.formats(this.domNode))){var E=this.newlineIndex(O);if(!(E<0||E>=O+L)){var I=this.newlineIndex(O,!0)+1,F=E-I+1,$=this.isolate(I,F),B=$.next;$.format(A,b),B instanceof U&&B.formatAt(0,O-I+L-F,A,b)}}}},{key:"insertAt",value:function(O,L,A){if(A==null){var b=this.descendant(g.default,O),E=o(b,2),I=E[0],F=E[1];I.insertAt(F,L)}}},{key:"length",value:function(){var O=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?O:O+1}},{key:"newlineIndex",value:function(O){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,O).lastIndexOf(`
`);var A=this.domNode.textContent.slice(O).indexOf(`
`);return A>-1?O+A:-1}},{key:"optimize",value:function(O){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"optimize",this).call(this,O);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(O),L.moveChildren(this),L.remove())}},{key:"replace",value:function(O){a(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"replace",this).call(this,O),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var A=f.default.find(L);A==null?L.parentNode.removeChild(L):A instanceof f.default.Embed?A.remove():A.unwrap()})}}],[{key:"create",value:function(O){var L=a(U.__proto__||Object.getPrototypeOf(U),"create",this).call(this,O);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),U}(h.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",n.Code=M,n.default=k},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(j,R){var _=[],C=!0,H=!1,P=void 0;try{for(var T=j[Symbol.iterator](),z;!(C=(z=T.next()).done)&&(_.push(z.value),!(R&&_.length===R));C=!0);}catch(q){H=!0,P=q}finally{try{!C&&T.return&&T.return()}finally{if(H)throw P}}return _}return function(j,R){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return B(j,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(j,R){for(var _=0;_<R.length;_++){var C=R[_];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(j,C.key,C)}}return function(j,R,_){return R&&B(j.prototype,R),_&&B(j,_),j}}(),c=i(2),l=L(c),u=i(20),f=L(u),d=i(0),h=L(d),p=i(13),m=L(p),y=i(24),g=L(y),v=i(4),S=L(v),w=i(16),x=L(w),M=i(21),k=L(M),N=i(11),U=L(N),D=i(3),O=L(D);function L(B){return B&&B.__esModule?B:{default:B}}function A(B,j,R){return j in B?Object.defineProperty(B,j,{value:R,enumerable:!0,configurable:!0,writable:!0}):B[j]=R,B}function b(B,j){if(!(B instanceof j))throw new TypeError("Cannot call a class as a function")}var E=/^[ -~]*$/,I=function(){function B(j){b(this,B),this.scroll=j,this.delta=this.getDelta()}return a(B,[{key:"applyDelta",value:function(R){var _=this,C=!1;this.scroll.update();var H=this.scroll.length();return this.scroll.batchStart(),R=$(R),R.reduce(function(P,T){var z=T.retain||T.delete||T.insert.length||1,q=T.attributes||{};if(T.insert!=null){if(typeof T.insert=="string"){var W=T.insert;W.endsWith(`
`)&&C&&(C=!1,W=W.slice(0,-1)),P>=H&&!W.endsWith(`
`)&&(C=!0),_.scroll.insertAt(P,W);var K=_.scroll.line(P),X=s(K,2),Z=X[0],ge=X[1],le=(0,O.default)({},(0,v.bubbleFormats)(Z));if(Z instanceof S.default){var pe=Z.descendant(h.default.Leaf,ge),Oe=s(pe,1),Se=Oe[0];le=(0,O.default)(le,(0,v.bubbleFormats)(Se))}q=f.default.attributes.diff(le,q)||{}}else if(o(T.insert)==="object"){var ee=Object.keys(T.insert)[0];if(ee==null)return P;_.scroll.insertAt(P,ee,T.insert[ee])}H+=z}return Object.keys(q).forEach(function(ie){_.scroll.formatAt(P,z,ie,q[ie])}),P+z},0),R.reduce(function(P,T){return typeof T.delete=="number"?(_.scroll.deleteAt(P,T.delete),P):P+(T.retain||T.insert.length||1)},0),this.scroll.batchEnd(),this.update(R)}},{key:"deleteText",value:function(R,_){return this.scroll.deleteAt(R,_),this.update(new l.default().retain(R).delete(_))}},{key:"formatLine",value:function(R,_){var C=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(H).forEach(function(P){if(!(C.scroll.whitelist!=null&&!C.scroll.whitelist[P])){var T=C.scroll.lines(R,Math.max(_,1)),z=_;T.forEach(function(q){var W=q.length();if(!(q instanceof m.default))q.format(P,H[P]);else{var K=R-q.offset(C.scroll),X=q.newlineIndex(K+z)-K+1;q.formatAt(K,X,P,H[P])}z-=W})}}),this.scroll.optimize(),this.update(new l.default().retain(R).retain(_,(0,k.default)(H)))}},{key:"formatText",value:function(R,_){var C=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(H).forEach(function(P){C.scroll.formatAt(R,_,P,H[P])}),this.update(new l.default().retain(R).retain(_,(0,k.default)(H)))}},{key:"getContents",value:function(R,_){return this.delta.slice(R,R+_)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(R,_){return R.concat(_.delta())},new l.default)}},{key:"getFormat",value:function(R){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=[],H=[];_===0?this.scroll.path(R).forEach(function(T){var z=s(T,1),q=z[0];q instanceof S.default?C.push(q):q instanceof h.default.Leaf&&H.push(q)}):(C=this.scroll.lines(R,_),H=this.scroll.descendants(h.default.Leaf,R,_));var P=[C,H].map(function(T){if(T.length===0)return{};for(var z=(0,v.bubbleFormats)(T.shift());Object.keys(z).length>0;){var q=T.shift();if(q==null)return z;z=F((0,v.bubbleFormats)(q),z)}return z});return O.default.apply(O.default,P)}},{key:"getText",value:function(R,_){return this.getContents(R,_).filter(function(C){return typeof C.insert=="string"}).map(function(C){return C.insert}).join("")}},{key:"insertEmbed",value:function(R,_,C){return this.scroll.insertAt(R,_,C),this.update(new l.default().retain(R).insert(A({},_,C)))}},{key:"insertText",value:function(R,_){var C=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _=_.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(R,_),Object.keys(H).forEach(function(P){C.scroll.formatAt(R,_.length,P,H[P])}),this.update(new l.default().retain(R).insert(_,(0,k.default)(H)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var R=this.scroll.children.head;return R.statics.blotName!==S.default.blotName||R.children.length>1?!1:R.children.head instanceof x.default}},{key:"removeFormat",value:function(R,_){var C=this.getText(R,_),H=this.scroll.line(R+_),P=s(H,2),T=P[0],z=P[1],q=0,W=new l.default;T!=null&&(T instanceof m.default?q=T.newlineIndex(z)-z+1:q=T.length()-z,W=T.delta().slice(z,z+q-1).insert(`
`));var K=this.getContents(R,_+q),X=K.diff(new l.default().insert(C).concat(W)),Z=new l.default().retain(R).concat(X);return this.applyDelta(Z)}},{key:"update",value:function(R){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,H=this.delta;if(_.length===1&&_[0].type==="characterData"&&_[0].target.data.match(E)&&h.default.find(_[0].target)){var P=h.default.find(_[0].target),T=(0,v.bubbleFormats)(P),z=P.offset(this.scroll),q=_[0].oldValue.replace(g.default.CONTENTS,""),W=new l.default().insert(q),K=new l.default().insert(P.value()),X=new l.default().retain(z).concat(W.diff(K,C));R=X.reduce(function(Z,ge){return ge.insert?Z.insert(ge.insert,T):Z.push(ge)},new l.default),this.delta=H.compose(R)}else this.delta=this.getDelta(),(!R||!(0,U.default)(H.compose(R),this.delta))&&(R=H.diff(this.delta,C));return R}}]),B}();function F(B,j){return Object.keys(j).reduce(function(R,_){return B[_]==null||(j[_]===B[_]?R[_]=j[_]:Array.isArray(j[_])?j[_].indexOf(B[_])<0&&(R[_]=j[_].concat([B[_]])):R[_]=[j[_],B[_]]),R},{})}function $(B){return B.reduce(function(j,R){if(R.insert===1){var _=(0,k.default)(R.attributes);return delete _.image,j.insert({image:R.attributes.image},_)}if(R.attributes!=null&&(R.attributes.list===!0||R.attributes.bullet===!0)&&(R=(0,k.default)(R),R.attributes.list?R.attributes.list="ordered":(R.attributes.list="bullet",delete R.attributes.bullet)),typeof R.insert=="string"){var C=R.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return j.insert(C,R.attributes)}return j.push(R)},new l.default)}n.default=I},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var o=function(){function N(U,D){var O=[],L=!0,A=!1,b=void 0;try{for(var E=U[Symbol.iterator](),I;!(L=(I=E.next()).done)&&(O.push(I.value),!(D&&O.length===D));L=!0);}catch(F){A=!0,b=F}finally{try{!L&&E.return&&E.return()}finally{if(A)throw b}}return O}return function(U,D){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return N(U,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function N(U,D){for(var O=0;O<D.length;O++){var L=D[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(U,L.key,L)}}return function(U,D,O){return D&&N(U.prototype,D),O&&N(U,O),U}}(),a=i(0),c=g(a),l=i(21),u=g(l),f=i(11),d=g(f),h=i(8),p=g(h),m=i(10),y=g(m);function g(N){return N&&N.__esModule?N:{default:N}}function v(N){if(Array.isArray(N)){for(var U=0,D=Array(N.length);U<N.length;U++)D[U]=N[U];return D}else return Array.from(N)}function S(N,U){if(!(N instanceof U))throw new TypeError("Cannot call a class as a function")}var w=(0,y.default)("quill:selection"),x=function N(U){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;S(this,N),this.index=U,this.length=D},M=function(){function N(U,D){var O=this;S(this,N),this.emitter=D,this.scroll=U,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new x(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(L,A){L===p.default.events.TEXT_CHANGE&&A.length()>0&&O.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var L=O.getNativeRange();L!=null&&L.start.node!==O.cursor.textNode&&O.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(L,A){if(A.range){var b=A.range,E=b.startNode,I=b.startOffset,F=b.endNode,$=b.endOffset;O.setNativeRange(E,I,F,$)}}),this.update(p.default.sources.SILENT)}return s(N,[{key:"handleComposition",value:function(){var D=this;this.root.addEventListener("compositionstart",function(){D.composing=!0}),this.root.addEventListener("compositionend",function(){if(D.composing=!1,D.cursor.parent){var O=D.cursor.restore();if(!O)return;setTimeout(function(){D.setNativeRange(O.startNode,O.startOffset,O.endNode,O.endOffset)},1)}})}},{key:"handleDragging",value:function(){var D=this;this.emitter.listenDOM("mousedown",document.body,function(){D.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){D.mouseDown=!1,D.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(D,O){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[D])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||c.default.query(D,c.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var A=c.default.find(L.start.node,!1);if(A==null)return;if(A instanceof c.default.Leaf){var b=A.split(L.start.offset);A.parent.insertBefore(this.cursor,b)}else A.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(D,O),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();D=Math.min(D,L-1),O=Math.min(D+O,L-1)-D;var A=void 0,b=this.scroll.leaf(D),E=o(b,2),I=E[0],F=E[1];if(I==null)return null;var $=I.position(F,!0),B=o($,2);A=B[0],F=B[1];var j=document.createRange();if(O>0){j.setStart(A,F);var R=this.scroll.leaf(D+O),_=o(R,2);if(I=_[0],F=_[1],I==null)return null;var C=I.position(F,!0),H=o(C,2);return A=H[0],F=H[1],j.setEnd(A,F),j.getBoundingClientRect()}else{var P="left",T=void 0;return A instanceof Text?(F<A.data.length?(j.setStart(A,F),j.setEnd(A,F+1)):(j.setStart(A,F-1),j.setEnd(A,F),P="right"),T=j.getBoundingClientRect()):(T=I.domNode.getBoundingClientRect(),F>0&&(P="right")),{bottom:T.top+T.height,height:T.height,left:T[P],right:T[P],top:T.top,width:0}}}},{key:"getNativeRange",value:function(){var D=document.getSelection();if(D==null||D.rangeCount<=0)return null;var O=D.getRangeAt(0);if(O==null)return null;var L=this.normalizeNative(O);return w.info("getNativeRange",L),L}},{key:"getRange",value:function(){var D=this.getNativeRange();if(D==null)return[null,null];var O=this.normalizedToRange(D);return[O,D]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(D){var O=this,L=[[D.start.node,D.start.offset]];D.native.collapsed||L.push([D.end.node,D.end.offset]);var A=L.map(function(I){var F=o(I,2),$=F[0],B=F[1],j=c.default.find($,!0),R=j.offset(O.scroll);return B===0?R:j instanceof c.default.Container?R+j.length():R+j.index($,B)}),b=Math.min(Math.max.apply(Math,v(A)),this.scroll.length()-1),E=Math.min.apply(Math,[b].concat(v(A)));return new x(E,b-E)}},{key:"normalizeNative",value:function(D){if(!k(this.root,D.startContainer)||!D.collapsed&&!k(this.root,D.endContainer))return null;var O={start:{node:D.startContainer,offset:D.startOffset},end:{node:D.endContainer,offset:D.endOffset},native:D};return[O.start,O.end].forEach(function(L){for(var A=L.node,b=L.offset;!(A instanceof Text)&&A.childNodes.length>0;)if(A.childNodes.length>b)A=A.childNodes[b],b=0;else if(A.childNodes.length===b)A=A.lastChild,b=A instanceof Text?A.data.length:A.childNodes.length+1;else break;L.node=A,L.offset=b}),O}},{key:"rangeToNative",value:function(D){var O=this,L=D.collapsed?[D.index]:[D.index,D.index+D.length],A=[],b=this.scroll.length();return L.forEach(function(E,I){E=Math.min(b-1,E);var F=void 0,$=O.scroll.leaf(E),B=o($,2),j=B[0],R=B[1],_=j.position(R,I!==0),C=o(_,2);F=C[0],R=C[1],A.push(F,R)}),A.length<2&&(A=A.concat(A)),A}},{key:"scrollIntoView",value:function(D){var O=this.lastRange;if(O!=null){var L=this.getBounds(O.index,O.length);if(L!=null){var A=this.scroll.length()-1,b=this.scroll.line(Math.min(O.index,A)),E=o(b,1),I=E[0],F=I;if(O.length>0){var $=this.scroll.line(Math.min(O.index+O.length,A)),B=o($,1);F=B[0]}if(!(I==null||F==null)){var j=D.getBoundingClientRect();L.top<j.top?D.scrollTop-=j.top-L.top:L.bottom>j.bottom&&(D.scrollTop+=L.bottom-j.bottom)}}}}},{key:"setNativeRange",value:function(D,O){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O,b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",D,O,L,A),!(D!=null&&(this.root.parentNode==null||D.parentNode==null||L.parentNode==null))){var E=document.getSelection();if(E!=null)if(D!=null){this.hasFocus()||this.root.focus();var I=(this.getNativeRange()||{}).native;if(I==null||b||D!==I.startContainer||O!==I.startOffset||L!==I.endContainer||A!==I.endOffset){D.tagName=="BR"&&(O=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode),L.tagName=="BR"&&(A=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var F=document.createRange();F.setStart(D,O),F.setEnd(L,A),E.removeAllRanges(),E.addRange(F)}}else E.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof O=="string"&&(L=O,O=!1),w.info("setRange",D),D!=null){var A=this.rangeToNative(D);this.setNativeRange.apply(this,v(A).concat([O]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,O=this.lastRange,L=this.getRange(),A=o(L,2),b=A[0],E=A[1];if(this.lastRange=b,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(O,this.lastRange)){var I;!this.composing&&E!=null&&E.native.collapsed&&E.start.node!==this.cursor.textNode&&this.cursor.restore();var F=[p.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(O),D];if((I=this.emitter).emit.apply(I,[p.default.events.EDITOR_CHANGE].concat(F)),D!==p.default.sources.SILENT){var $;($=this.emitter).emit.apply($,F)}}}}]),N}();function k(N,U){try{U.parentNode}catch{return!1}return U instanceof Text&&(U=U.parentNode),N.contains(U)}n.Range=x,n.default=M},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function p(m,y){for(var g=0;g<y.length;g++){var v=y[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,g){return y&&p(m.prototype,y),g&&p(m,g),m}}(),s=function p(m,y,g){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,y);if(v===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:p(S,y,g)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(g)}},a=i(0),c=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function f(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"insertInto",value:function(g,v){g.children.length===0?s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,g,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(c.default.Embed);h.blotName="break",h.tagName="BR",n.default=h},function(r,n,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){f(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(44),a=i(30),c=i(1),l=function(f){o(d,f);function d(h){var p=f.call(this,h)||this;return p.build(),p}return d.prototype.appendChild=function(h){this.insertBefore(h)},d.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},d.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var m=u(p);h.insertBefore(m,h.children.head||void 0)}catch(y){if(y instanceof c.ParchmentError)return;throw y}})},d.prototype.deleteAt=function(h,p){if(h===0&&p===this.length())return this.remove();this.children.forEachAt(h,p,function(m,y,g){m.deleteAt(y,g)})},d.prototype.descendant=function(h,p){var m=this.children.find(p),y=m[0],g=m[1];return h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h?[y,g]:y instanceof d?y.descendant(h,g):[null,-1]},d.prototype.descendants=function(h,p,m){p===void 0&&(p=0),m===void 0&&(m=Number.MAX_VALUE);var y=[],g=m;return this.children.forEachAt(p,m,function(v,S,w){(h.blotName==null&&h(v)||h.blotName!=null&&v instanceof h)&&y.push(v),v instanceof d&&(y=y.concat(v.descendants(h,S,g))),g-=w}),y},d.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),f.prototype.detach.call(this)},d.prototype.formatAt=function(h,p,m,y){this.children.forEachAt(h,p,function(g,v,S){g.formatAt(v,S,m,y)})},d.prototype.insertAt=function(h,p,m){var y=this.children.find(h),g=y[0],v=y[1];if(g)g.insertAt(v,p,m);else{var S=m==null?c.create("text",p):c.create(p,m);this.appendChild(S)}},d.prototype.insertBefore=function(h,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return h instanceof m}))throw new c.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,p)},d.prototype.length=function(){return this.children.reduce(function(h,p){return h+p.length()},0)},d.prototype.moveChildren=function(h,p){this.children.forEach(function(m){h.insertBefore(m,p)})},d.prototype.optimize=function(h){if(f.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var p=c.create(this.statics.defaultChild);this.appendChild(p),p.optimize(h)}else this.remove()},d.prototype.path=function(h,p){p===void 0&&(p=!1);var m=this.children.find(h,p),y=m[0],g=m[1],v=[[this,h]];return y instanceof d?v.concat(y.path(g,p)):(y!=null&&v.push([y,g]),v)},d.prototype.removeChild=function(h){this.children.remove(h)},d.prototype.replace=function(h){h instanceof d&&h.moveChildren(this),f.prototype.replace.call(this,h)},d.prototype.split=function(h,p){if(p===void 0&&(p=!1),!p){if(h===0)return this;if(h===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(h,this.length(),function(y,g,v){y=y.split(g,p),m.appendChild(y)}),m},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(h,p){var m=this,y=[],g=[];h.forEach(function(v){v.target===m.domNode&&v.type==="childList"&&(y.push.apply(y,v.addedNodes),g.push.apply(g,v.removedNodes))}),g.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var S=c.find(v);S!=null&&(S.domNode.parentNode==null||S.domNode.parentNode===m.domNode)&&S.detach()}}),y.filter(function(v){return v.parentNode==m.domNode}).sort(function(v,S){return v===S?0:v.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var S=null;v.nextSibling!=null&&(S=c.find(v.nextSibling));var w=u(v);(w.next!=S||w.next==null)&&(w.parent!=null&&w.parent.removeChild(m),m.insertBefore(w,S||void 0))})},d}(a.default);function u(f){var d=c.find(f);if(d==null)try{d=c.create(f)}catch{d=c.create(c.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(p){d.domNode.appendChild(p)}),f.parentNode&&f.parentNode.replaceChild(d.domNode,f),d.attach()}return d}n.default=l},function(r,n,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){f(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),a=i(31),c=i(17),l=i(1),u=function(f){o(d,f);function d(h){var p=f.call(this,h)||this;return p.attributes=new a.default(p.domNode),p}return d.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},d.prototype.format=function(h,p){var m=l.query(h);m instanceof s.default?this.attributes.attribute(m,p):p&&m!=null&&(h!==this.statics.blotName||this.formats()[h]!==p)&&this.replaceWith(h,p)},d.prototype.formats=function(){var h=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(h[this.statics.blotName]=p),h},d.prototype.replaceWith=function(h,p){var m=f.prototype.replaceWith.call(this,h,p);return this.attributes.copy(m),m},d.prototype.update=function(h,p){var m=this;f.prototype.update.call(this,h,p),h.some(function(y){return y.target===m.domNode&&y.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(h,p){var m=f.prototype.wrap.call(this,h,p);return m instanceof d&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},d}(c.default);n.default=u},function(r,n,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)f.hasOwnProperty(d)&&(u[d]=f[d])};return function(u,f){l(u,f);function d(){this.constructor=u}u.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(30),a=i(1),c=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,d){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},u.prototype.position=function(f,d){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(h+=1),[this.parent.domNode,h]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=a.Scope.INLINE_BLOT,u}(s.default);n.default=c},function(r,n,i){var o=i(11),s=i(3),a={attributes:{compose:function(l,u,f){typeof l!="object"&&(l={}),typeof u!="object"&&(u={});var d=s(!0,{},u);f||(d=Object.keys(d).reduce(function(p,m){return d[m]!=null&&(p[m]=d[m]),p},{}));for(var h in l)l[h]!==void 0&&u[h]===void 0&&(d[h]=l[h]);return Object.keys(d).length>0?d:void 0},diff:function(l,u){typeof l!="object"&&(l={}),typeof u!="object"&&(u={});var f=Object.keys(l).concat(Object.keys(u)).reduce(function(d,h){return o(l[h],u[h])||(d[h]=u[h]===void 0?null:u[h]),d},{});return Object.keys(f).length>0?f:void 0},transform:function(l,u,f){if(typeof l!="object")return u;if(typeof u=="object"){if(!f)return u;var d=Object.keys(u).reduce(function(h,p){return l[p]===void 0&&(h[p]=u[p]),h},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(l){return new c(l)},length:function(l){return typeof l.delete=="number"?l.delete:typeof l.retain=="number"?l.retain:typeof l.insert=="string"?l.insert.length:1}};function c(l){this.ops=l,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(l){l||(l=1/0);var u=this.ops[this.index];if(u){var f=this.offset,d=a.length(u);if(l>=d-f?(l=d-f,this.index+=1,this.offset=0):this.offset+=l,typeof u.delete=="number")return{delete:l};var h={};return u.attributes&&(h.attributes=u.attributes),typeof u.retain=="number"?h.retain=l:typeof u.insert=="string"?h.insert=u.insert.substr(f,l):h.insert=u.insert,h}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var l=this.offset,u=this.index,f=this.next(),d=this.ops.slice(this.index);return this.offset=l,this.index=u,[f].concat(d)}else return[]},r.exports=a},function(r,n){var i=function(){function o(m,y){return y!=null&&m instanceof y}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var c;try{c=Promise}catch{c=function(){}}function l(m,y,g,v,S){typeof y=="object"&&(g=y.depth,v=y.prototype,S=y.includeNonEnumerable,y=y.circular);var w=[],x=[],M=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof g>"u"&&(g=1/0);function k(N,U){if(N===null)return null;if(U===0)return N;var D,O;if(typeof N!="object")return N;if(o(N,s))D=new s;else if(o(N,a))D=new a;else if(o(N,c))D=new c(function(j,R){N.then(function(_){j(k(_,U-1))},function(_){R(k(_,U-1))})});else if(l.__isArray(N))D=[];else if(l.__isRegExp(N))D=new RegExp(N.source,p(N)),N.lastIndex&&(D.lastIndex=N.lastIndex);else if(l.__isDate(N))D=new Date(N.getTime());else{if(M&&Buffer.isBuffer(N))return Buffer.allocUnsafe?D=Buffer.allocUnsafe(N.length):D=new Buffer(N.length),N.copy(D),D;o(N,Error)?D=Object.create(N):typeof v>"u"?(O=Object.getPrototypeOf(N),D=Object.create(O)):(D=Object.create(v),O=v)}if(y){var L=w.indexOf(N);if(L!=-1)return x[L];w.push(N),x.push(D)}o(N,s)&&N.forEach(function(j,R){var _=k(R,U-1),C=k(j,U-1);D.set(_,C)}),o(N,a)&&N.forEach(function(j){var R=k(j,U-1);D.add(R)});for(var A in N){var b;O&&(b=Object.getOwnPropertyDescriptor(O,A)),!(b&&b.set==null)&&(D[A]=k(N[A],U-1))}if(Object.getOwnPropertySymbols)for(var E=Object.getOwnPropertySymbols(N),A=0;A<E.length;A++){var I=E[A],F=Object.getOwnPropertyDescriptor(N,I);F&&!F.enumerable&&!S||(D[I]=k(N[I],U-1),F.enumerable||Object.defineProperty(D,I,{enumerable:!1}))}if(S)for(var $=Object.getOwnPropertyNames(N),A=0;A<$.length;A++){var B=$[A],F=Object.getOwnPropertyDescriptor(N,B);F&&F.enumerable||(D[B]=k(N[B],U-1),Object.defineProperty(D,B,{enumerable:!1}))}return D}return k(m,g)}l.clonePrototype=function(y){if(y===null)return null;var g=function(){};return g.prototype=y,new g};function u(m){return Object.prototype.toString.call(m)}l.__objToStr=u;function f(m){return typeof m=="object"&&u(m)==="[object Date]"}l.__isDate=f;function d(m){return typeof m=="object"&&u(m)==="[object Array]"}l.__isArray=d;function h(m){return typeof m=="object"&&u(m)==="[object RegExp]"}l.__isRegExp=h;function p(m){var y="";return m.global&&(y+="g"),m.ignoreCase&&(y+="i"),m.multiline&&(y+="m"),y}return l.__getRegExpFlags=p,l}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function D(O,L){var A=[],b=!0,E=!1,I=void 0;try{for(var F=O[Symbol.iterator](),$;!(b=($=F.next()).done)&&(A.push($.value),!(L&&A.length===L));b=!0);}catch(B){E=!0,I=B}finally{try{!b&&F.return&&F.return()}finally{if(E)throw I}}return A}return function(O,L){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return D(O,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function D(O,L){for(var A=0;A<L.length;A++){var b=L[A];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(O,b.key,b)}}return function(O,L,A){return L&&D(O.prototype,L),A&&D(O,A),O}}(),a=function D(O,L,A){O===null&&(O=Function.prototype);var b=Object.getOwnPropertyDescriptor(O,L);if(b===void 0){var E=Object.getPrototypeOf(O);return E===null?void 0:D(E,L,A)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(A)}},c=i(0),l=w(c),u=i(8),f=w(u),d=i(4),h=w(d),p=i(16),m=w(p),y=i(13),g=w(y),v=i(25),S=w(v);function w(D){return D&&D.__esModule?D:{default:D}}function x(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")}function M(D,O){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:D}function k(D,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);D.prototype=Object.create(O&&O.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(D,O):D.__proto__=O)}function N(D){return D instanceof h.default||D instanceof d.BlockEmbed}var U=function(D){k(O,D);function O(L,A){x(this,O);var b=M(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,L));return b.emitter=A.emitter,Array.isArray(A.whitelist)&&(b.whitelist=A.whitelist.reduce(function(E,I){return E[I]=!0,E},{})),b.domNode.addEventListener("DOMNodeInserted",function(){}),b.optimize(),b.enable(),b}return s(O,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(A,b){var E=this.line(A),I=o(E,2),F=I[0],$=I[1],B=this.line(A+b),j=o(B,1),R=j[0];if(a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,A,b),R!=null&&F!==R&&$>0){if(F instanceof d.BlockEmbed||R instanceof d.BlockEmbed){this.optimize();return}if(F instanceof g.default){var _=F.newlineIndex(F.length(),!0);if(_>-1&&(F=F.split(_+1),F===R)){this.optimize();return}}else if(R instanceof g.default){var C=R.newlineIndex(0);C>-1&&R.split(C+1)}var H=R.children.head instanceof m.default?null:R.children.head;F.moveChildren(R,H),F.remove()}this.optimize()}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",A)}},{key:"formatAt",value:function(A,b,E,I){this.whitelist!=null&&!this.whitelist[E]||(a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,A,b,E,I),this.optimize())}},{key:"insertAt",value:function(A,b,E){if(!(E!=null&&this.whitelist!=null&&!this.whitelist[b])){if(A>=this.length())if(E==null||l.default.query(b,l.default.Scope.BLOCK)==null){var I=l.default.create(this.statics.defaultChild);this.appendChild(I),E==null&&b.endsWith(`
`)&&(b=b.slice(0,-1)),I.insertAt(0,b,E)}else{var F=l.default.create(b,E);this.appendChild(F)}else a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,A,b,E);this.optimize()}}},{key:"insertBefore",value:function(A,b){if(A.statics.scope===l.default.Scope.INLINE_BLOT){var E=l.default.create(this.statics.defaultChild);E.appendChild(A),A=E}a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,A,b)}},{key:"leaf",value:function(A){return this.path(A).pop()||[null,-1]}},{key:"line",value:function(A){return A===this.length()?this.line(A-1):this.descendant(N,A)}},{key:"lines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,E=function I(F,$,B){var j=[],R=B;return F.children.forEachAt($,B,function(_,C,H){N(_)?j.push(_):_ instanceof l.default.Container&&(j=j.concat(I(_,C,R))),R-=H}),j};return E(this,A,b)}},{key:"optimize",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,A,b),A.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,A,b))}},{key:"path",value:function(A){return a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,A).slice(1)}},{key:"update",value:function(A){if(this.batch!==!0){var b=f.default.sources.USER;typeof A=="string"&&(b=A),Array.isArray(A)||(A=this.observer.takeRecords()),A.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,b,A),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"update",this).call(this,A.concat([])),A.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,b,A)}}}]),O}(l.default.Scroll);U.blotName="scroll",U.className="ql-editor",U.tagName="DIV",U.defaultChild="block",U.allowedChildren=[h.default,d.BlockEmbed,S.default],n.default=U},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},s=function(){function T(z,q){var W=[],K=!0,X=!1,Z=void 0;try{for(var ge=z[Symbol.iterator](),le;!(K=(le=ge.next()).done)&&(W.push(le.value),!(q&&W.length===q));K=!0);}catch(pe){X=!0,Z=pe}finally{try{!K&&ge.return&&ge.return()}finally{if(X)throw Z}}return W}return function(z,q){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return T(z,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function T(z,q){for(var W=0;W<q.length;W++){var K=q[W];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(z,K.key,K)}}return function(z,q,W){return q&&T(z.prototype,q),W&&T(z,W),z}}(),c=i(21),l=D(c),u=i(11),f=D(u),d=i(3),h=D(d),p=i(2),m=D(p),y=i(20),g=D(y),v=i(0),S=D(v),w=i(5),x=D(w),M=i(10),k=D(M),N=i(9),U=D(N);function D(T){return T&&T.__esModule?T:{default:T}}function O(T,z,q){return z in T?Object.defineProperty(T,z,{value:q,enumerable:!0,configurable:!0,writable:!0}):T[z]=q,T}function L(T,z){if(!(T instanceof z))throw new TypeError("Cannot call a class as a function")}function A(T,z){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:T}function b(T,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);T.prototype=Object.create(z&&z.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(T,z):T.__proto__=z)}var E=(0,k.default)("quill:keyboard"),I=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=function(T){b(z,T),a(z,null,[{key:"match",value:function(W,K){return K=P(K),["altKey","ctrlKey","metaKey","shiftKey"].some(function(X){return!!K[X]!==W[X]&&K[X]!==null})?!1:K.key===(W.which||W.keyCode)}}]);function z(q,W){L(this,z);var K=A(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,q,W));return K.bindings={},Object.keys(K.options.bindings).forEach(function(X){X==="list autofill"&&q.scroll.whitelist!=null&&!q.scroll.whitelist.list||K.options.bindings[X]&&K.addBinding(K.options.bindings[X])}),K.addBinding({key:z.keys.ENTER,shiftKey:null},_),K.addBinding({key:z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(K.addBinding({key:z.keys.BACKSPACE},{collapsed:!0},B),K.addBinding({key:z.keys.DELETE},{collapsed:!0},j)):(K.addBinding({key:z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),K.addBinding({key:z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),K.addBinding({key:z.keys.BACKSPACE},{collapsed:!1},R),K.addBinding({key:z.keys.DELETE},{collapsed:!1},R),K.addBinding({key:z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),K.listen(),K}return a(z,[{key:"addBinding",value:function(W){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Z=P(W);if(Z==null||Z.key==null)return E.warn("Attempted to add invalid keyboard binding",Z);typeof K=="function"&&(K={handler:K}),typeof X=="function"&&(X={handler:X}),Z=(0,h.default)(Z,K,X),this.bindings[Z.key]=this.bindings[Z.key]||[],this.bindings[Z.key].push(Z)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(K){if(!K.defaultPrevented){var X=K.which||K.keyCode,Z=(W.bindings[X]||[]).filter(function(ae){return z.match(K,ae)});if(Z.length!==0){var ge=W.quill.getSelection();if(!(ge==null||!W.quill.hasFocus())){var le=W.quill.getLine(ge.index),pe=s(le,2),Oe=pe[0],Se=pe[1],ee=W.quill.getLeaf(ge.index),ie=s(ee,2),se=ie[0],he=ie[1],fe=ge.length===0?[se,he]:W.quill.getLeaf(ge.index+ge.length),_e=s(fe,2),ce=_e[0],Q=_e[1],te=se instanceof S.default.Text?se.value().slice(0,he):"",ne=ce instanceof S.default.Text?ce.value().slice(Q):"",re={collapsed:ge.length===0,empty:ge.length===0&&Oe.length()<=1,format:W.quill.getFormat(ge),offset:Se,prefix:te,suffix:ne},J=Z.some(function(ae){if(ae.collapsed!=null&&ae.collapsed!==re.collapsed||ae.empty!=null&&ae.empty!==re.empty||ae.offset!=null&&ae.offset!==re.offset)return!1;if(Array.isArray(ae.format)){if(ae.format.every(function(me){return re.format[me]==null}))return!1}else if(o(ae.format)==="object"&&!Object.keys(ae.format).every(function(me){return ae.format[me]===!0?re.format[me]!=null:ae.format[me]===!1?re.format[me]==null:(0,f.default)(ae.format[me],re.format[me])}))return!1;return ae.prefix!=null&&!ae.prefix.test(re.prefix)||ae.suffix!=null&&!ae.suffix.test(re.suffix)?!1:ae.handler.call(W,ge,re)!==!0});J&&K.preventDefault()}}}})}}]),z}(U.default);F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:H("bold"),italic:H("italic"),underline:H("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(z,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","+1",x.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(z,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","-1",x.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(z,q){q.format.indent!=null?this.quill.format("indent","-1",x.default.sources.USER):q.format.list!=null&&this.quill.format("list",!1,x.default.sources.USER)}},"indent code-block":C(!0),"outdent code-block":C(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(z){this.quill.deleteText(z.index-1,1,x.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function(z){this.quill.history.cutoff();var q=new m.default().retain(z.index).delete(z.length).insert("	");this.quill.updateContents(q,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index+1,x.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(z,q){this.quill.format("list",!1,x.default.sources.USER),q.format.indent&&this.quill.format("indent",!1,x.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(z){var q=this.quill.getLine(z.index),W=s(q,2),K=W[0],X=W[1],Z=(0,h.default)({},K.formats(),{list:"checked"}),ge=new m.default().retain(z.index).insert(`
`,Z).retain(K.length()-X-1).retain(1,{list:"unchecked"});this.quill.updateContents(ge,x.default.sources.USER),this.quill.setSelection(z.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(z,q){var W=this.quill.getLine(z.index),K=s(W,2),X=K[0],Z=K[1],ge=new m.default().retain(z.index).insert(`
`,q.format).retain(X.length()-Z-1).retain(1,{header:null});this.quill.updateContents(ge,x.default.sources.USER),this.quill.setSelection(z.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(z,q){var W=q.prefix.length,K=this.quill.getLine(z.index),X=s(K,2),Z=X[0],ge=X[1];if(ge>W)return!0;var le=void 0;switch(q.prefix.trim()){case"[]":case"[ ]":le="unchecked";break;case"[x]":le="checked";break;case"-":case"*":le="bullet";break;default:le="ordered"}this.quill.insertText(z.index," ",x.default.sources.USER),this.quill.history.cutoff();var pe=new m.default().retain(z.index-ge).delete(W+1).retain(Z.length()-2-ge).retain(1,{list:le});this.quill.updateContents(pe,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index-W,x.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(z){var q=this.quill.getLine(z.index),W=s(q,2),K=W[0],X=W[1],Z=new m.default().retain(z.index+K.length()-X-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Z,x.default.sources.USER)}},"embed left":$(F.keys.LEFT,!1),"embed left shift":$(F.keys.LEFT,!0),"embed right":$(F.keys.RIGHT,!1),"embed right shift":$(F.keys.RIGHT,!0)}};function $(T,z){var q,W=T===F.keys.LEFT?"prefix":"suffix";return q={key:T,shiftKey:z,altKey:null},O(q,W,/^$/),O(q,"handler",function(X){var Z=X.index;T===F.keys.RIGHT&&(Z+=X.length+1);var ge=this.quill.getLeaf(Z),le=s(ge,1),pe=le[0];return pe instanceof S.default.Embed?(T===F.keys.LEFT?z?this.quill.setSelection(X.index-1,X.length+1,x.default.sources.USER):this.quill.setSelection(X.index-1,x.default.sources.USER):z?this.quill.setSelection(X.index,X.length+1,x.default.sources.USER):this.quill.setSelection(X.index+X.length+1,x.default.sources.USER),!1):!0}),q}function B(T,z){if(!(T.index===0||this.quill.getLength()<=1)){var q=this.quill.getLine(T.index),W=s(q,1),K=W[0],X={};if(z.offset===0){var Z=this.quill.getLine(T.index-1),ge=s(Z,1),le=ge[0];if(le!=null&&le.length()>1){var pe=K.formats(),Oe=this.quill.getFormat(T.index-1,1);X=g.default.attributes.diff(pe,Oe)||{}}}var Se=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(z.prefix)?2:1;this.quill.deleteText(T.index-Se,Se,x.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(T.index-Se,Se,X,x.default.sources.USER),this.quill.focus()}}function j(T,z){var q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(z.suffix)?2:1;if(!(T.index>=this.quill.getLength()-q)){var W={},K=0,X=this.quill.getLine(T.index),Z=s(X,1),ge=Z[0];if(z.offset>=ge.length()-1){var le=this.quill.getLine(T.index+1),pe=s(le,1),Oe=pe[0];if(Oe){var Se=ge.formats(),ee=this.quill.getFormat(T.index,1);W=g.default.attributes.diff(Se,ee)||{},K=Oe.length()}}this.quill.deleteText(T.index,q,x.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(T.index+K-1,q,W,x.default.sources.USER)}}function R(T){var z=this.quill.getLines(T),q={};if(z.length>1){var W=z[0].formats(),K=z[z.length-1].formats();q=g.default.attributes.diff(K,W)||{}}this.quill.deleteText(T,x.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(T.index,1,q,x.default.sources.USER),this.quill.setSelection(T.index,x.default.sources.SILENT),this.quill.focus()}function _(T,z){var q=this;T.length>0&&this.quill.scroll.deleteAt(T.index,T.length);var W=Object.keys(z.format).reduce(function(K,X){return S.default.query(X,S.default.Scope.BLOCK)&&!Array.isArray(z.format[X])&&(K[X]=z.format[X]),K},{});this.quill.insertText(T.index,`
`,W,x.default.sources.USER),this.quill.setSelection(T.index+1,x.default.sources.SILENT),this.quill.focus(),Object.keys(z.format).forEach(function(K){W[K]==null&&(Array.isArray(z.format[K])||K!=="link"&&q.quill.format(K,z.format[K],x.default.sources.USER))})}function C(T){return{key:F.keys.TAB,shiftKey:!T,format:{"code-block":!0},handler:function(q){var W=S.default.query("code-block"),K=q.index,X=q.length,Z=this.quill.scroll.descendant(W,K),ge=s(Z,2),le=ge[0],pe=ge[1];if(le!=null){var Oe=this.quill.getIndex(le),Se=le.newlineIndex(pe,!0)+1,ee=le.newlineIndex(Oe+pe+X),ie=le.domNode.textContent.slice(Se,ee).split(`
`);pe=0,ie.forEach(function(se,he){T?(le.insertAt(Se+pe,W.TAB),pe+=W.TAB.length,he===0?K+=W.TAB.length:X+=W.TAB.length):se.startsWith(W.TAB)&&(le.deleteAt(Se+pe,W.TAB.length),pe-=W.TAB.length,he===0?K-=W.TAB.length:X-=W.TAB.length),pe+=se.length+1}),this.quill.update(x.default.sources.USER),this.quill.setSelection(K,X,x.default.sources.SILENT)}}}}function H(T){return{key:T[0].toUpperCase(),shortKey:!0,handler:function(q,W){this.quill.format(T,!W.format[T],x.default.sources.USER)}}}function P(T){if(typeof T=="string"||typeof T=="number")return P({key:T});if((typeof T>"u"?"undefined":o(T))==="object"&&(T=(0,l.default)(T,!1)),typeof T.key=="string")if(F.keys[T.key.toUpperCase()]!=null)T.key=F.keys[T.key.toUpperCase()];else if(T.key.length===1)T.key=T.key.toUpperCase().charCodeAt(0);else return null;return T.shortKey&&(T[I]=T.shortKey,delete T.shortKey),T}n.default=F,n.SHORTKEY=I},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(v,S){var w=[],x=!0,M=!1,k=void 0;try{for(var N=v[Symbol.iterator](),U;!(x=(U=N.next()).done)&&(w.push(U.value),!(S&&w.length===S));x=!0);}catch(D){M=!0,k=D}finally{try{!x&&N.return&&N.return()}finally{if(M)throw k}}return w}return function(v,S){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return g(v,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function g(v,S,w){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,S);if(x===void 0){var M=Object.getPrototypeOf(v);return M===null?void 0:g(M,S,w)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(w)}},a=function(){function g(v,S){for(var w=0;w<S.length;w++){var x=S[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,S,w){return S&&g(v.prototype,S),w&&g(v,w),v}}(),c=i(0),l=d(c),u=i(7),f=d(u);function d(g){return g&&g.__esModule?g:{default:g}}function h(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function p(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function m(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var y=function(g){m(v,g),a(v,null,[{key:"value",value:function(){}}]);function v(S,w){h(this,v);var x=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,S));return x.selection=w,x.textNode=document.createTextNode(v.CONTENTS),x.domNode.appendChild(x.textNode),x._length=0,x}return a(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,x){if(this._length!==0)return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,x);for(var M=this,k=0;M!=null&&M.statics.scope!==l.default.Scope.BLOCK_BLOT;)k+=M.offset(M.parent),M=M.parent;M!=null&&(this._length=v.CONTENTS.length,M.optimize(),M.formatAt(k,v.CONTENTS.length,w,x),this._length=0)}},{key:"index",value:function(w,x){return w===this.textNode?0:s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,w,x)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,x=this.selection.getNativeRange(),M=void 0,k=void 0,N=void 0;if(x!=null&&x.start.node===w&&x.end.node===w){var U=[w,x.start.offset,x.end.offset];M=U[0],k=U[1],N=U[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var D=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof f.default?(M=this.next.domNode,this.next.insertAt(0,D),this.textNode.data=v.CONTENTS):(this.textNode.data=D,this.parent.insertBefore(l.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var O=[k,N].map(function(A){return Math.max(0,Math.min(M.data.length,A-1))}),L=o(O,2);return k=L[0],N=L[1],{startNode:M,startOffset:k,endNode:M,endOffset:N}}}}},{key:"update",value:function(w,x){var M=this;if(w.some(function(N){return N.type==="characterData"&&N.target===M.textNode})){var k=this.restore();k&&(x.range=k)}}},{key:"value",value:function(){return""}}]),v}(l.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),s=l(o),a=i(4),c=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function f(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Container);h.allowedChildren=[c.default,a.BlockEmbed,h],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var o=function(){function y(g,v){for(var S=0;S<v.length;S++){var w=v[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,v,S){return v&&y(g.prototype,v),S&&y(g,S),g}}(),s=function y(g,v,S){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,v);if(w===void 0){var x=Object.getPrototypeOf(g);return x===null?void 0:y(x,v,S)}else{if("value"in w)return w.value;var M=w.get;return M===void 0?void 0:M.call(S)}},a=i(0),c=l(a);function l(y){return y&&y.__esModule?y:{default:y}}function u(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function f(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function d(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var h=function(y){d(g,y);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(S){var w=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,S);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join("")):w}}]),g}(c.default.Attributor.Style),p=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),m=new h("color","color",{scope:c.default.Scope.INLINE});n.ColorAttributor=h,n.ColorClass=p,n.ColorStyle=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var o=function(){function m(y,g){for(var v=0;v<g.length;v++){var S=g[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,g,v){return g&&m(y.prototype,g),v&&m(y,v),y}}(),s=function m(y,g,v){y===null&&(y=Function.prototype);var S=Object.getOwnPropertyDescriptor(y,g);if(S===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:m(w,g,v)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(v)}},a=i(6),c=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(v,S){if(v!==this.statics.blotName||!S)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,v,S);S=this.constructor.sanitize(S),this.domNode.setAttribute("href",S)}}],[{key:"create",value:function(v){var S=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,v);return v=this.sanitize(v),S.setAttribute("href",v),S.setAttribute("rel","noopener noreferrer"),S.setAttribute("target","_blank"),S}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return p(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),y}(c.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(m,y){var g=document.createElement("a");g.href=m;var v=g.href.slice(0,g.href.indexOf(":"));return y.indexOf(v)>-1}n.default=h,n.sanitize=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s=function(){function y(g,v){for(var S=0;S<v.length;S++){var w=v[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,v,S){return v&&y(g.prototype,v),S&&y(g,S),g}}(),a=i(23),c=f(a),l=i(107),u=f(l);function f(y){return y&&y.__esModule?y:{default:y}}function d(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}var h=0;function p(y,g){y.setAttribute(g,y.getAttribute(g)!=="true")}var m=function(){function y(g){var v=this;d(this,y),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(S){switch(S.keyCode){case c.default.keys.ENTER:v.togglePicker();break;case c.default.keys.ESCAPE:v.escape(),S.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var S=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),v.hasAttribute("value")&&w.setAttribute("data-value",v.getAttribute("value")),v.textContent&&w.setAttribute("data-label",v.textContent),w.addEventListener("click",function(){S.selectItem(w,!0)}),w.addEventListener("keydown",function(x){switch(x.keyCode){case c.default.keys.ENTER:S.selectItem(w,!0),x.preventDefault();break;case c.default.keys.ESCAPE:S.escape(),x.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=u.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,S=document.createElement("span");S.classList.add("ql-picker-options"),S.setAttribute("aria-hidden","true"),S.tabIndex="-1",S.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",S.id),this.options=S,[].slice.call(this.select.options).forEach(function(w){var x=v.buildItem(w);S.appendChild(x),w.selected===!0&&v.selectItem(x)}),this.container.appendChild(S)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(S){v.container.setAttribute(S.name,S.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(v!==w&&(w!=null&&w.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),S))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var x=document.createEvent("Event");x.initEvent("change",!0,!0),this.select.dispatchEvent(x)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var S=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(S)}else this.selectItem(null);var w=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),y}();n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),s=E(o),a=i(5),c=E(a),l=i(4),u=E(l),f=i(16),d=E(f),h=i(25),p=E(h),m=i(24),y=E(m),g=i(35),v=E(g),S=i(6),w=E(S),x=i(22),M=E(x),k=i(7),N=E(k),U=i(55),D=E(U),O=i(42),L=E(O),A=i(23),b=E(A);function E(I){return I&&I.__esModule?I:{default:I}}c.default.register({"blots/block":u.default,"blots/block/embed":l.BlockEmbed,"blots/break":d.default,"blots/container":p.default,"blots/cursor":y.default,"blots/embed":v.default,"blots/inline":w.default,"blots/scroll":M.default,"blots/text":N.default,"modules/clipboard":D.default,"modules/history":L.default,"modules/keyboard":b.default}),s.default.register(u.default,d.default,y.default,w.default,M.default,N.default),n.default=c.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),s=function(){function a(c){this.domNode=c,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(c){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var l;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?l=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?l=document.createElement(c):l=document.createElement(this.tagName[0])):l=document.createElement(this.tagName),this.className&&l.classList.add(this.className),l},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return o.create(c)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(c,l){var u=this.isolate(c,l);u.remove()},a.prototype.formatAt=function(c,l,u,f){var d=this.isolate(c,l);if(o.query(u,o.Scope.BLOT)!=null&&f)d.wrap(u,f);else if(o.query(u,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);d.wrap(h),h.format(u,f)}},a.prototype.insertAt=function(c,l,u){var f=u==null?o.create("text",l):o.create(l,u),d=this.split(c);this.parent.insertBefore(f,d)},a.prototype.insertInto=function(c,l){l===void 0&&(l=null),this.parent!=null&&this.parent.children.remove(this);var u=null;c.children.insertBefore(this,l),l!=null&&(u=l.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=u)&&c.domNode.insertBefore(this.domNode,u),this.parent=c,this.attach()},a.prototype.isolate=function(c,l){var u=this.split(c);return u.split(l),u},a.prototype.length=function(){return 1},a.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},a.prototype.optimize=function(c){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},a.prototype.replaceWith=function(c,l){var u=typeof c=="string"?o.create(c,l):c;return u.replace(this),u},a.prototype.split=function(c,l){return c===0?this:this.next},a.prototype.update=function(c,l){},a.prototype.wrap=function(c,l){var u=typeof c=="string"?o.create(c,l):c;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},a.blotName="abstract",a}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),c=i(1),l=function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,d){d?f.add(this.domNode,d)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var d=o.default.keys(this.domNode),h=s.default.keys(this.domNode),p=a.default.keys(this.domNode);d.concat(h).concat(p).forEach(function(m){var y=c.query(m,c.Scope.ATTRIBUTE);y instanceof o.default&&(f.attributes[y.attrName]=y)})},u.prototype.copy=function(f){var d=this;Object.keys(this.attributes).forEach(function(h){var p=d.attributes[h].value(d.domNode);f.format(h,p)})},u.prototype.move=function(f){var d=this;this.copy(f),Object.keys(this.attributes).forEach(function(h){d.attributes[h].remove(d.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(d,h){return d[h]=f.attributes[h].value(f.domNode),d},{})},u}();n.default=l},function(r,n,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)f.hasOwnProperty(d)&&(u[d]=f[d])};return function(u,f){l(u,f);function d(){this.constructor=u}u.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function a(l,u){var f=l.getAttribute("class")||"";return f.split(/\s+/).filter(function(d){return d.indexOf(u+"-")===0})}var c=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,d){return this.canAdd(f,d)?(this.remove(f),f.classList.add(this.keyName+"-"+d),!0):!1},u.prototype.remove=function(f){var d=a(f,this.keyName);d.forEach(function(h){f.classList.remove(h)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var d=a(f,this.keyName)[0]||"",h=d.slice(this.keyName.length+1);return this.canAdd(f,h)?h:""},u}(s.default);n.default=c},function(r,n,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)f.hasOwnProperty(d)&&(u[d]=f[d])};return function(u,f){l(u,f);function d(){this.constructor=u}u.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function a(l){var u=l.split("-"),f=u.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return u[0]+f}var c=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(d){var h=d.split(":");return h[0].trim()})},u.prototype.add=function(f,d){return this.canAdd(f,d)?(f.style[a(this.keyName)]=d,!0):!1},u.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var d=f.style[a(this.keyName)];return this.canAdd(f,d)?d:""},u}(s.default);n.default=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function c(l,u){for(var f=0;f<u.length;f++){var d=u[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,u,f){return u&&c(l.prototype,u),f&&c(l,f),l}}();function s(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function(){function c(l,u){s(this,c),this.quill=l,this.options=u,this.modules={}}return o(c,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),c}();a.DEFAULTS={modules:{}},a.themes={default:a},n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(v,S){for(var w=0;w<S.length;w++){var x=S[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,S,w){return S&&g(v.prototype,S),w&&g(v,w),v}}(),s=function g(v,S,w){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,S);if(x===void 0){var M=Object.getPrototypeOf(v);return M===null?void 0:g(M,S,w)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(w)}},a=i(0),c=f(a),l=i(7),u=f(l);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function p(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var m="\uFEFF",y=function(g){p(v,g);function v(S){d(this,v);var w=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,S));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(x){w.contentNode.appendChild(x)}),w.leftGuard=document.createTextNode(m),w.rightGuard=document.createTextNode(m),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return o(v,[{key:"index",value:function(w,x){return w===this.leftGuard?0:w===this.rightGuard?1:s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,w,x)}},{key:"restore",value:function(w){var x=void 0,M=void 0,k=w.data.split(m).join("");if(w===this.leftGuard)if(this.prev instanceof u.default){var N=this.prev.length();this.prev.insertAt(N,k),x={startNode:this.prev.domNode,startOffset:N+k.length}}else M=document.createTextNode(k),this.parent.insertBefore(c.default.create(M),this),x={startNode:M,startOffset:k.length};else w===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,k),x={startNode:this.next.domNode,startOffset:k.length}):(M=document.createTextNode(k),this.parent.insertBefore(c.default.create(M),this.next),x={startNode:M,startOffset:k.length}));return w.data=m,x}},{key:"update",value:function(w,x){var M=this;w.forEach(function(k){if(k.type==="characterData"&&(k.target===M.leftGuard||k.target===M.rightGuard)){var N=M.restore(k.target);N&&(x.range=N)}})}}]),v}(c.default.Embed);n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var c={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},l=new s.default.Attributor.Attribute("align","align",c),u=new s.default.Attributor.Class("align","ql-align",c),f=new s.default.Attributor.Style("align","text-align",c);n.AlignAttribute=l,n.AlignClass=u,n.AlignStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var o=i(0),s=c(o),a=i(26);function c(f){return f&&f.__esModule?f:{default:f}}var l=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),u=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});n.BackgroundClass=l,n.BackgroundStyle=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var c={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},l=new s.default.Attributor.Attribute("direction","dir",c),u=new s.default.Attributor.Class("direction","ql-direction",c),f=new s.default.Attributor.Style("direction","direction",c);n.DirectionAttribute=l,n.DirectionClass=u,n.DirectionStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var o=function(){function g(v,S){for(var w=0;w<S.length;w++){var x=S[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,S,w){return S&&g(v.prototype,S),w&&g(v,w),v}}(),s=function g(v,S,w){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,S);if(x===void 0){var M=Object.getPrototypeOf(v);return M===null?void 0:g(M,S,w)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(w)}},a=i(0),c=l(a);function l(g){return g&&g.__esModule?g:{default:g}}function u(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function f(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function d(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var h={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new c.default.Attributor.Class("font","ql-font",h),m=function(g){d(v,g);function v(){return u(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"value",value:function(w){return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),v}(c.default.Attributor.Style),y=new m("font","font-family",h);n.FontStyle=y,n.FontClass=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var o=i(0),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}var c=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),l=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=c,n.SizeStyle=l},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var o=function(){function S(w,x){for(var M=0;M<x.length;M++){var k=x[M];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,x,M){return x&&S(w.prototype,x),M&&S(w,M),w}}(),s=i(0),a=d(s),c=i(5),l=d(c),u=i(9),f=d(u);function d(S){return S&&S.__esModule?S:{default:S}}function h(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function p(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function m(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var y=function(S){m(w,S);function w(x,M){h(this,w);var k=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,x,M));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(l.default.events.EDITOR_CHANGE,function(N,U,D,O){N!==l.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||O===l.default.sources.USER?k.record(U,D):k.transform(U))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return o(w,[{key:"change",value:function(M,k){if(this.stack[M].length!==0){var N=this.stack[M].pop();this.stack[k].push(N),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(N[M],l.default.sources.USER),this.ignoreChange=!1;var U=v(N[M]);this.quill.setSelection(U)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(M,k){if(M.ops.length!==0){this.stack.redo=[];var N=this.quill.getContents().diff(k),U=Date.now();if(this.lastRecorded+this.options.delay>U&&this.stack.undo.length>0){var D=this.stack.undo.pop();N=N.compose(D.undo),M=D.redo.compose(M)}else this.lastRecorded=U;this.stack.undo.push({redo:M,undo:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(M){this.stack.undo.forEach(function(k){k.undo=M.transform(k.undo,!0),k.redo=M.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=M.transform(k.undo,!0),k.redo=M.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(f.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(S){var w=S.ops[S.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(x){return a.default.query(x,a.default.Scope.BLOCK)!=null}):!1}function v(S){var w=S.reduce(function(M,k){return M+=k.delete||0,M},0),x=S.length()-w;return g(S)&&(x-=1),x}n.default=y,n.getLastChangeIndex=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var o=function(){function _(C,H){for(var P=0;P<H.length;P++){var T=H[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(C,T.key,T)}}return function(C,H,P){return H&&_(C.prototype,H),P&&_(C,P),C}}(),s=function _(C,H,P){C===null&&(C=Function.prototype);var T=Object.getOwnPropertyDescriptor(C,H);if(T===void 0){var z=Object.getPrototypeOf(C);return z===null?void 0:_(z,H,P)}else{if("value"in T)return T.value;var q=T.get;return q===void 0?void 0:q.call(P)}},a=i(3),c=U(a),l=i(2),u=U(l),f=i(8),d=U(f),h=i(23),p=U(h),m=i(34),y=U(m),g=i(59),v=U(g),S=i(60),w=U(S),x=i(28),M=U(x),k=i(61),N=U(k);function U(_){return _&&_.__esModule?_:{default:_}}function D(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}function O(_,C){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:_}function L(_,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);_.prototype=Object.create(C&&C.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(_,C):_.__proto__=C)}var A=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],E=[!1,"serif","monospace"],I=["1","2","3",!1],F=["small",!1,"large","huge"],$=function(_){L(C,_);function C(H,P){D(this,C);var T=O(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,H,P)),z=function q(W){if(!document.body.contains(H.root))return document.body.removeEventListener("click",q);T.tooltip!=null&&!T.tooltip.root.contains(W.target)&&document.activeElement!==T.tooltip.textbox&&!T.quill.hasFocus()&&T.tooltip.hide(),T.pickers!=null&&T.pickers.forEach(function(K){K.container.contains(W.target)||K.close()})};return H.emitter.listenDOM("click",document.body,z),T}return o(C,[{key:"addModule",value:function(P){var T=s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"addModule",this).call(this,P);return P==="toolbar"&&this.extendToolbar(T),T}},{key:"buildButtons",value:function(P,T){P.forEach(function(z){var q=z.getAttribute("class")||"";q.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),T[W]!=null))if(W==="direction")z.innerHTML=T[W][""]+T[W].rtl;else if(typeof T[W]=="string")z.innerHTML=T[W];else{var K=z.value||"";K!=null&&T[W][K]&&(z.innerHTML=T[W][K])}})})}},{key:"buildPickers",value:function(P,T){var z=this;this.pickers=P.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&R(W,A),new w.default(W,T.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var K=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&R(W,b,K==="background"?"#ffffff":"#000000"),new v.default(W,T[K])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?R(W,E):W.classList.contains("ql-header")?R(W,I):W.classList.contains("ql-size")&&R(W,F)),new M.default(W)});var q=function(){z.pickers.forEach(function(K){K.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,q)}}]),C}(y.default);$.DEFAULTS=(0,c.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var C=this,H=this.container.querySelector("input.ql-image[type=file]");H==null&&(H=document.createElement("input"),H.setAttribute("type","file"),H.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),H.classList.add("ql-image"),H.addEventListener("change",function(){if(H.files!=null&&H.files[0]!=null){var P=new FileReader;P.onload=function(T){var z=C.quill.getSelection(!0);C.quill.updateContents(new u.default().retain(z.index).delete(z.length).insert({image:T.target.result}),d.default.sources.USER),C.quill.setSelection(z.index+1,d.default.sources.SILENT),H.value=""},P.readAsDataURL(H.files[0])}}),this.container.appendChild(H)),H.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(_){L(C,_);function C(H,P){D(this,C);var T=O(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,H,P));return T.textbox=T.root.querySelector('input[type="text"]'),T.listen(),T}return o(C,[{key:"listen",value:function(){var P=this;this.textbox.addEventListener("keydown",function(T){p.default.match(T,"enter")?(P.save(),T.preventDefault()):p.default.match(T,"escape")&&(P.cancel(),T.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),T!=null?this.textbox.value=T:P!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+P)||""),this.root.setAttribute("data-mode",P)}},{key:"restoreFocus",value:function(){var P=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=P}},{key:"save",value:function(){var P=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var T=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",P,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",P,d.default.sources.USER)),this.quill.root.scrollTop=T;break}case"video":P=j(P);case"formula":{if(!P)break;var z=this.quill.getSelection(!0);if(z!=null){var q=z.index+z.length;this.quill.insertEmbed(q,this.root.getAttribute("data-mode"),P,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(q+1," ",d.default.sources.USER),this.quill.setSelection(q+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),C}(N.default);function j(_){var C=_.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||_.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return C?(C[1]||"https")+"://www.youtube.com/embed/"+C[2]+"?showinfo=0":(C=_.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(C[1]||"https")+"://player.vimeo.com/video/"+C[2]+"/":_}function R(_,C){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;C.forEach(function(P){var T=document.createElement("option");P===H?T.setAttribute("selected","selected"):T.setAttribute("value",P),_.appendChild(T)})}n.BaseTooltip=B,n.default=$},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var c,l=this.iterator();c=l();)if(c===a)return!0;return!1},s.prototype.insertBefore=function(a,c){a&&(a.next=c,c!=null?(a.prev=c.prev,c.prev!=null&&(c.prev.next=a),c.prev=a,c===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var c=0,l=this.head;l!=null;){if(l===a)return c;c+=l.length(),l=l.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var c=a;return a!=null&&(a=a.next),c}},s.prototype.find=function(a,c){c===void 0&&(c=!1);for(var l,u=this.iterator();l=u();){var f=l.length();if(a<f||c&&a===f&&(l.next==null||l.next.length()!==0))return[l,a];a-=f}return[null,0]},s.prototype.forEach=function(a){for(var c,l=this.iterator();c=l();)a(c)},s.prototype.forEachAt=function(a,c,l){if(!(c<=0))for(var u=this.find(a),f=u[0],d=u[1],h,p=a-d,m=this.iterator(f);(h=m())&&p<a+c;){var y=h.length();a>p?l(h,a-p,Math.min(c,p+y-a)):l(h,0,Math.min(y,a+c-p)),p+=y}},s.prototype.map=function(a){return this.reduce(function(c,l){return c.push(a(l)),c},[])},s.prototype.reduce=function(a,c){for(var l,u=this.iterator();l=u();)c=a(c,l);return c},s}();n.default=o},function(r,n,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){f(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(17),a=i(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=100,u=function(f){o(d,f);function d(h){var p=f.call(this,h)||this;return p.scroll=p,p.observer=new MutationObserver(function(m){p.update(m)}),p.observer.observe(p.domNode,c),p.attach(),p}return d.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(h,p){this.update(),h===0&&p===this.length()?this.children.forEach(function(m){m.remove()}):f.prototype.deleteAt.call(this,h,p)},d.prototype.formatAt=function(h,p,m,y){this.update(),f.prototype.formatAt.call(this,h,p,m,y)},d.prototype.insertAt=function(h,p,m){this.update(),f.prototype.insertAt.call(this,h,p,m)},d.prototype.optimize=function(h,p){var m=this;h===void 0&&(h=[]),p===void 0&&(p={}),f.prototype.optimize.call(this,p);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)h.push(y.pop());for(var g=function(x,M){M===void 0&&(M=!0),!(x==null||x===m)&&x.domNode.parentNode!=null&&(x.domNode[a.DATA_KEY].mutations==null&&(x.domNode[a.DATA_KEY].mutations=[]),M&&g(x.parent))},v=function(x){x.domNode[a.DATA_KEY]==null||x.domNode[a.DATA_KEY].mutations==null||(x instanceof s.default&&x.children.forEach(v),x.optimize(p))},S=h,w=0;S.length>0;w+=1){if(w>=l)throw new Error("[Parchment] Maximum optimize iterations reached");for(S.forEach(function(x){var M=a.find(x.target,!0);M!=null&&(M.domNode===x.target&&(x.type==="childList"?(g(a.find(x.previousSibling,!1)),[].forEach.call(x.addedNodes,function(k){var N=a.find(k,!1);g(N,!1),N instanceof s.default&&N.children.forEach(function(U){g(U,!1)})})):x.type==="attributes"&&g(M.prev)),g(M))}),this.children.forEach(v),S=[].slice.call(this.observer.takeRecords()),y=S.slice();y.length>0;)h.push(y.pop())}},d.prototype.update=function(h,p){var m=this;p===void 0&&(p={}),h=h||this.observer.takeRecords(),h.map(function(y){var g=a.find(y.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[y],g):(g.domNode[a.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===m||y.domNode[a.DATA_KEY]==null||y.update(y.domNode[a.DATA_KEY].mutations||[],p)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,p),this.optimize(h,p)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(s.default);n.default=u},function(r,n,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)d.hasOwnProperty(h)&&(f[h]=d[h])};return function(f,d){u(f,d);function h(){this.constructor=f}f.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),a=i(1);function c(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var d in u)if(u[d]!==f[d])return!1;return!0}var l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(d){if(d.tagName!==f.tagName)return u.formats.call(this,d)},f.prototype.format=function(d,h){var p=this;d===this.statics.blotName&&!h?(this.children.forEach(function(m){m instanceof s.default||(m=m.wrap(f.blotName,!0)),p.attributes.copy(m)}),this.unwrap()):u.prototype.format.call(this,d,h)},f.prototype.formatAt=function(d,h,p,m){if(this.formats()[p]!=null||a.query(p,a.Scope.ATTRIBUTE)){var y=this.isolate(d,h);y.format(p,m)}else u.prototype.formatAt.call(this,d,h,p,m)},f.prototype.optimize=function(d){u.prototype.optimize.call(this,d);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var p=this.next;p instanceof f&&p.prev===this&&c(h,p.formats())&&(p.moveChildren(this),p.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);n.default=l},function(r,n,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)f.hasOwnProperty(d)&&(u[d]=f[d])};return function(u,f){l(u,f);function d(){this.constructor=u}u.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),a=i(1),c=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(f){var d=a.query(u.blotName).tagName;if(f.tagName!==d)return l.formats.call(this,f)},u.prototype.format=function(f,d){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!d?this.replaceWith(u.blotName):l.prototype.format.call(this,f,d))},u.prototype.formatAt=function(f,d,h,p){a.query(h,a.Scope.BLOCK)!=null?this.format(h,p):l.prototype.formatAt.call(this,f,d,h,p)},u.prototype.insertAt=function(f,d,h){if(h==null||a.query(d,a.Scope.INLINE)!=null)l.prototype.insertAt.call(this,f,d,h);else{var p=this.split(f),m=a.create(d,h);p.parent.insertBefore(m,p)}},u.prototype.update=function(f,d){navigator.userAgent.match(/Trident/)?this.build():l.prototype.update.call(this,f,d)},u.blotName="block",u.scope=a.Scope.BLOCK_BLOT,u.tagName="P",u}(s.default);n.default=c},function(r,n,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])};return function(l,u){c(l,u);function f(){this.constructor=l}l.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),a=function(c){o(l,c);function l(){return c!==null&&c.apply(this,arguments)||this}return l.formats=function(u){},l.prototype.format=function(u,f){c.prototype.formatAt.call(this,0,this.length(),u,f)},l.prototype.formatAt=function(u,f,d,h){u===0&&f===this.length()?this.format(d,h):c.prototype.formatAt.call(this,u,f,d,h)},l.prototype.formats=function(){return this.statics.formats(this.domNode)},l}(s.default);n.default=a},function(r,n,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)f.hasOwnProperty(d)&&(u[d]=f[d])};return function(u,f){l(u,f);function d(){this.constructor=u}u.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),a=i(1),c=function(l){o(u,l);function u(f){var d=l.call(this,f)||this;return d.text=d.statics.value(d.domNode),d}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var d=f.data;return d.normalize&&(d=d.normalize()),d},u.prototype.deleteAt=function(f,d){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+d)},u.prototype.index=function(f,d){return this.domNode===f?d:-1},u.prototype.insertAt=function(f,d,h){h==null?(this.text=this.text.slice(0,f)+d+this.text.slice(f),this.domNode.data=this.text):l.prototype.insertAt.call(this,f,d,h)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){l.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,d){return[this.domNode,f]},u.prototype.split=function(f,d){if(d===void 0&&(d=!1),!d){if(f===0)return this;if(f===this.length())return this.next}var h=a.create(this.domNode.splitText(f));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},u.prototype.update=function(f,d){var h=this;f.some(function(p){return p.type==="characterData"&&p.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=a.Scope.INLINE_BLOT,u}(s.default);n.default=c},function(r,n,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,c){return arguments.length>1&&!this.contains(a)==!c?c:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,c){return c=c||0,this.substr(c,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,c){var l=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>l.length)&&(c=l.length),c-=a.length;var u=l.indexOf(a,c);return u!==-1&&u===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var l=Object(this),u=l.length>>>0,f=arguments[1],d,h=0;h<u;h++)if(d=l[h],c.call(f,d,h,l))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,o=1,s=0;function a(w,x,M){if(w==x)return w?[[s,w]]:[];(M<0||w.length<M)&&(M=null);var k=f(w,x),N=w.substring(0,k);w=w.substring(k),x=x.substring(k),k=d(w,x);var U=w.substring(w.length-k);w=w.substring(0,w.length-k),x=x.substring(0,x.length-k);var D=c(w,x);return N&&D.unshift([s,N]),U&&D.push([s,U]),p(D),M!=null&&(D=g(D,M)),D=v(D),D}function c(w,x){var M;if(!w)return[[o,x]];if(!x)return[[i,w]];var k=w.length>x.length?w:x,N=w.length>x.length?x:w,U=k.indexOf(N);if(U!=-1)return M=[[o,k.substring(0,U)],[s,N],[o,k.substring(U+N.length)]],w.length>x.length&&(M[0][0]=M[2][0]=i),M;if(N.length==1)return[[i,w],[o,x]];var D=h(w,x);if(D){var O=D[0],L=D[1],A=D[2],b=D[3],E=D[4],I=a(O,A),F=a(L,b);return I.concat([[s,E]],F)}return l(w,x)}function l(w,x){for(var M=w.length,k=x.length,N=Math.ceil((M+k)/2),U=N,D=2*N,O=new Array(D),L=new Array(D),A=0;A<D;A++)O[A]=-1,L[A]=-1;O[U+1]=0,L[U+1]=0;for(var b=M-k,E=b%2!=0,I=0,F=0,$=0,B=0,j=0;j<N;j++){for(var R=-j+I;R<=j-F;R+=2){var _=U+R,C;R==-j||R!=j&&O[_-1]<O[_+1]?C=O[_+1]:C=O[_-1]+1;for(var H=C-R;C<M&&H<k&&w.charAt(C)==x.charAt(H);)C++,H++;if(O[_]=C,C>M)F+=2;else if(H>k)I+=2;else if(E){var P=U+b-R;if(P>=0&&P<D&&L[P]!=-1){var T=M-L[P];if(C>=T)return u(w,x,C,H)}}}for(var z=-j+$;z<=j-B;z+=2){var P=U+z,T;z==-j||z!=j&&L[P-1]<L[P+1]?T=L[P+1]:T=L[P-1]+1;for(var q=T-z;T<M&&q<k&&w.charAt(M-T-1)==x.charAt(k-q-1);)T++,q++;if(L[P]=T,T>M)B+=2;else if(q>k)$+=2;else if(!E){var _=U+b-z;if(_>=0&&_<D&&O[_]!=-1){var C=O[_],H=U+C-_;if(T=M-T,C>=T)return u(w,x,C,H)}}}}return[[i,w],[o,x]]}function u(w,x,M,k){var N=w.substring(0,M),U=x.substring(0,k),D=w.substring(M),O=x.substring(k),L=a(N,U),A=a(D,O);return L.concat(A)}function f(w,x){if(!w||!x||w.charAt(0)!=x.charAt(0))return 0;for(var M=0,k=Math.min(w.length,x.length),N=k,U=0;M<N;)w.substring(U,N)==x.substring(U,N)?(M=N,U=M):k=N,N=Math.floor((k-M)/2+M);return N}function d(w,x){if(!w||!x||w.charAt(w.length-1)!=x.charAt(x.length-1))return 0;for(var M=0,k=Math.min(w.length,x.length),N=k,U=0;M<N;)w.substring(w.length-N,w.length-U)==x.substring(x.length-N,x.length-U)?(M=N,U=M):k=N,N=Math.floor((k-M)/2+M);return N}function h(w,x){var M=w.length>x.length?w:x,k=w.length>x.length?x:w;if(M.length<4||k.length*2<M.length)return null;function N(F,$,B){for(var j=F.substring(B,B+Math.floor(F.length/4)),R=-1,_="",C,H,P,T;(R=$.indexOf(j,R+1))!=-1;){var z=f(F.substring(B),$.substring(R)),q=d(F.substring(0,B),$.substring(0,R));_.length<q+z&&(_=$.substring(R-q,R)+$.substring(R,R+z),C=F.substring(0,B-q),H=F.substring(B+z),P=$.substring(0,R-q),T=$.substring(R+z))}return _.length*2>=F.length?[C,H,P,T,_]:null}var U=N(M,k,Math.ceil(M.length/4)),D=N(M,k,Math.ceil(M.length/2)),O;if(!U&&!D)return null;D?U?O=U[4].length>D[4].length?U:D:O=D:O=U;var L,A,b,E;w.length>x.length?(L=O[0],A=O[1],b=O[2],E=O[3]):(b=O[0],E=O[1],L=O[2],A=O[3]);var I=O[4];return[L,A,b,E,I]}function p(w){w.push([s,""]);for(var x=0,M=0,k=0,N="",U="",D;x<w.length;)switch(w[x][0]){case o:k++,U+=w[x][1],x++;break;case i:M++,N+=w[x][1],x++;break;case s:M+k>1?(M!==0&&k!==0&&(D=f(U,N),D!==0&&(x-M-k>0&&w[x-M-k-1][0]==s?w[x-M-k-1][1]+=U.substring(0,D):(w.splice(0,0,[s,U.substring(0,D)]),x++),U=U.substring(D),N=N.substring(D)),D=d(U,N),D!==0&&(w[x][1]=U.substring(U.length-D)+w[x][1],U=U.substring(0,U.length-D),N=N.substring(0,N.length-D))),M===0?w.splice(x-k,M+k,[o,U]):k===0?w.splice(x-M,M+k,[i,N]):w.splice(x-M-k,M+k,[i,N],[o,U]),x=x-M-k+(M?1:0)+(k?1:0)+1):x!==0&&w[x-1][0]==s?(w[x-1][1]+=w[x][1],w.splice(x,1)):x++,k=0,M=0,N="",U="";break}w[w.length-1][1]===""&&w.pop();var O=!1;for(x=1;x<w.length-1;)w[x-1][0]==s&&w[x+1][0]==s&&(w[x][1].substring(w[x][1].length-w[x-1][1].length)==w[x-1][1]?(w[x][1]=w[x-1][1]+w[x][1].substring(0,w[x][1].length-w[x-1][1].length),w[x+1][1]=w[x-1][1]+w[x+1][1],w.splice(x-1,1),O=!0):w[x][1].substring(0,w[x+1][1].length)==w[x+1][1]&&(w[x-1][1]+=w[x+1][1],w[x][1]=w[x][1].substring(w[x+1][1].length)+w[x+1][1],w.splice(x+1,1),O=!0)),x++;O&&p(w)}var m=a;m.INSERT=o,m.DELETE=i,m.EQUAL=s,r.exports=m;function y(w,x){if(x===0)return[s,w];for(var M=0,k=0;k<w.length;k++){var N=w[k];if(N[0]===i||N[0]===s){var U=M+N[1].length;if(x===U)return[k+1,w];if(x<U){w=w.slice();var D=x-M,O=[N[0],N[1].slice(0,D)],L=[N[0],N[1].slice(D)];return w.splice(k,1,O,L),[k+1,w]}else M=U}}throw new Error("cursor_pos is out of bounds!")}function g(w,x){var M=y(w,x),k=M[1],N=M[0],U=k[N],D=k[N+1];if(U==null)return w;if(U[0]!==s)return w;if(D!=null&&U[1]+D[1]===D[1]+U[1])return k.splice(N,2,D,U),S(k,N,2);if(D!=null&&D[1].indexOf(U[1])===0){k.splice(N,2,[D[0],U[1]],[0,U[1]]);var O=D[1].slice(U[1].length);return O.length>0&&k.splice(N+2,0,[D[0],O]),S(k,N,3)}else return w}function v(w){for(var x=!1,M=function(D){return D.charCodeAt(0)>=56320&&D.charCodeAt(0)<=57343},k=function(D){return D.charCodeAt(D.length-1)>=55296&&D.charCodeAt(D.length-1)<=56319},N=2;N<w.length;N+=1)w[N-2][0]===s&&k(w[N-2][1])&&w[N-1][0]===i&&M(w[N-1][1])&&w[N][0]===o&&M(w[N][1])&&(x=!0,w[N-1][1]=w[N-2][1].slice(-1)+w[N-1][1],w[N][1]=w[N-2][1].slice(-1)+w[N][1],w[N-2][1]=w[N-2][1].slice(0,-1));if(!x)return w;for(var U=[],N=0;N<w.length;N+=1)w[N][1].length>0&&U.push(w[N]);return U}function S(w,x,M){for(var k=x+M-1;k>=0&&k>=x-1;k--)if(k+1<w.length){var N=w[k],U=w[k+1];N[0]===U[1]&&w.splice(k,2,[N[0],N[1]+U[1]])}return w}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?o:s,n.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}n.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)i.call(f,d)&&u.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},c.prototype.listeners=function(u,f){var d=o?o+u:u,h=this._events[d];if(f)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},c.prototype.emit=function(u,f,d,h,p,m){var y=o?o+u:u;if(!this._events[y])return!1;var g=this._events[y],v=arguments.length,S,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,h),!0;case 5:return g.fn.call(g.context,f,d,h,p),!0;case 6:return g.fn.call(g.context,f,d,h,p,m),!0}for(w=1,S=new Array(v-1);w<v;w++)S[w-1]=arguments[w];g.fn.apply(g.context,S)}else{var x=g.length,M;for(w=0;w<x;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),v){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,f);break;case 3:g[w].fn.call(g[w].context,f,d);break;case 4:g[w].fn.call(g[w].context,f,d,h);break;default:if(!S)for(M=1,S=new Array(v-1);M<v;M++)S[M-1]=arguments[M];g[w].fn.apply(g[w].context,S)}}return!0},c.prototype.on=function(u,f,d){var h=new a(f,d||this),p=o?o+u:u;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},c.prototype.once=function(u,f,d){var h=new a(f,d||this,!0),p=o?o+u:u;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},c.prototype.removeListener=function(u,f,d,h){var p=o?o+u:u;if(!this._events[p])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[p],this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&(--this._eventsCount===0?this._events=new s:delete this._events[p]);else{for(var y=0,g=[],v=m.length;y<v;y++)(m[y].fn!==f||h&&!m[y].once||d&&m[y].context!==d)&&g.push(m[y]);g.length?this._events[p]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new s:delete this._events[p]}return this},c.prototype.removeAllListeners=function(u){var f;return u?(f=o?o+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=o,c.EventEmitter=c,typeof r<"u"&&(r.exports=c)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},s=function(){function ee(ie,se){var he=[],fe=!0,_e=!1,ce=void 0;try{for(var Q=ie[Symbol.iterator](),te;!(fe=(te=Q.next()).done)&&(he.push(te.value),!(se&&he.length===se));fe=!0);}catch(ne){_e=!0,ce=ne}finally{try{!fe&&Q.return&&Q.return()}finally{if(_e)throw ce}}return he}return function(ie,se){if(Array.isArray(ie))return ie;if(Symbol.iterator in Object(ie))return ee(ie,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ee(ie,se){for(var he=0;he<se.length;he++){var fe=se[he];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(ie,fe.key,fe)}}return function(ie,se,he){return se&&ee(ie.prototype,se),he&&ee(ie,he),ie}}(),c=i(3),l=L(c),u=i(2),f=L(u),d=i(0),h=L(d),p=i(5),m=L(p),y=i(10),g=L(y),v=i(9),S=L(v),w=i(36),x=i(37),M=i(13),k=L(M),N=i(26),U=i(38),D=i(39),O=i(40);function L(ee){return ee&&ee.__esModule?ee:{default:ee}}function A(ee,ie,se){return ie in ee?Object.defineProperty(ee,ie,{value:se,enumerable:!0,configurable:!0,writable:!0}):ee[ie]=se,ee}function b(ee,ie){if(!(ee instanceof ie))throw new TypeError("Cannot call a class as a function")}function E(ee,ie){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie&&(typeof ie=="object"||typeof ie=="function")?ie:ee}function I(ee,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);ee.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,ie):ee.__proto__=ie)}var F=(0,g.default)("quill:clipboard"),$="__ql-matcher",B=[[Node.TEXT_NODE,Se],[Node.TEXT_NODE,le],["br",X],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,Oe],["li",ge],["b",q.bind(q,"bold")],["i",q.bind(q,"italic")],["style",Z]],j=[w.AlignAttribute,U.DirectionAttribute].reduce(function(ee,ie){return ee[ie.keyName]=ie,ee},{}),R=[w.AlignStyle,x.BackgroundStyle,N.ColorStyle,U.DirectionStyle,D.FontStyle,O.SizeStyle].reduce(function(ee,ie){return ee[ie.keyName]=ie,ee},{}),_=function(ee){I(ie,ee);function ie(se,he){b(this,ie);var fe=E(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,se,he));return fe.quill.root.addEventListener("paste",fe.onPaste.bind(fe)),fe.container=fe.quill.addContainer("ql-clipboard"),fe.container.setAttribute("contenteditable",!0),fe.container.setAttribute("tabindex",-1),fe.matchers=[],B.concat(fe.options.matchers).forEach(function(_e){var ce=s(_e,2),Q=ce[0],te=ce[1];!he.matchVisual&&te===pe||fe.addMatcher(Q,te)}),fe}return a(ie,[{key:"addMatcher",value:function(he,fe){this.matchers.push([he,fe])}},{key:"convert",value:function(he){if(typeof he=="string")return this.container.innerHTML=he.replace(/\>\r?\n +\</g,"><"),this.convert();var fe=this.quill.getFormat(this.quill.selection.savedRange.index);if(fe[k.default.blotName]){var _e=this.container.innerText;return this.container.innerHTML="",new f.default().insert(_e,A({},k.default.blotName,fe[k.default.blotName]))}var ce=this.prepareMatching(),Q=s(ce,2),te=Q[0],ne=Q[1],re=z(this.container,te,ne);return P(re,`
`)&&re.ops[re.ops.length-1].attributes==null&&(re=re.compose(new f.default().retain(re.length()-1).delete(1))),F.log("convert",this.container.innerHTML,re),this.container.innerHTML="",re}},{key:"dangerouslyPasteHTML",value:function(he,fe){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof he=="string")this.quill.setContents(this.convert(he),fe),this.quill.setSelection(0,m.default.sources.SILENT);else{var ce=this.convert(fe);this.quill.updateContents(new f.default().retain(he).concat(ce),_e),this.quill.setSelection(he+ce.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(he){var fe=this;if(!(he.defaultPrevented||!this.quill.isEnabled())){var _e=this.quill.getSelection(),ce=new f.default().retain(_e.index),Q=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){ce=ce.concat(fe.convert()).delete(_e.length),fe.quill.updateContents(ce,m.default.sources.USER),fe.quill.setSelection(ce.length()-_e.length,m.default.sources.SILENT),fe.quill.scrollingContainer.scrollTop=Q,fe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var he=this,fe=[],_e=[];return this.matchers.forEach(function(ce){var Q=s(ce,2),te=Q[0],ne=Q[1];switch(te){case Node.TEXT_NODE:_e.push(ne);break;case Node.ELEMENT_NODE:fe.push(ne);break;default:[].forEach.call(he.container.querySelectorAll(te),function(re){re[$]=re[$]||[],re[$].push(ne)});break}}),[fe,_e]}}]),ie}(S.default);_.DEFAULTS={matchers:[],matchVisual:!0};function C(ee,ie,se){return(typeof ie>"u"?"undefined":o(ie))==="object"?Object.keys(ie).reduce(function(he,fe){return C(he,fe,ie[fe])},ee):ee.reduce(function(he,fe){return fe.attributes&&fe.attributes[ie]?he.push(fe):he.insert(fe.insert,(0,l.default)({},A({},ie,se),fe.attributes))},new f.default)}function H(ee){if(ee.nodeType!==Node.ELEMENT_NODE)return{};var ie="__ql-computed-style";return ee[ie]||(ee[ie]=window.getComputedStyle(ee))}function P(ee,ie){for(var se="",he=ee.ops.length-1;he>=0&&se.length<ie.length;--he){var fe=ee.ops[he];if(typeof fe.insert!="string")break;se=fe.insert+se}return se.slice(-1*ie.length)===ie}function T(ee){if(ee.childNodes.length===0)return!1;var ie=H(ee);return["block","list-item"].indexOf(ie.display)>-1}function z(ee,ie,se){return ee.nodeType===ee.TEXT_NODE?se.reduce(function(he,fe){return fe(ee,he)},new f.default):ee.nodeType===ee.ELEMENT_NODE?[].reduce.call(ee.childNodes||[],function(he,fe){var _e=z(fe,ie,se);return fe.nodeType===ee.ELEMENT_NODE&&(_e=ie.reduce(function(ce,Q){return Q(fe,ce)},_e),_e=(fe[$]||[]).reduce(function(ce,Q){return Q(fe,ce)},_e)),he.concat(_e)},new f.default):new f.default}function q(ee,ie,se){return C(se,ee,!0)}function W(ee,ie){var se=h.default.Attributor.Attribute.keys(ee),he=h.default.Attributor.Class.keys(ee),fe=h.default.Attributor.Style.keys(ee),_e={};return se.concat(he).concat(fe).forEach(function(ce){var Q=h.default.query(ce,h.default.Scope.ATTRIBUTE);Q!=null&&(_e[Q.attrName]=Q.value(ee),_e[Q.attrName])||(Q=j[ce],Q!=null&&(Q.attrName===ce||Q.keyName===ce)&&(_e[Q.attrName]=Q.value(ee)||void 0),Q=R[ce],Q!=null&&(Q.attrName===ce||Q.keyName===ce)&&(Q=R[ce],_e[Q.attrName]=Q.value(ee)||void 0))}),Object.keys(_e).length>0&&(ie=C(ie,_e)),ie}function K(ee,ie){var se=h.default.query(ee);if(se==null)return ie;if(se.prototype instanceof h.default.Embed){var he={},fe=se.value(ee);fe!=null&&(he[se.blotName]=fe,ie=new f.default().insert(he,se.formats(ee)))}else typeof se.formats=="function"&&(ie=C(ie,se.blotName,se.formats(ee)));return ie}function X(ee,ie){return P(ie,`
`)||ie.insert(`
`),ie}function Z(){return new f.default}function ge(ee,ie){var se=h.default.query(ee);if(se==null||se.blotName!=="list-item"||!P(ie,`
`))return ie;for(var he=-1,fe=ee.parentNode;!fe.classList.contains("ql-clipboard");)(h.default.query(fe)||{}).blotName==="list"&&(he+=1),fe=fe.parentNode;return he<=0?ie:ie.compose(new f.default().retain(ie.length()-1).retain(1,{indent:he}))}function le(ee,ie){return P(ie,`
`)||(T(ee)||ie.length()>0&&ee.nextSibling&&T(ee.nextSibling))&&ie.insert(`
`),ie}function pe(ee,ie){if(T(ee)&&ee.nextElementSibling!=null&&!P(ie,`

`)){var se=ee.offsetHeight+parseFloat(H(ee).marginTop)+parseFloat(H(ee).marginBottom);ee.nextElementSibling.offsetTop>ee.offsetTop+se*1.5&&ie.insert(`
`)}return ie}function Oe(ee,ie){var se={},he=ee.style||{};return he.fontStyle&&H(ee).fontStyle==="italic"&&(se.italic=!0),he.fontWeight&&(H(ee).fontWeight.startsWith("bold")||parseInt(H(ee).fontWeight)>=700)&&(se.bold=!0),Object.keys(se).length>0&&(ie=C(ie,se)),parseFloat(he.textIndent||0)>0&&(ie=new f.default().insert("	").concat(ie)),ie}function Se(ee,ie){var se=ee.data;if(ee.parentNode.tagName==="O:P")return ie.insert(se.trim());if(se.trim().length===0&&ee.parentNode.classList.contains("ql-clipboard"))return ie;if(!H(ee.parentNode).whiteSpace.startsWith("pre")){var he=function(_e,ce){return ce=ce.replace(/[^\u00a0]/g,""),ce.length<1&&_e?" ":ce};se=se.replace(/\r\n/g," ").replace(/\n/g," "),se=se.replace(/\s\s+/g,he.bind(he,!0)),(ee.previousSibling==null&&T(ee.parentNode)||ee.previousSibling!=null&&T(ee.previousSibling))&&(se=se.replace(/^\s+/,he.bind(he,!1))),(ee.nextSibling==null&&T(ee.parentNode)||ee.nextSibling!=null&&T(ee.nextSibling))&&(se=se.replace(/\s+$/,he.bind(he,!1)))}return ie.insert(se)}n.default=_,n.matchAttributor=W,n.matchBlot=K,n.matchNewline=le,n.matchSpacing=pe,n.matchText=Se},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function p(m,y){for(var g=0;g<y.length;g++){var v=y[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,g){return y&&p(m.prototype,y),g&&p(m,g),m}}(),s=function p(m,y,g){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,y);if(v===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:p(S,y,g)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(g)}},a=i(6),c=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function f(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"optimize",value:function(g){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(c.default);h.blotName="bold",h.tagName=["STRONG","B"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var o=function(){function O(L,A){var b=[],E=!0,I=!1,F=void 0;try{for(var $=L[Symbol.iterator](),B;!(E=(B=$.next()).done)&&(b.push(B.value),!(A&&b.length===A));E=!0);}catch(j){I=!0,F=j}finally{try{!E&&$.return&&$.return()}finally{if(I)throw F}}return b}return function(L,A){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return O(L,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(L,A){for(var b=0;b<A.length;b++){var E=A[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(L,E.key,E)}}return function(L,A,b){return A&&O(L.prototype,A),b&&O(L,b),L}}(),a=i(2),c=g(a),l=i(0),u=g(l),f=i(5),d=g(f),h=i(10),p=g(h),m=i(9),y=g(m);function g(O){return O&&O.__esModule?O:{default:O}}function v(O,L,A){return L in O?Object.defineProperty(O,L,{value:A,enumerable:!0,configurable:!0,writable:!0}):O[L]=A,O}function S(O,L){if(!(O instanceof L))throw new TypeError("Cannot call a class as a function")}function w(O,L){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:O}function x(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);O.prototype=Object.create(L&&L.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(O,L):O.__proto__=L)}var M=(0,p.default)("quill:toolbar"),k=function(O){x(L,O);function L(A,b){S(this,L);var E=w(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,A,b));if(Array.isArray(E.options.container)){var I=document.createElement("div");U(I,E.options.container),A.container.parentNode.insertBefore(I,A.container),E.container=I}else typeof E.options.container=="string"?E.container=document.querySelector(E.options.container):E.container=E.options.container;if(!(E.container instanceof HTMLElement)){var F;return F=M.error("Container required for toolbar",E.options),w(E,F)}return E.container.classList.add("ql-toolbar"),E.controls=[],E.handlers={},Object.keys(E.options.handlers).forEach(function($){E.addHandler($,E.options.handlers[$])}),[].forEach.call(E.container.querySelectorAll("button, select"),function($){E.attach($)}),E.quill.on(d.default.events.EDITOR_CHANGE,function($,B){$===d.default.events.SELECTION_CHANGE&&E.update(B)}),E.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var $=E.quill.selection.getRange(),B=o($,1),j=B[0];E.update(j)}),E}return s(L,[{key:"addHandler",value:function(b,E){this.handlers[b]=E}},{key:"attach",value:function(b){var E=this,I=[].find.call(b.classList,function($){return $.indexOf("ql-")===0});if(I){if(I=I.slice(3),b.tagName==="BUTTON"&&b.setAttribute("type","button"),this.handlers[I]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[I]==null){M.warn("ignoring attaching to disabled format",I,b);return}if(u.default.query(I)==null){M.warn("ignoring attaching to nonexistent format",I,b);return}}var F=b.tagName==="SELECT"?"change":"click";b.addEventListener(F,function($){var B=void 0;if(b.tagName==="SELECT"){if(b.selectedIndex<0)return;var j=b.options[b.selectedIndex];j.hasAttribute("selected")?B=!1:B=j.value||!1}else b.classList.contains("ql-active")?B=!1:B=b.value||!b.hasAttribute("value"),$.preventDefault();E.quill.focus();var R=E.quill.selection.getRange(),_=o(R,1),C=_[0];if(E.handlers[I]!=null)E.handlers[I].call(E,B);else if(u.default.query(I).prototype instanceof u.default.Embed){if(B=prompt("Enter "+I),!B)return;E.quill.updateContents(new c.default().retain(C.index).delete(C.length).insert(v({},I,B)),d.default.sources.USER)}else E.quill.format(I,B,d.default.sources.USER);E.update(C)}),this.controls.push([I,b])}}},{key:"update",value:function(b){var E=b==null?{}:this.quill.getFormat(b);this.controls.forEach(function(I){var F=o(I,2),$=F[0],B=F[1];if(B.tagName==="SELECT"){var j=void 0;if(b==null)j=null;else if(E[$]==null)j=B.querySelector("option[selected]");else if(!Array.isArray(E[$])){var R=E[$];typeof R=="string"&&(R=R.replace(/\"/g,'\\"')),j=B.querySelector('option[value="'+R+'"]')}j==null?(B.value="",B.selectedIndex=-1):j.selected=!0}else if(b==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var _=E[$]===B.getAttribute("value")||E[$]!=null&&E[$].toString()===B.getAttribute("value")||E[$]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",_)}else B.classList.toggle("ql-active",E[$]!=null)})}}]),L}(y.default);k.DEFAULTS={};function N(O,L,A){var b=document.createElement("button");b.setAttribute("type","button"),b.classList.add("ql-"+L),A!=null&&(b.value=A),O.appendChild(b)}function U(O,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(A){var b=document.createElement("span");b.classList.add("ql-formats"),A.forEach(function(E){if(typeof E=="string")N(b,E);else{var I=Object.keys(E)[0],F=E[I];Array.isArray(F)?D(b,I,F):N(b,I,F)}}),O.appendChild(b)})}function D(O,L,A){var b=document.createElement("select");b.classList.add("ql-"+L),A.forEach(function(E){var I=document.createElement("option");E!==!1?I.setAttribute("value",E):I.setAttribute("selected","selected"),b.appendChild(I)}),O.appendChild(b)}k.DEFAULTS={container:null,handlers:{clean:function(){var L=this,A=this.quill.getSelection();if(A!=null)if(A.length==0){var b=this.quill.getFormat();Object.keys(b).forEach(function(E){u.default.query(E,u.default.Scope.INLINE)!=null&&L.quill.format(E,!1)})}else this.quill.removeFormat(A,d.default.sources.USER)},direction:function(L){var A=this.quill.getFormat().align;L==="rtl"&&A==null?this.quill.format("align","right",d.default.sources.USER):!L&&A==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",L,d.default.sources.USER)},indent:function(L){var A=this.quill.getSelection(),b=this.quill.getFormat(A),E=parseInt(b.indent||0);if(L==="+1"||L==="-1"){var I=L==="+1"?1:-1;b.direction==="rtl"&&(I*=-1),this.quill.format("indent",E+I,d.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,d.default.sources.USER)},list:function(L){var A=this.quill.getSelection(),b=this.quill.getFormat(A);L==="check"?b.list==="checked"||b.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",L,d.default.sources.USER)}}},n.default=k,n.addControls=U},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function p(m,y){for(var g=0;g<y.length;g++){var v=y[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,g){return y&&p(m.prototype,y),g&&p(m,g),m}}(),s=function p(m,y,g){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,y);if(v===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:p(S,y,g)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(g)}},a=i(28),c=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function f(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(y,g){u(this,m);var v=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return v.label.innerHTML=g,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(S){S.classList.add("ql-primary")}),v}return o(m,[{key:"buildItem",value:function(g){var v=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,g);return v.style.backgroundColor=g.getAttribute("value")||"",v}},{key:"selectItem",value:function(g,v){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,g,v);var S=this.label.querySelector(".ql-color-label"),w=g&&g.getAttribute("data-value")||"";S&&(S.tagName==="line"?S.style.stroke=w:S.style.fill=w)}}]),m}(c.default);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function p(m,y){for(var g=0;g<y.length;g++){var v=y[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,g){return y&&p(m.prototype,y),g&&p(m,g),m}}(),s=function p(m,y,g){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,y);if(v===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:p(S,y,g)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(g)}},a=i(28),c=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function f(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(y,g){u(this,m);var v=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(S){S.innerHTML=g[S.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return o(m,[{key:"selectItem",value:function(g,v){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,g,v),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),m}(c.default);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function c(l,u){for(var f=0;f<u.length;f++){var d=u[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,u,f){return u&&c(l.prototype,u),f&&c(l,f),l}}();function s(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}var a=function(){function c(l,u){var f=this;s(this,c),this.quill=l,this.boundsContainer=u||document.body,this.root=l.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,d=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),m=0;if(p.right>h.right&&(m=h.right-p.right,this.root.style.left=f+m+"px"),p.left<h.left&&(m=h.left-p.left,this.root.style.left=f+m+"px"),p.bottom>h.bottom){var y=p.bottom-p.top,g=u.bottom-u.top+y;this.root.style.top=d-g+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function D(O,L){var A=[],b=!0,E=!1,I=void 0;try{for(var F=O[Symbol.iterator](),$;!(b=($=F.next()).done)&&(A.push($.value),!(L&&A.length===L));b=!0);}catch(B){E=!0,I=B}finally{try{!b&&F.return&&F.return()}finally{if(E)throw I}}return A}return function(O,L){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return D(O,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function D(O,L,A){O===null&&(O=Function.prototype);var b=Object.getOwnPropertyDescriptor(O,L);if(b===void 0){var E=Object.getPrototypeOf(O);return E===null?void 0:D(E,L,A)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(A)}},a=function(){function D(O,L){for(var A=0;A<L.length;A++){var b=L[A];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(O,b.key,b)}}return function(O,L,A){return L&&D(O.prototype,L),A&&D(O,A),O}}(),c=i(3),l=S(c),u=i(8),f=S(u),d=i(43),h=S(d),p=i(27),m=S(p),y=i(15),g=i(41),v=S(g);function S(D){return D&&D.__esModule?D:{default:D}}function w(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")}function x(D,O){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:D}function M(D,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);D.prototype=Object.create(O&&O.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(D,O):D.__proto__=O)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],N=function(D){M(O,D);function O(L,A){w(this,O),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=k);var b=x(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,L,A));return b.quill.container.classList.add("ql-snow"),b}return a(O,[{key:"extendToolbar",value:function(A){A.container.classList.add("ql-snow"),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),v.default),this.tooltip=new U(this.quill,this.options.bounds),A.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(b,E){A.handlers.link.call(A,!E.format.link)})}}]),O}(h.default);N.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){if(O){var L=this.quill.getSelection();if(L==null||L.length==0)return;var A=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(A)&&A.indexOf("mailto:")!==0&&(A="mailto:"+A);var b=this.quill.theme.tooltip;b.edit("link",A)}else this.quill.format("link",!1)}}}}});var U=function(D){M(O,D);function O(L,A){w(this,O);var b=x(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,L,A));return b.preview=b.root.querySelector("a.ql-preview"),b}return a(O,[{key:"listen",value:function(){var A=this;s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(b){A.root.classList.contains("ql-editing")?A.save():A.edit("link",A.preview.textContent),b.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(b){if(A.linkRange!=null){var E=A.linkRange;A.restoreFocus(),A.quill.formatText(E,"link",!1,f.default.sources.USER),delete A.linkRange}b.preventDefault(),A.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(b,E,I){if(b!=null){if(b.length===0&&I===f.default.sources.USER){var F=A.quill.scroll.descendant(m.default,b.index),$=o(F,2),B=$[0],j=$[1];if(B!=null){A.linkRange=new y.Range(b.index-j,B.length());var R=m.default.formats(B.domNode);A.preview.textContent=R,A.preview.setAttribute("href",R),A.show(),A.position(A.quill.getBounds(A.linkRange));return}}else delete A.linkRange;A.hide()}})}},{key:"show",value:function(){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),O}(d.BaseTooltip);U.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=N},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(29),s=fe(o),a=i(36),c=i(38),l=i(64),u=i(65),f=fe(u),d=i(66),h=fe(d),p=i(67),m=fe(p),y=i(37),g=i(26),v=i(39),S=i(40),w=i(56),x=fe(w),M=i(68),k=fe(M),N=i(27),U=fe(N),D=i(69),O=fe(D),L=i(70),A=fe(L),b=i(71),E=fe(b),I=i(72),F=fe(I),$=i(73),B=fe($),j=i(13),R=fe(j),_=i(74),C=fe(_),H=i(75),P=fe(H),T=i(57),z=fe(T),q=i(41),W=fe(q),K=i(28),X=fe(K),Z=i(59),ge=fe(Z),le=i(60),pe=fe(le),Oe=i(61),Se=fe(Oe),ee=i(108),ie=fe(ee),se=i(62),he=fe(se);function fe(_e){return _e&&_e.__esModule?_e:{default:_e}}s.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":S.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":S.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":l.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":v.FontClass,"formats/size":S.SizeClass,"formats/blockquote":f.default,"formats/code-block":R.default,"formats/header":h.default,"formats/list":m.default,"formats/bold":x.default,"formats/code":j.Code,"formats/italic":k.default,"formats/link":U.default,"formats/script":O.default,"formats/strike":A.default,"formats/underline":E.default,"formats/image":F.default,"formats/video":B.default,"formats/list/item":p.ListItem,"modules/formula":C.default,"modules/syntax":P.default,"modules/toolbar":z.default,"themes/bubble":ie.default,"themes/snow":he.default,"ui/icons":W.default,"ui/picker":X.default,"ui/icon-picker":pe.default,"ui/color-picker":ge.default,"ui/tooltip":Se.default},!0),n.default=s.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var o=function(){function m(y,g){for(var v=0;v<g.length;v++){var S=g[v];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,g,v){return g&&m(y.prototype,g),v&&m(y,v),y}}(),s=function m(y,g,v){y===null&&(y=Function.prototype);var S=Object.getOwnPropertyDescriptor(y,g);if(S===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:m(w,g,v)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(v)}},a=i(0),c=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"add",value:function(v,S){if(S==="+1"||S==="-1"){var w=this.value(v)||0;S=S==="+1"?w+1:w-1}return S===0?(this.remove(v),!0):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,v,S)}},{key:"canAdd",value:function(v,S){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,v,S)||s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,v,parseInt(S))}},{key:"value",value:function(v){return parseInt(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,v))||void 0}}]),y}(c.default.Attributor.Class),p=new h("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(4),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function l(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){u(h,d);function h(){return c(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function h(p,m){for(var y=0;y<m.length;y++){var g=m[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),s=i(4),a=c(s);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){f(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),p}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var o=function(){function w(x,M){for(var k=0;k<M.length;k++){var N=M[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,M,k){return M&&w(x.prototype,M),k&&w(x,k),x}}(),s=function w(x,M,k){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,M);if(N===void 0){var U=Object.getPrototypeOf(x);return U===null?void 0:w(U,M,k)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(k)}},a=i(0),c=h(a),l=i(4),u=h(l),f=i(25),d=h(f);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,x,M){return x in w?Object.defineProperty(w,x,{value:M,enumerable:!0,configurable:!0,writable:!0}):w[x]=M,w}function m(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function y(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function g(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var v=function(w){g(x,w);function x(){return m(this,x),y(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"format",value:function(k,N){k===S.blotName&&!N?this.replaceWith(c.default.create(this.statics.scope)):s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,k,N)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,N){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,N),this):(this.parent.unwrap(),s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,k,N))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:s(x.__proto__||Object.getPrototypeOf(x),"formats",this).call(this,k)}}]),x}(u.default);v.blotName="list-item",v.tagName="LI";var S=function(w){g(x,w),o(x,null,[{key:"create",value:function(k){var N=k==="ordered"?"OL":"UL",U=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,N);return(k==="checked"||k==="unchecked")&&U.setAttribute("data-checked",k==="checked"),U}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function x(M){m(this,x);var k=y(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,M)),N=function(D){if(D.target.parentNode===M){var O=k.statics.formats(M),L=c.default.find(D.target);O==="checked"?L.format("list","unchecked"):O==="unchecked"&&L.format("list","checked")}};return M.addEventListener("touchstart",N),M.addEventListener("mousedown",N),k}return o(x,[{key:"format",value:function(k,N){this.children.length>0&&this.children.tail.format(k,N)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,N){if(k instanceof v)s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,k,N);else{var U=N==null?this.length():N.offset(this),D=this.split(U);D.parent.insertBefore(k,D)}}},{key:"optimize",value:function(k){s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,k);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&N.domNode.tagName===this.domNode.tagName&&N.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(N.moveChildren(this),N.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var N=c.default.create(this.statics.defaultChild);k.moveChildren(N),this.appendChild(N)}s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replace",this).call(this,k)}}]),x}(d.default);S.blotName="list",S.scope=c.default.Scope.BLOCK_BLOT,S.tagName=["OL","UL"],S.defaultChild="list-item",S.allowedChildren=[v],n.ListItem=v,n.default=S},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(56),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function l(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){u(h,d);function h(){return c(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function p(m,y){for(var g=0;g<y.length;g++){var v=y[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,g){return y&&p(m.prototype,y),g&&p(m,g),m}}(),s=function p(m,y,g){m===null&&(m=Function.prototype);var v=Object.getOwnPropertyDescriptor(m,y);if(v===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:p(S,y,g)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(g)}},a=i(6),c=l(a);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function f(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),m}(c.default);h.blotName="script",h.tagName=["SUB","SUP"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function l(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){u(h,d);function h(){return c(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function l(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){u(h,d);function h(){return c(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function y(g,v){for(var S=0;S<v.length;S++){var w=v[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,v,S){return v&&y(g.prototype,v),S&&y(g,S),g}}(),s=function y(g,v,S){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,v);if(w===void 0){var x=Object.getPrototypeOf(g);return x===null?void 0:y(x,v,S)}else{if("value"in w)return w.value;var M=w.get;return M===void 0?void 0:M.call(S)}},a=i(0),c=u(a),l=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function d(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function h(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var p=["alt","height","width"],m=function(y){h(g,y);function g(){return f(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(S,w){p.indexOf(S)>-1?w?this.domNode.setAttribute(S,w):this.domNode.removeAttribute(S):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,S,w)}}],[{key:"create",value:function(S){var w=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,S);return typeof S=="string"&&w.setAttribute("src",this.sanitize(S)),w}},{key:"formats",value:function(S){return p.reduce(function(w,x){return S.hasAttribute(x)&&(w[x]=S.getAttribute(x)),w},{})}},{key:"match",value:function(S){return/\.(jpe?g|gif|png)$/.test(S)||/^data:image\/.+;base64/.test(S)}},{key:"sanitize",value:function(S){return(0,l.sanitize)(S,["http","https","data"])?S:"//:0"}},{key:"value",value:function(S){return S.getAttribute("src")}}]),g}(c.default.Embed);m.blotName="image",m.tagName="IMG",n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function y(g,v){for(var S=0;S<v.length;S++){var w=v[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,v,S){return v&&y(g.prototype,v),S&&y(g,S),g}}(),s=function y(g,v,S){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,v);if(w===void 0){var x=Object.getPrototypeOf(g);return x===null?void 0:y(x,v,S)}else{if("value"in w)return w.value;var M=w.get;return M===void 0?void 0:M.call(S)}},a=i(4),c=i(27),l=u(c);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function d(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function h(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var p=["height","width"],m=function(y){h(g,y);function g(){return f(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(S,w){p.indexOf(S)>-1?w?this.domNode.setAttribute(S,w):this.domNode.removeAttribute(S):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,S,w)}}],[{key:"create",value:function(S){var w=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,S);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(S)),w}},{key:"formats",value:function(S){return p.reduce(function(w,x){return S.hasAttribute(x)&&(w[x]=S.getAttribute(x)),w},{})}},{key:"sanitize",value:function(S){return l.default.sanitize(S)}},{key:"value",value:function(S){return S.getAttribute("src")}}]),g}(a.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var o=function(){function S(w,x){for(var M=0;M<x.length;M++){var k=x[M];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,x,M){return x&&S(w.prototype,x),M&&S(w,M),w}}(),s=function S(w,x,M){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,x);if(k===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:S(N,x,M)}else{if("value"in k)return k.value;var U=k.get;return U===void 0?void 0:U.call(M)}},a=i(35),c=h(a),l=i(5),u=h(l),f=i(9),d=h(f);function h(S){return S&&S.__esModule?S:{default:S}}function p(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function m(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function y(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var g=function(S){y(w,S);function w(){return p(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,null,[{key:"create",value:function(M){var k=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,M);return typeof M=="string"&&(window.katex.render(M,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",M)),k}},{key:"value",value:function(M){return M.getAttribute("data-value")}}]),w}(c.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var v=function(S){y(w,S),o(w,null,[{key:"register",value:function(){u.default.register(g,!0)}}]);function w(){p(this,w);var x=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return x}return w}(d.default);n.FormulaBlot=g,n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var o=function(){function M(k,N){for(var U=0;U<N.length;U++){var D=N[U];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(k,D.key,D)}}return function(k,N,U){return N&&M(k.prototype,N),U&&M(k,U),k}}(),s=function M(k,N,U){k===null&&(k=Function.prototype);var D=Object.getOwnPropertyDescriptor(k,N);if(D===void 0){var O=Object.getPrototypeOf(k);return O===null?void 0:M(O,N,U)}else{if("value"in D)return D.value;var L=D.get;return L===void 0?void 0:L.call(U)}},a=i(0),c=m(a),l=i(5),u=m(l),f=i(9),d=m(f),h=i(13),p=m(h);function m(M){return M&&M.__esModule?M:{default:M}}function y(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")}function g(M,k){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:M}function v(M,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);M.prototype=Object.create(k&&k.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(M,k):M.__proto__=k)}var S=function(M){v(k,M);function k(){return y(this,k),g(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"replaceWith",value:function(U){this.domNode.textContent=this.domNode.textContent,this.attach(),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,U)}},{key:"highlight",value:function(U){var D=this.domNode.textContent;this.cachedText!==D&&((D.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=U(D),this.domNode.normalize(),this.attach()),this.cachedText=D)}}]),k}(p.default);S.className="ql-syntax";var w=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),x=function(M){v(k,M),o(k,null,[{key:"register",value:function(){u.default.register(w,!0),u.default.register(S,!0)}}]);function k(N,U){y(this,k);var D=g(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,N,U));if(typeof D.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var O=null;return D.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(O),O=setTimeout(function(){D.highlight(),O=null},D.options.interval)}),D.highlight(),D}return o(k,[{key:"highlight",value:function(){var U=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var D=this.quill.getSelection();this.quill.scroll.descendants(S).forEach(function(O){O.highlight(U.options.highlight)}),this.quill.update(u.default.sources.SILENT),D!=null&&this.quill.setSelection(D,u.default.sources.SILENT)}}}]),k}(d.default);x.DEFAULTS={highlight:function(){return window.hljs==null?null:function(M){var k=window.hljs.highlightAuto(M);return k.value}}(),interval:1e3},n.CodeBlock=S,n.CodeToken=w,n.default=x},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var o=function k(N,U,D){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,U);if(O===void 0){var L=Object.getPrototypeOf(N);return L===null?void 0:k(L,U,D)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(D)}},s=function(){function k(N,U){for(var D=0;D<U.length;D++){var O=U[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,U,D){return U&&k(N.prototype,U),D&&k(N,D),N}}(),a=i(3),c=y(a),l=i(8),u=y(l),f=i(43),d=y(f),h=i(15),p=i(41),m=y(p);function y(k){return k&&k.__esModule?k:{default:k}}function g(k,N){if(!(k instanceof N))throw new TypeError("Cannot call a class as a function")}function v(k,N){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:k}function S(k,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);k.prototype=Object.create(N&&N.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(k,N):k.__proto__=N)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(k){S(N,k);function N(U,D){g(this,N),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=w);var O=v(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,U,D));return O.quill.container.classList.add("ql-bubble"),O}return s(N,[{key:"extendToolbar",value:function(D){this.tooltip=new M(this.quill,this.options.bounds),this.tooltip.root.appendChild(D.container),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),m.default)}}]),N}(d.default);x.DEFAULTS=(0,c.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){N?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var M=function(k){S(N,k);function N(U,D){g(this,N);var O=v(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,U,D));return O.quill.on(u.default.events.EDITOR_CHANGE,function(L,A,b,E){if(L===u.default.events.SELECTION_CHANGE)if(A!=null&&A.length>0&&E===u.default.sources.USER){O.show(),O.root.style.left="0px",O.root.style.width="",O.root.style.width=O.root.offsetWidth+"px";var I=O.quill.getLines(A.index,A.length);if(I.length===1)O.position(O.quill.getBounds(A));else{var F=I[I.length-1],$=O.quill.getIndex(F),B=Math.min(F.length()-1,A.index+A.length-$),j=O.quill.getBounds(new h.Range($,B));O.position(j)}}else document.activeElement!==O.textbox&&O.quill.hasFocus()&&O.hide()}),O}return s(N,[{key:"listen",value:function(){var D=this;o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){D.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!D.root.classList.contains("ql-hidden")){var O=D.quill.getSelection();O!=null&&D.position(D.quill.getBounds(O))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(D){var O=o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"position",this).call(this,D),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",O===0)return O;L.style.marginLeft=-1*O-L.offsetWidth/2+"px"}}]),N}(f.BaseTooltip);M.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=M,n.default=x},function(r,n,i){r.exports=i(63)}]).default})})(YH);const Fg=du(O0);const Ii=Object.create(null);Ii.open="0";Ii.close="1";Ii.ping="2";Ii.pong="3";Ii.message="4";Ii.upgrade="5";Ii.noop="6";const ld=Object.create(null);Object.keys(Ii).forEach(t=>{ld[Ii[t]]=t});const XH={type:"error",data:"parser error"},ZH=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",eV=typeof ArrayBuffer=="function",tV=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,yT=({type:t,data:e},r,n)=>ZH&&e instanceof Blob?r?n(e):TE(e,n):eV&&(e instanceof ArrayBuffer||tV(e))?r?n(e):TE(new Blob([e]),n):n(Ii[t]+(e||"")),TE=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)},CE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<CE.length;t++)hc[CE.charCodeAt(t)]=t;const rV=t=>{let e=t.length*.75,r=t.length,n,i=0,o,s,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),u=new Uint8Array(l);for(n=0;n<r;n+=4)o=hc[t.charCodeAt(n)],s=hc[t.charCodeAt(n+1)],a=hc[t.charCodeAt(n+2)],c=hc[t.charCodeAt(n+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l},nV=typeof ArrayBuffer=="function",bT=(t,e)=>{if(typeof t!="string")return{type:"message",data:wT(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:iV(t.substring(1),e)}:ld[r]?t.length>1?{type:ld[r],data:t.substring(1)}:{type:ld[r]}:XH},iV=(t,e)=>{if(nV){const r=rV(t);return wT(r,e)}else return{base64:!0,data:t}},wT=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},_T=String.fromCharCode(30),oV=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((o,s)=>{yT(o,!1,a=>{n[s]=a,++i===r&&e(n.join(_T))})})},sV=(t,e)=>{const r=t.split(_T),n=[];for(let i=0;i<r.length;i++){const o=bT(r[i],e);if(n.push(o),o.type==="error")break}return n},ST=4;function er(t){if(t)return aV(t)}function aV(t){for(var e in er.prototype)t[e]=er.prototype[e];return t}er.prototype.on=er.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};er.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};er.prototype.off=er.prototype.removeListener=er.prototype.removeAllListeners=er.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};er.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};er.prototype.emitReserved=er.prototype.emit;er.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};er.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Bo=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function xT(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const lV=setTimeout,cV=clearTimeout;function qp(t,e){e.useNativeTimers?(t.setTimeoutFn=lV.bind(Bo),t.clearTimeoutFn=cV.bind(Bo)):(t.setTimeoutFn=setTimeout.bind(Bo),t.clearTimeoutFn=clearTimeout.bind(Bo))}const uV=1.33;function fV(t){return typeof t=="string"?dV(t):Math.ceil((t.byteLength||t.size)*uV)}function dV(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}class hV extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class ET extends er{constructor(e){super(),this.writable=!1,qp(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new hV(e,r,n)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=bT(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const RT="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),M0=64,pV={};let OE=0,Of=0,ME;function NE(t){let e="";do e=RT[t%M0]+e,t=Math.floor(t/M0);while(t>0);return e}function PT(){const t=NE(+new Date);return t!==ME?(OE=0,ME=t):t+"."+NE(OE++)}for(;Of<M0;Of++)pV[RT[Of]]=Of;function AT(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function mV(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}let kT=!1;try{kT=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const gV=kT;function TT(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||gV))return new XMLHttpRequest}catch{}if(!e)try{return new Bo[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function vV(){}const yV=function(){return new TT({xdomain:!1}).responseType!=null}();class bV extends ET{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==n}const r=e&&e.forceBase64;this.supportsBinary=yV&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};sV(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,oV(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const r=this.opts.secure?"https":"http";let n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=PT()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);const i=AT(e),o=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Xi(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let Xi=class extends er{constructor(e,r){super(),qp(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const e=xT(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new TT(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document<"u"&&(this.index=Xi.requestsCount++,Xi.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=vV,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Xi.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Xi.requestsCount=0;Xi.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",IE);else if(typeof addEventListener=="function"){const t="onpagehide"in Bo?"pagehide":"unload";addEventListener(t,IE,!1)}}function IE(){for(let t in Xi.requests)Xi.requests.hasOwnProperty(t)&&Xi.requests[t].abort()}const CT=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))(),Mf=Bo.WebSocket||Bo.MozWebSocket,DE=!0,wV="arraybuffer",LE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class _V extends ET{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=LE?{}:xT(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=DE&&!LE?r?new Mf(e,r):new Mf(e):new Mf(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||wV,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;yT(n,this.supportsBinary,o=>{const s={};try{DE&&this.ws.send(o)}catch{}i&&CT(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const r=this.opts.secure?"wss":"ws";let n="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=PT()),this.supportsBinary||(e.b64=1);const i=AT(e),o=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}check(){return!!Mf}}const SV={websocket:_V,polling:bV},xV=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,EV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function N0(t){const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=xV.exec(t||""),o={},s=14;for(;s--;)o[EV[s]]=i[s]||"";return r!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=RV(o,o.path),o.queryKey=PV(o,o.query),o}function RV(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function PV(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}let ms=class extends er{constructor(e,r={}){super(),e&&typeof e=="object"&&(r=e,e=null),e?(e=N0(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=N0(r.host).host),qp(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=mV(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=ST,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new SV[e](n)}open(){let e;if(this.opts.rememberUpgrade&&ms.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),n=!1;ms.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ms.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=r.name,this.emitReserved("upgradeError",d)}}))};function o(){n||(n=!0,u(),r.close(),r=null)}const s=f=>{const d=new Error("probe error: "+f);d.transport=r.name,o(),this.emitReserved("upgradeError",d)};function a(){s("transport closed")}function c(){s("socket closed")}function l(f){r&&f.name!==r.name&&o()}const u=()=>{r.removeListener("open",i),r.removeListener("error",s),r.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};r.once("open",i),r.once("error",s),r.once("close",a),this.once("close",c),this.once("upgrading",l),r.open()}onOpen(){if(this.readyState="open",ms.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=fV(i)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){ms.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};ms.protocol=ST;function AV(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=N0(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const kV=typeof ArrayBuffer=="function",TV=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,OT=Object.prototype.toString,CV=typeof Blob=="function"||typeof Blob<"u"&&OT.call(Blob)==="[object BlobConstructor]",OV=typeof File=="function"||typeof File<"u"&&OT.call(File)==="[object FileConstructor]";function eb(t){return kV&&(t instanceof ArrayBuffer||TV(t))||CV&&t instanceof Blob||OV&&t instanceof File}function cd(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(cd(t[r]))return!0;return!1}if(eb(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return cd(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&cd(t[r]))return!0;return!1}function MV(t){const e=[],r=t.data,n=t;return n.data=I0(r,e),n.attachments=e.length,{packet:n,buffers:e}}function I0(t,e){if(!t)return t;if(eb(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=I0(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=I0(t[n],e));return r}return t}function NV(t,e){return t.data=D0(t.data,e),delete t.attachments,t}function D0(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=D0(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=D0(t[r],e));return t}const IV=5;var Qe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Qe||(Qe={}));class DV{constructor(e){this.replacer=e}encode(e){return(e.type===Qe.EVENT||e.type===Qe.ACK)&&cd(e)?this.encodeAsBinary({type:e.type===Qe.EVENT?Qe.BINARY_EVENT:Qe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Qe.BINARY_EVENT||e.type===Qe.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=MV(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}class tb extends er{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Qe.BINARY_EVENT;n||r.type===Qe.BINARY_ACK?(r.type=n?Qe.EVENT:Qe.ACK,this.reconstructor=new LV(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(eb(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Qe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Qe.BINARY_EVENT||n.type===Qe.BINARY_ACK){const o=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const s=e.substring(o,r);if(s!=Number(s)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(e.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(o,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const o=r+1;for(;++r;){const s=e.charAt(r);if(s==null||Number(s)!=s){--r;break}if(r===e.length)break}n.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){const o=this.tryParse(e.substr(r));if(tb.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Qe.CONNECT:return typeof r=="object";case Qe.DISCONNECT:return r===void 0;case Qe.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case Qe.EVENT:case Qe.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case Qe.ACK:case Qe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class LV{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=NV(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const BV=Object.freeze(Object.defineProperty({__proto__:null,Decoder:tb,Encoder:DV,get PacketType(){return Qe},protocol:IV},Symbol.toStringTag,{value:"Module"}));function Qn(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const $V=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class MT extends er{constructor(e,r,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Qn(e,"open",this.onopen.bind(this)),Qn(e,"packet",this.onpacket.bind(this)),Qn(e,"error",this.onerror.bind(this)),Qn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if($V.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');r.unshift(e);const n={type:Qe.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const s=this.ids++,a=r.pop();this._registerAckCallback(s,a),n.id=s}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){const n=this.flags.timeout;if(n===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},n);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,[null,...o])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:Qe.CONNECT,data:e})}):this.packet({type:Qe.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Qe.CONNECT:if(e.data&&e.data.sid){const i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qe.EVENT:case Qe.BINARY_EVENT:this.onevent(e);break;case Qe.ACK:case Qe.BINARY_ACK:this.onack(e);break;case Qe.DISCONNECT:this.ondisconnect();break;case Qe.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Qe.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(r.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Tl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Tl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};Tl.prototype.reset=function(){this.attempts=0};Tl.prototype.setMin=function(t){this.ms=t};Tl.prototype.setMax=function(t){this.max=t};Tl.prototype.setJitter=function(t){this.jitter=t};class L0 extends er{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,qp(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Tl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||BV;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ms(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Qn(r,"open",function(){n.onopen(),e&&e()}),o=Qn(r,"error",s=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",s),e?e(s):n.maybeReconnectOnOpen()});if(this._timeout!==!1){const s=this._timeout;s===0&&i();const a=this.setTimeoutFn(()=>{i(),r.close(),r.emit("error",new Error("timeout"))},s);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Qn(e,"ping",this.onping.bind(this)),Qn(e,"data",this.ondata.bind(this)),Qn(e,"error",this.onerror.bind(this)),Qn(e,"close",this.onclose.bind(this)),Qn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){CT(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n||(n=new MT(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const tc={};function Mc(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=AV(t,e.path||"/socket.io"),n=r.source,i=r.id,o=r.path,s=tc[i]&&o in tc[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let c;return a?c=new L0(n,e):(tc[i]||(tc[i]=new L0(n,e)),c=tc[i]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(Mc,{Manager:L0,Socket:MT,io:Mc,connect:Mc});function NT(t,e){return function(){return t.apply(e,arguments)}}const{toString:IT}=Object.prototype,{getPrototypeOf:rb}=Object,nb=(t=>e=>{const r=IT.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ho=t=>(t=t.toLowerCase(),e=>nb(e)===t),Hp=t=>e=>typeof e===t,{isArray:Cl}=Array,uu=Hp("undefined");function FV(t){return t!==null&&!uu(t)&&t.constructor!==null&&!uu(t.constructor)&&Fs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const DT=ho("ArrayBuffer");function jV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&DT(t.buffer),e}const UV=Hp("string"),Fs=Hp("function"),LT=Hp("number"),ib=t=>t!==null&&typeof t=="object",zV=t=>t===!0||t===!1,ud=t=>{if(nb(t)!=="object")return!1;const e=rb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},qV=ho("Date"),HV=ho("File"),VV=ho("Blob"),WV=ho("FileList"),GV=t=>ib(t)&&Fs(t.pipe),KV=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||IT.call(t)===e||Fs(t.toString)&&t.toString()===e)},QV=ho("URLSearchParams"),JV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Uu(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Cl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function BT(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const $T=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),FT=t=>!uu(t)&&t!==$T;function B0(){const{caseless:t}=FT(this)&&this||{},e={},r=(n,i)=>{const o=t&&BT(e,i)||i;ud(e[o])&&ud(n)?e[o]=B0(e[o],n):ud(n)?e[o]=B0({},n):Cl(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Uu(arguments[n],r);return e}const YV=(t,e,r,{allOwnKeys:n}={})=>(Uu(e,(i,o)=>{r&&Fs(i)?t[o]=NT(i,r):t[o]=i},{allOwnKeys:n}),t),XV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ZV=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},eW=(t,e,r,n)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&rb(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},tW=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},rW=t=>{if(!t)return null;if(Cl(t))return t;let e=t.length;if(!LT(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},nW=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&rb(Uint8Array)),iW=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},oW=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},sW=ho("HTMLFormElement"),aW=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),BE=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),lW=ho("RegExp"),jT=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Uu(r,(i,o)=>{e(i,o,t)!==!1&&(n[o]=i)}),Object.defineProperties(t,n)},cW=t=>{jT(t,(e,r)=>{if(Fs(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Fs(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},uW=(t,e)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Cl(t)?n(t):n(String(t).split(e)),r},fW=()=>{},dW=(t,e)=>(t=+t,Number.isFinite(t)?t:e),hW=t=>{const e=new Array(10),r=(n,i)=>{if(ib(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=Cl(n)?[]:{};return Uu(n,(s,a)=>{const c=r(s,i+1);!uu(c)&&(o[a]=c)}),e[i]=void 0,o}}return n};return r(t,0)},de={isArray:Cl,isArrayBuffer:DT,isBuffer:FV,isFormData:KV,isArrayBufferView:jV,isString:UV,isNumber:LT,isBoolean:zV,isObject:ib,isPlainObject:ud,isUndefined:uu,isDate:qV,isFile:HV,isBlob:VV,isRegExp:lW,isFunction:Fs,isStream:GV,isURLSearchParams:QV,isTypedArray:nW,isFileList:WV,forEach:Uu,merge:B0,extend:YV,trim:JV,stripBOM:XV,inherits:ZV,toFlatObject:eW,kindOf:nb,kindOfTest:ho,endsWith:tW,toArray:rW,forEachEntry:iW,matchAll:oW,isHTMLForm:sW,hasOwnProperty:BE,hasOwnProp:BE,reduceDescriptors:jT,freezeMethods:cW,toObjectSet:uW,toCamelCase:aW,noop:fW,toFiniteNumber:dW,findKey:BT,global:$T,isContextDefined:FT,toJSONObject:hW};function nt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}de.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const UT=nt.prototype,zT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zT[t]={value:t}});Object.defineProperties(nt,zT);Object.defineProperty(UT,"isAxiosError",{value:!0});nt.from=(t,e,r,n,i,o)=>{const s=Object.create(UT);return de.toFlatObject(t,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),nt.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};var pW=typeof self=="object"?self.FormData:window.FormData;const mW=pW;function $0(t){return de.isPlainObject(t)||de.isArray(t)}function qT(t){return de.endsWith(t,"[]")?t.slice(0,-2):t}function $E(t,e,r){return t?t.concat(e).map(function(i,o){return i=qT(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function gW(t){return de.isArray(t)&&!t.some($0)}const vW=de.toFlatObject(de,{},null,function(e){return/^is[A-Z]/.test(e)});function yW(t){return t&&de.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function Vp(t,e,r){if(!de.isObject(t))throw new TypeError("target must be an object");e=e||new(mW||FormData),r=de.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!de.isUndefined(y[m])});const n=r.metaTokens,i=r.visitor||u,o=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&yW(e);if(!de.isFunction(i))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(de.isDate(p))return p.toISOString();if(!c&&de.isBlob(p))throw new nt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(p)||de.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let g=p;if(p&&!y&&typeof p=="object"){if(de.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(de.isArray(p)&&gW(p)||de.isFileList(p)||de.endsWith(m,"[]")&&(g=de.toArray(p)))return m=qT(m),g.forEach(function(S,w){!(de.isUndefined(S)||S===null)&&e.append(s===!0?$E([m],w,o):s===null?m:m+"[]",l(S))}),!1}return $0(p)?!0:(e.append($E(y,m,o),l(p)),!1)}const f=[],d=Object.assign(vW,{defaultVisitor:u,convertValue:l,isVisitable:$0});function h(p,m){if(!de.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(p),de.forEach(p,function(g,v){(!(de.isUndefined(g)||g===null)&&i.call(e,g,de.isString(v)?v.trim():v,m,d))===!0&&h(g,m?m.concat(v):[v])}),f.pop()}}if(!de.isObject(t))throw new TypeError("data must be an object");return h(t),e}function FE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function ob(t,e){this._pairs=[],t&&Vp(t,this,e)}const HT=ob.prototype;HT.append=function(e,r){this._pairs.push([e,r])};HT.toString=function(e){const r=e?function(n){return e.call(this,n,FE)}:FE;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function bW(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VT(t,e,r){if(!e)return t;const n=r&&r.encode||bW,i=r&&r.serialize;let o;if(i?o=i(e,r):o=de.isURLSearchParams(e)?e.toString():new ob(e,r).toString(n),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class wW{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,function(n){n!==null&&e(n)})}}const jE=wW,WT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_W=typeof URLSearchParams<"u"?URLSearchParams:ob,SW=FormData,xW=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),EW=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),xi={isBrowser:!0,classes:{URLSearchParams:_W,FormData:SW,Blob},isStandardBrowserEnv:xW,isStandardBrowserWebWorkerEnv:EW,protocols:["http","https","file","blob","url","data"]};function RW(t,e){return Vp(t,new xi.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return xi.isNode&&de.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function PW(t){return de.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function AW(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function GT(t){function e(r,n,i,o){let s=r[o++];const a=Number.isFinite(+s),c=o>=r.length;return s=!s&&de.isArray(i)?i.length:s,c?(de.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!de.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&de.isArray(i[s])&&(i[s]=AW(i[s])),!a)}if(de.isFormData(t)&&de.isFunction(t.entries)){const r={};return de.forEachEntry(t,(n,i)=>{e(PW(n),i,r,0)}),r}return null}const kW={"Content-Type":void 0};function TW(t,e,r){if(de.isString(t))try{return(e||JSON.parse)(t),de.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Wp={transitional:WT,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=de.isObject(e);if(o&&de.isHTMLForm(e)&&(e=new FormData(e)),de.isFormData(e))return i&&i?JSON.stringify(GT(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return RW(e,this.formSerializer).toString();if((a=de.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Vp(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),TW(e)):e}],transformResponse:[function(e){const r=this.transitional||Wp.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&de.isString(e)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?nt.from(a,nt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xi.classes.FormData,Blob:xi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};de.forEach(["delete","get","head"],function(e){Wp.headers[e]={}});de.forEach(["post","put","patch"],function(e){Wp.headers[e]=de.merge(kW)});const sb=Wp,CW=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OW=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&CW[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},UE=Symbol("internals");function rc(t){return t&&String(t).trim().toLowerCase()}function fd(t){return t===!1||t==null?t:de.isArray(t)?t.map(fd):String(t)}function MW(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}function NW(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function zE(t,e,r,n){if(de.isFunction(n))return n.call(this,e,r);if(de.isString(e)){if(de.isString(n))return e.indexOf(n)!==-1;if(de.isRegExp(n))return n.test(e)}}function IW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function DW(t,e){const r=de.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}class Gp{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function o(a,c,l){const u=rc(c);if(!u)throw new Error("header name must be a non-empty string");const f=de.findKey(i,u);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||c]=fd(a))}const s=(a,c)=>de.forEach(a,(l,u)=>o(l,u,c));return de.isPlainObject(e)||e instanceof this.constructor?s(e,r):de.isString(e)&&(e=e.trim())&&!NW(e)?s(OW(e),r):e!=null&&o(r,e,n),this}get(e,r){if(e=rc(e),e){const n=de.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return MW(i);if(de.isFunction(r))return r.call(this,i,n);if(de.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=rc(e),e){const n=de.findKey(this,e);return!!(n&&(!r||zE(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function o(s){if(s=rc(s),s){const a=de.findKey(n,s);a&&(!r||zE(n,n[a],a,r))&&(delete n[a],i=!0)}}return de.isArray(e)?e.forEach(o):o(e),i}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const r=this,n={};return de.forEach(this,(i,o)=>{const s=de.findKey(n,o);if(s){r[s]=fd(i),delete r[o];return}const a=e?IW(o):String(o).trim();a!==o&&delete r[o],r[a]=fd(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return de.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&de.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[UE]=this[UE]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=rc(s);n[a]||(DW(i,s),n[a]=!0)}return de.isArray(e)?e.forEach(o):o(e),this}}Gp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.freezeMethods(Gp.prototype);de.freezeMethods(Gp);const Zi=Gp;function jg(t,e){const r=this||sb,n=e||r,i=Zi.from(n.headers);let o=n.data;return de.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function KT(t){return!!(t&&t.__CANCEL__)}function zu(t,e,r){nt.call(this,t??"canceled",nt.ERR_CANCELED,e,r),this.name="CanceledError"}de.inherits(zu,nt,{__CANCEL__:!0});const LW=null;function BW(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new nt("Request failed with status code "+r.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const $W=xi.isStandardBrowserEnv?function(){return{write:function(r,n,i,o,s,a){const c=[];c.push(r+"="+encodeURIComponent(n)),de.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),de.isString(o)&&c.push("path="+o),de.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function FW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function jW(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function QT(t,e){return t&&!FW(e)?jW(t,e):e}const UW=xi.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(o){let s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){const a=de.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function zW(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function qW(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=n[o];s||(s=l),r[i]=c,n[i]=l;let f=o,d=0;for(;f!==i;)d+=r[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),l-s<e)return;const h=u&&l-u;return h?Math.round(d*1e3/h):void 0}}function qE(t,e){let r=0;const n=qW(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-r,c=n(a),l=o<=s;r=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&l?(s-o)/c:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const HW=typeof XMLHttpRequest<"u",VW=HW&&function(t){return new Promise(function(r,n){let i=t.data;const o=Zi.from(t.headers).normalize(),s=t.responseType;let a;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}de.isFormData(i)&&(xi.isStandardBrowserEnv||xi.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let l=new XMLHttpRequest;if(t.auth){const h=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(h+":"+p))}const u=QT(t.baseURL,t.url);l.open(t.method.toUpperCase(),VT(u,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function f(){if(!l)return;const h=Zi.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),m={data:!s||s==="text"||s==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:h,config:t,request:l};BW(function(g){r(g),c()},function(g){n(g),c()},m),l=null}if("onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(f)},l.onabort=function(){l&&(n(new nt("Request aborted",nt.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new nt("Network Error",nt.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||WT;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),n(new nt(p,m.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,t,l)),l=null},xi.isStandardBrowserEnv){const h=(t.withCredentials||UW(u))&&t.xsrfCookieName&&$W.read(t.xsrfCookieName);h&&o.set(t.xsrfHeaderName,h)}i===void 0&&o.setContentType(null),"setRequestHeader"in l&&de.forEach(o.toJSON(),function(p,m){l.setRequestHeader(m,p)}),de.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),s&&s!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",qE(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",qE(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=h=>{l&&(n(!h||h.type?new zu(null,t,l):h),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const d=zW(u);if(d&&xi.protocols.indexOf(d)===-1){n(new nt("Unsupported protocol "+d+":",nt.ERR_BAD_REQUEST,t));return}l.send(i||null)})},dd={http:LW,xhr:VW};de.forEach(dd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const WW={getAdapter:t=>{t=de.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let i=0;i<e&&(r=t[i],!(n=de.isString(r)?dd[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new nt(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(de.hasOwnProp(dd,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!de.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:dd};function Ug(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zu(null,t)}function HE(t){return Ug(t),t.headers=Zi.from(t.headers),t.data=jg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),WW.getAdapter(t.adapter||sb.adapter)(t).then(function(n){return Ug(t),n.data=jg.call(t,t.transformResponse,n),n.headers=Zi.from(n.headers),n},function(n){return KT(n)||(Ug(t),n&&n.response&&(n.response.data=jg.call(t,t.transformResponse,n.response),n.response.headers=Zi.from(n.response.headers))),Promise.reject(n)})}const VE=t=>t instanceof Zi?t.toJSON():t;function vl(t,e){e=e||{};const r={};function n(l,u,f){return de.isPlainObject(l)&&de.isPlainObject(u)?de.merge.call({caseless:f},l,u):de.isPlainObject(u)?de.merge({},u):de.isArray(u)?u.slice():u}function i(l,u,f){if(de.isUndefined(u)){if(!de.isUndefined(l))return n(void 0,l,f)}else return n(l,u,f)}function o(l,u){if(!de.isUndefined(u))return n(void 0,u)}function s(l,u){if(de.isUndefined(u)){if(!de.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function a(l,u,f){if(f in e)return n(l,u);if(f in t)return n(void 0,l)}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(l,u)=>i(VE(l),VE(u),!0)};return de.forEach(Object.keys(t).concat(Object.keys(e)),function(u){const f=c[u]||i,d=f(t[u],e[u],u);de.isUndefined(d)&&f!==a||(r[u]=d)}),r}const JT="1.2.6",ab={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ab[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const WE={};ab.transitional=function(e,r,n){function i(o,s){return"[Axios v"+JT+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new nt(i(s," has been removed"+(r?" in "+r:"")),nt.ERR_DEPRECATED);return r&&!WE[s]&&(WE[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function GW(t,e,r){if(typeof t!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],s=e[o];if(s){const a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new nt("option "+o+" must be "+c,nt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new nt("Unknown option "+o,nt.ERR_BAD_OPTION)}}const F0={assertOptions:GW,validators:ab},Po=F0.validators;class sh{constructor(e){this.defaults=e,this.interceptors={request:new jE,response:new jE}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=vl(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&F0.assertOptions(n,{silentJSONParsing:Po.transitional(Po.boolean),forcedJSONParsing:Po.transitional(Po.boolean),clarifyTimeoutError:Po.transitional(Po.boolean)},!1),i!==void 0&&F0.assertOptions(i,{encode:Po.function,serialize:Po.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s;s=o&&de.merge(o.common,o[r.method]),s&&de.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),r.headers=Zi.concat(s,o);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,f=0,d;if(!c){const p=[HE.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,l),d=p.length,u=Promise.resolve(r);f<d;)u=u.then(p[f++],p[f++]);return u}d=a.length;let h=r;for(f=0;f<d;){const p=a[f++],m=a[f++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=HE.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,d=l.length;f<d;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=vl(this.defaults,e);const r=QT(e.baseURL,e.url);return VT(r,e.params,e.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(e){sh.prototype[e]=function(r,n){return this.request(vl(n||{},{method:e,url:r,data:(n||{}).data}))}});de.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(vl(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}sh.prototype[e]=r(),sh.prototype[e+"Form"]=r(!0)});const hd=sh;class lb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new zu(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new lb(function(i){e=i}),cancel:e}}}const KW=lb;function QW(t){return function(r){return t.apply(null,r)}}function JW(t){return de.isObject(t)&&t.isAxiosError===!0}const j0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(j0).forEach(([t,e])=>{j0[e]=t});const YW=j0;function YT(t){const e=new hd(t),r=NT(hd.prototype.request,e);return de.extend(r,hd.prototype,e,{allOwnKeys:!0}),de.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return YT(vl(t,i))},r}const lr=YT(sb);lr.Axios=hd;lr.CanceledError=zu;lr.CancelToken=KW;lr.isCancel=KT;lr.VERSION=JT;lr.toFormData=Vp;lr.AxiosError=nt;lr.Cancel=lr.CanceledError;lr.all=function(e){return Promise.all(e)};lr.spread=QW;lr.isAxiosError=JW;lr.mergeConfig=vl;lr.AxiosHeaders=Zi;lr.formToJSON=t=>GT(de.isHTMLForm(t)?new FormData(t):t);lr.HttpStatusCode=YW;lr.default=lr;const XW=lr;function ZW(t){return Nn("MuiPaper",t)}ii("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const eG=["className","component","elevation","square","variant"],tG=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,o={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return ni(o,ZW,i)},rG=qt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(({theme:t,ownerState:e})=>{var r;return ve({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&ve({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Lo("#fff",kE(e.elevation))}, ${Lo("#fff",kE(e.elevation))})`},t.vars&&{backgroundImage:(r=t.vars.overlays)==null?void 0:r[e.elevation]}))}),nG=G.forwardRef(function(e,r){const n=In({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:c="elevation"}=n,l=kt(n,eG),u=ve({},n,{component:o,elevation:s,square:a,variant:c}),f=tG(u);return V(rG,ve({as:o,ownerState:u,className:et(f.root,i),ref:r},l))}),XT=nG,iG=G.createContext(),GE=iG;function oG(t){return Nn("MuiGrid",t)}const sG=[0,1,2,3,4,5,6,7,8,9,10],aG=["column-reverse","column","row-reverse","row"],lG=["nowrap","wrap-reverse","wrap"],nc=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],fu=ii("MuiGrid",["root","container","item","zeroMinWidth",...sG.map(t=>`spacing-xs-${t}`),...aG.map(t=>`direction-xs-${t}`),...lG.map(t=>`wrap-xs-${t}`),...nc.map(t=>`grid-xs-${t}`),...nc.map(t=>`grid-sm-${t}`),...nc.map(t=>`grid-md-${t}`),...nc.map(t=>`grid-lg-${t}`),...nc.map(t=>`grid-xl-${t}`)]),cG=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ja(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function uG({theme:t,ownerState:e}){let r;return t.breakpoints.keys.reduce((n,i)=>{let o={};if(e[i]&&(r=e[i]),!r)return n;if(r===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=kp({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return n;const c=`${Math.round(r/a*1e8)/1e6}%`;let l={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const f=`calc(${c} + ${Ja(u)})`;l={flexBasis:f,maxWidth:f}}}o=ve({flexBasis:c,flexGrow:0,maxWidth:c},l)}return t.breakpoints.values[i]===0?Object.assign(n,o):n[t.breakpoints.up(i)]=o,n},{})}function fG({theme:t,ownerState:e}){const r=kp({values:e.direction,breakpoints:t.breakpoints.values});return kn({theme:t},r,n=>{const i={flexDirection:n};return n.indexOf("column")===0&&(i[`& > .${fu.item}`]={maxWidth:"none"}),i})}function ZT({breakpoints:t,values:e}){let r="";Object.keys(e).forEach(i=>{r===""&&e[i]!==0&&(r=i)});const n=Object.keys(t).sort((i,o)=>t[i]-t[o]);return n.slice(0,n.indexOf(r))}function dG({theme:t,ownerState:e}){const{container:r,rowSpacing:n}=e;let i={};if(r&&n!==0){const o=kp({values:n,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=ZT({breakpoints:t.breakpoints.values,values:o})),i=kn({theme:t},o,(a,c)=>{var l;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${Ja(u)}`,[`& > .${fu.item}`]:{paddingTop:Ja(u)}}:(l=s)!=null&&l.includes(c)?{}:{marginTop:0,[`& > .${fu.item}`]:{paddingTop:0}}})}return i}function hG({theme:t,ownerState:e}){const{container:r,columnSpacing:n}=e;let i={};if(r&&n!==0){const o=kp({values:n,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=ZT({breakpoints:t.breakpoints.values,values:o})),i=kn({theme:t},o,(a,c)=>{var l;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${Ja(u)})`,marginLeft:`-${Ja(u)}`,[`& > .${fu.item}`]:{paddingLeft:Ja(u)}}:(l=s)!=null&&l.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${fu.item}`]:{paddingLeft:0}}})}return i}function pG(t,e,r={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[r[`spacing-xs-${String(t)}`]];const n=[];return e.forEach(i=>{const o=t[i];Number(o)>0&&n.push(r[`spacing-${i}-${String(o)}`])}),n}const mG=qt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{container:n,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:c,breakpoints:l}=r;let u=[];n&&(u=pG(s,l,e));const f=[];return l.forEach(d=>{const h=r[d];h&&f.push(e[`grid-${d}-${String(h)}`])}),[e.root,n&&e.container,o&&e.item,c&&e.zeroMinWidth,...u,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...f]}})(({ownerState:t})=>ve({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),fG,dG,hG,uG);function gG(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const r=[];return e.forEach(n=>{const i=t[n];if(Number(i)>0){const o=`spacing-${n}-${String(i)}`;r.push(o)}}),r}const vG=t=>{const{classes:e,container:r,direction:n,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:c}=t;let l=[];r&&(l=gG(o,c));const u=[];c.forEach(d=>{const h=t[d];h&&u.push(`grid-${d}-${String(h)}`)});const f={root:["root",r&&"container",i&&"item",a&&"zeroMinWidth",...l,n!=="row"&&`direction-xs-${String(n)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...u]};return ni(f,oG,e)},yG=G.forwardRef(function(e,r){const n=In({props:e,name:"MuiGrid"}),{breakpoints:i}=J1(),o=Bp(n),{className:s,columns:a,columnSpacing:c,component:l="div",container:u=!1,direction:f="row",item:d=!1,rowSpacing:h,spacing:p=0,wrap:m="wrap",zeroMinWidth:y=!1}=o,g=kt(o,cG),v=h||p,S=c||p,w=G.useContext(GE),x=u?a||12:w,M={},k=ve({},g);i.keys.forEach(D=>{g[D]!=null&&(M[D]=g[D],delete k[D])});const N=ve({},o,{columns:x,container:u,direction:f,item:d,rowSpacing:v,columnSpacing:S,wrap:m,zeroMinWidth:y,spacing:p},M,{breakpoints:i.keys}),U=vG(N);return V(GE.Provider,{value:x,children:V(mG,ve({ownerState:N,className:et(U.root,s),as:l,ref:r},k))})}),ic=yG;function bG(t){return Nn("MuiButton",t)}const wG=ii("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Nf=wG,_G=G.createContext({}),SG=_G,xG=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],EG=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:o,classes:s}=t,a={root:["root",o,`${o}${mt(e)}`,`size${mt(i)}`,`${o}Size${mt(i)}`,e==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${mt(i)}`],endIcon:["endIcon",`iconSize${mt(i)}`]},c=ni(a,bG,s);return ve({},s,c)},eC=t=>ve({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),RG=qt(zp,{shouldForwardProp:t=>gT(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${mt(r.color)}`],e[`size${mt(r.size)}`],e[`${r.variant}Size${mt(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var r,n;return ve({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":ve({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Lo(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lo(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lo(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:(t.vars||t).palette.grey.A100,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":ve({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Nf.focusVisible}`]:ve({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Nf.disabled}`]:ve({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Lo(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Nf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Nf.disabled}`]:{boxShadow:"none"}}),PG=qt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,e[`iconSize${mt(r.size)}`]]}})(({ownerState:t})=>ve({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},eC(t))),AG=qt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,e[`iconSize${mt(r.size)}`]]}})(({ownerState:t})=>ve({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},eC(t))),kG=G.forwardRef(function(e,r){const n=G.useContext(SG),i=$1(n,e),o=In({props:i,name:"MuiButton"}),{children:s,color:a="primary",component:c="button",className:l,disabled:u=!1,disableElevation:f=!1,disableFocusRipple:d=!1,endIcon:h,focusVisibleClassName:p,fullWidth:m=!1,size:y="medium",startIcon:g,type:v,variant:S="text"}=o,w=kt(o,xG),x=ve({},o,{color:a,component:c,disabled:u,disableElevation:f,disableFocusRipple:d,fullWidth:m,size:y,type:v,variant:S}),M=EG(x),k=g&&V(PG,{className:M.startIcon,ownerState:x,children:g}),N=h&&V(AG,{className:M.endIcon,ownerState:x,children:h});return Ee(RG,ve({ownerState:x,className:et(n.className,M.root,l),component:c,disabled:u,focusRipple:!d,focusVisibleClassName:et(M.focusVisible,p),ref:r,type:v},w,{classes:M,children:[k,s,N]}))}),TG=kG;var cb={},lo={},CG={get exports(){return lo},set exports(t){lo=t}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(CG);var zg={};const OG=z0(Lq);var KE;function Gs(){return KE||(KE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=OG}(zg)),zg}const Ks=z0(IC);var MG=lo;Object.defineProperty(cb,"__esModule",{value:!0});var tC=cb.default=void 0,NG=MG(Gs()),IG=Ks,DG=(0,NG.default)((0,IG.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");tC=cb.default=DG;const If=qt(XT)(({theme:t})=>({backgroundColor:t.palette.mode==="dark"?"#1A2027":"#fff",...t.typography.body2,padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary}));function LG(t){const{meetingId:e}=t,[r,n]=G.useState(),[i,o]=G.useState(),[s,a]=G.useState(),[c,l]=G.useState();G.useEffect(()=>{const p=Mc("http://localhost:3000");return n(p),()=>{p.disconnect()}},[]),G.useEffect(()=>{r==null||i==null||(r.emit("join-room",e),r.emit("get-document",e),r.once("load-document",p=>{i.setContents(p),i.enable()}))},[r,i,e]),G.useEffect(()=>{if(r==null||i==null)return;const p=setInterval(()=>{r.emit("save-document",i.getContents())},{}.VITE_SAVE_INTERVAL_MS);return()=>{clearInterval(p)}},[r,i]),G.useEffect(()=>{if(r==null||i==null)return;const p=m=>{i.updateContents(m)};return r.on("receive-changes",p),()=>{r.off("receive-changes",p)}},[r,i]),G.useEffect(()=>{if(r==null||i==null)return;const p=(m,y,g)=>{g==="user"&&r.emit("send-changes",m)};return i.on("text-change",p),()=>{i.off("text-change",p)}},[r,i]);const u=G.useCallback(p=>{if(p==null)return;p.innerHTML="";const m=document.createElement("div");p.append(m);const y=new Fg(m,{modules:{syntax:!0,toolbar:!1},theme:"snow"});y.disable(),y.setText("Loading..."),o(y)},[]),f=G.useCallback(p=>{if(p==null)return;p.innerHTML="";const m=document.createElement("div");p.append(m);const y=new Fg(m,{modules:{syntax:!0,toolbar:!1},theme:"snow"});y.setText(""),a(y)},[]),d=G.useCallback(p=>{if(p==null)return;p.innerHTML="";const m=document.createElement("div");p.append(m);const y=new Fg(m,{modules:{syntax:!0,toolbar:!1},theme:"snow"});y.disable(),y.setText(""),l(y)},[]);return Ee(lh,{children:[V("div",{className:"TextEditorcontainer",ref:u}),V(cu,{children:Ee(ic,{container:!0,children:[V(ic,{item:!0,xs:6,children:V(If,{sx:{textAlign:"left"},children:"Stdin"})}),V(ic,{item:!0,xs:6,children:V(If,{sx:{textAlign:"left"},children:"Stdout"})}),V(ic,{item:!0,xs:6,children:V(If,{children:V("div",{ref:f})})}),V(ic,{item:!0,xs:6,children:V(If,{children:V("div",{ref:d})})})]})}),V(TG,{variant:"contained",endIcon:V(tC,{}),sx:{mt:1},onClick:async()=>{const p=i.getText(0,i.getLength()),m=s.getText(0,s.getLength());console.log(p),console.log(m);const y={code:p,input:m};await XW.post({}.VITE_COMPILER_PATH,y).then(g=>{const{data:v}=g;console.log(v),c.setText(v.output)})},children:"Compile and run"})]})}class BG extends ze.Component{constructor(r){super(r);Ol(this,"timeout");Ol(this,"socket",Mc.connect("http://localhost:3000"));Ol(this,"ctx");Ol(this,"isDrawing",!1);this.socket.emit("join-room",this.props.meetingId),this.socket.emit("get-canvas",this.props.meetingId),this.socket.once("load-canvas",function(n){var i=this,o=setInterval(function(){if(!i.isDrawing){i.isDrawing=!0,clearInterval(o);var s=document.querySelector("#board"),a=s.getContext("2d"),c=new Image;c.onload=function(){a.drawImage(c,0,0),i.isDrawing=!1},c.src=n}},200)}),this.socket.on("canvas-data",function(n){var i=this,o=setInterval(function(){if(!i.isDrawing){i.isDrawing=!0,clearInterval(o);var s=new Image,a=document.querySelector("#board"),c=a.getContext("2d");s.onload=function(){c.drawImage(s,0,0),i.isDrawing=!1},s.src=n}},200)})}componentDidMount(){this.drawOnCanvas()}componentWillReceiveProps(r){this.ctx.strokeStyle=r.color,this.ctx.lineWidth=r.size}drawOnCanvas(){var r=document.querySelector("#board");this.ctx=r.getContext("2d");var n=this.ctx,i=document.querySelector("#sketch"),o=getComputedStyle(i);r.width=parseInt(o.getPropertyValue("width")),r.height=parseInt(o.getPropertyValue("height"));var s={x:0,y:0},a={x:0,y:0};r.addEventListener("mousemove",function(u){a.x=s.x,a.y=s.y,s.x=u.pageX-this.offsetLeft,s.y=u.pageY-this.offsetTop},!1),n.lineWidth=this.props.size,n.lineJoin="round",n.lineCap="round",n.strokeStyle=this.props.color,r.addEventListener("mousedown",function(u){r.addEventListener("mousemove",l,!1)},!1),r.addEventListener("mouseup",function(){r.removeEventListener("mousemove",l,!1)},!1);var c=this,l=function(){n.beginPath(),n.moveTo(a.x,a.y),n.lineTo(s.x,s.y),n.closePath(),n.stroke(),c.timeout!=null&&clearTimeout(c.timeout),c.timeout=setTimeout(function(){var u=r.toDataURL("image/png");c.socket.emit("canvas-data",u)},1e3)}}render(){return V("div",{className:"boardcomponent",children:V("div",{class:"sketch",id:"sketch",children:V("canvas",{className:"board",id:"board"})})})}}class $G extends ze.Component{constructor(e){super(e),console.log("Props",e),this.state={color:"#000000",size:"5"}}changeColor(e){this.setState({color:e.target.value})}changeSize(e){this.setState({size:e.target.value})}render(){return V("div",{className:"whiteboardcontainer",children:Ee("div",{className:"container",children:[Ee("div",{className:"tools-section",children:[Ee("div",{className:"color-picker-container",children:["Select Brush Color : ",V("input",{type:"color",value:this.state.color,onChange:this.changeColor.bind(this)})]}),Ee("div",{className:"brushsize-container",children:["Select Brush Size : ",Ee("select",{value:this.state.size,onChange:this.changeSize.bind(this),children:[V("option",{children:" 5 "}),V("option",{children:" 10 "}),V("option",{children:" 15 "}),V("option",{children:" 20 "}),V("option",{children:" 25 "}),V("option",{children:" 30 "})]})]})]}),V("div",{class:"board-container",children:V(BG,{color:this.state.color,size:this.state.size,documentId:this.props.documentId,meetingId:this.props.meetingId})})]})})}}function pd(t){const{children:e,value:r,index:n,...i}=t;return V("div",{role:"tabpanel",hidden:r!==n,id:`simple-tabpanel-${n}`,"aria-labelledby":`simple-tab-${n}`,...i,children:r===n&&V(cu,{children:V(GH,{children:e})})})}pd.propTypes={children:Cc.node,index:Cc.number.isRequired,value:Cc.number.isRequired};const FG=qt(MH)({"& .MuiTabs-indicator":{backgroundColor:"#1890ff"}}),qg=qt(t=>V(FH,{disableRipple:!0,...t}))(({theme:t})=>({textTransform:"none",minWidth:0,[t.breakpoints.up("sm")]:{minWidth:0},fontWeight:t.typography.fontWeightRegular,color:"rgba(0, 0, 0, 0.85)",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{color:"#40a9ff",opacity:1},"&.Mui-selected":{color:"#1890ff",fontWeight:t.typography.fontWeightMedium},"&.Mui-focusVisible":{backgroundColor:"#d1eaff"}}));function jG(t){const[e,r]=G.useState(0);return Ee(cu,{className:"MeetingTabspage",sx:{width:"100%"},children:[V(cu,{children:Ee(FG,{value:e,onChange:(i,o)=>{r(o)},"aria-label":"ant example",children:[V(qg,{label:"Code Editor"}),V(qg,{label:"White Board"}),V(qg,{label:"Share Screen"})]})}),V(pd,{value:e,index:0,children:V(LG,{documentId:t.meetingId,meetingId:t.meetingId})}),V(pd,{value:e,index:1,children:V($G,{documentId:t.meetingId,meetingId:t.meetingId})}),V(pd,{value:e,index:2,children:"Item Three"})]})}function UG(t){return Nn("MuiIconButton",t)}const zG=ii("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),qG=zG,HG=["edge","children","className","color","disabled","disableFocusRipple","size"],VG=t=>{const{classes:e,disabled:r,color:n,edge:i,size:o}=t,s={root:["root",r&&"disabled",n!=="default"&&`color${mt(n)}`,i&&`edge${mt(i)}`,`size${mt(o)}`]};return ni(s,UG,e)},WG=qt(zp,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e[`color${mt(r.color)}`],r.edge&&e[`edge${mt(r.edge)}`],e[`size${mt(r.size)}`]]}})(({theme:t,ownerState:e})=>ve({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Lo(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var r;const n=(r=(t.vars||t).palette)==null?void 0:r[e.color];return ve({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&ve({color:n==null?void 0:n.main},!e.disableRipple&&{"&:hover":ve({},n&&{backgroundColor:t.vars?`rgba(${n.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lo(n.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${qG.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),GG=G.forwardRef(function(e,r){const n=In({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:c=!1,disableFocusRipple:l=!1,size:u="medium"}=n,f=kt(n,HG),d=ve({},n,{edge:i,color:a,disabled:c,disableFocusRipple:l,size:u}),h=VG(d);return V(WG,ve({className:et(h.root,s),centerRipple:!0,focusRipple:!l,disabled:c,ref:r,ownerState:d},f,{children:o}))}),Sa=GG;var ub={},KG=lo;Object.defineProperty(ub,"__esModule",{value:!0});var rC=ub.default=void 0,QG=KG(Gs()),JG=Ks,YG=(0,QG.default)((0,JG.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");rC=ub.default=YG;var fb={},XG=lo;Object.defineProperty(fb,"__esModule",{value:!0});var nC=fb.default=void 0,ZG=XG(Gs()),eK=Ks,tK=(0,ZG.default)((0,eK.jsx)("path",{d:"m21 6.5-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2 2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"}),"VideocamOff");nC=fb.default=tK;var db={},rK=lo;Object.defineProperty(db,"__esModule",{value:!0});var iC=db.default=void 0,nK=rK(Gs()),iK=Ks,oK=(0,nK.default)((0,iK.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}),"Mic");iC=db.default=oK;var hb={},sK=lo;Object.defineProperty(hb,"__esModule",{value:!0});var oC=hb.default=void 0,aK=sK(Gs()),lK=Ks,cK=(0,aK.default)((0,lK.jsx)("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3 3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"}),"MicOff");oC=hb.default=cK;var pb={},uK=lo;Object.defineProperty(pb,"__esModule",{value:!0});var sC=pb.default=void 0,fK=uK(Gs()),dK=Ks,hK=(0,fK.default)((0,dK.jsx)("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.11-.9-2-2-2H4c-1.11 0-2 .89-2 2v10c0 1.1.89 2 2 2H0v2h24v-2h-4zm-7-3.53v-2.19c-2.78 0-4.61.85-6 2.72.56-2.67 2.11-5.33 6-5.87V7l4 3.73-4 3.74z"}),"ScreenShare");sC=pb.default=hK;var mb={},pK=lo;Object.defineProperty(mb,"__esModule",{value:!0});var aC=mb.default=void 0,mK=pK(Gs()),gK=Ks,vK=(0,mK.default)((0,gK.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"}),"ChatBubbleOutline");aC=mb.default=vK;function yK(){const t=Ls(p=>p.roomState),[e,r]=G.useState(!1),[n,i]=G.useState(!1),[o,s]=G.useState(!1),[a,c]=G.useState(!1);G.useEffect(()=>{console.log(t,"inside toolbox")},[]);const l=Pk("2cb67b5aff41dc9a61409cb63d7414c64e2a070723e82b362a1dba20b93c0af7"),u=()=>{e?(l.disableWebcam(),r(!1)):(l.enableWebcam(),r(!0))},f=()=>{n?(l.muteMic(),i(!1)):(l.enableMic(),i(!0))};return V("div",{className:"Toolbuttons",children:Ee("div",{className:"ToolbuttonsMaincomponent",children:[e?V(Sa,{"aria-label":"Turn off Camera",size:"small",onClick:u,sx:{color:"white"},className:"IconButtonsComponent",children:V(rC,{})}):V(Sa,{"aria-label":"Turn on Camera",size:"small",onClick:u,sx:{color:"white"},className:"IconButtonsComponent",children:V(nC,{})}),n?V(Sa,{"aria-label":"Turn off Mic",size:"small",onClick:f,sx:{color:"white"},className:"IconButtonsComponent",children:V(iC,{})}):V(Sa,{"aria-label":"Turn on Mic",size:"small",onClick:f,sx:{color:"white"},className:"IconButtonsComponent",children:V(oC,{})}),V(Sa,{"aria-label":o?"Stop Screen Share":"Share your Screen",className:"IconButtonsComponent",size:"small",onClick:()=>{s(!o)},sx:{color:"white"},children:V(sC,{})}),V(Sa,{"aria-label":a?"Hide Chat":"Show Chat",size:"small",onClick:()=>{c(!a)},sx:{color:"white"},className:"IconButtonsComponent",children:V(aC,{})})]})})}const bK=Wz({createStyledComponent:qt("div",{name:"MuiGrid2",overridesResolver:(t,e)=>e.root}),componentName:"MuiGrid2",useThemeProps:t=>In({props:t,name:"MuiGrid2"})}),Hg=bK,QE=qt(XT)(({theme:t})=>({backgroundColor:t.palette.mode==="dark"?"#1A2027":"#fff",...t.typography.body2,padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})),wK=()=>{const{id:t}=$3(),[e,r]=G.useState(!0),n=Pk("2cb67b5aff41dc9a61409cb63d7414c64e2a070723e82b362a1dba20b93c0af7"),i=Ls(s=>s.roomState),o=Ls(s=>Object.keys(s.peers));return G.useEffect(()=>{setTimeout(async()=>{await n.join(t,{address:"0x15900c698ee356E6976e5645394F027F0704c8Eb",wallet:"",ens:"axit.eth"}),console.log("ROOM-STATE",i),r(!1)},3e3)},[]),V("div",{className:"MeetingPage",children:V("div",{className:"MeetingPageFullPage",children:!e&&V("div",{className:"MeetingPageComponent",children:Ee("div",{children:[V(cu,{className:"MeetingBoxComponent",children:Ee(Hg,{container:!0,spacing:2,children:[V(Hg,{xs:8,className:"MeetingGridComponent",children:V(QE,{children:V(jG,{documentId:t,meetingId:t,className:"Meetingtabscomponent"})})}),V(Hg,{xs:4,className:"VideoGridComponent",children:Ee(QE,{children:[V(q9,{}),V("br",{}),V("br",{}),V("div",{className:"peers-grid",children:o.map(s=>V(V9,{peerIdAtIndex:s},`peerId-${s}`))})]})})]})}),V(yK,{})]})})})})};var U0={},_K={get exports(){return U0},set exports(t){U0=t}};(function(t,e){(function(n,i){t.exports=i(G)})(oe,function(r){return function(n){var i={};function o(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=n,o.c=i,o.d=function(s,a,c){o.o(s,a)||Object.defineProperty(s,a,{enumerable:!0,get:c})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,a){if(a&1&&(s=o(s)),a&8||a&4&&typeof s=="object"&&s&&s.__esModule)return s;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:s}),a&2&&typeof s!="string")for(var l in s)o.d(c,l,function(u){return s[u]}.bind(null,l));return c},o.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(a,"a",a),a},o.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},o.p="",o(o.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,i,o){o.r(i);var s=o("react"),a=function(){var d=function(h,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var g in y)y.hasOwnProperty(g)&&(m[g]=y[g])},d(h,p)};return function(h,p){d(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),c=function(){return c=Object.assign||function(d){for(var h,p=1,m=arguments.length;p<m;p++){h=arguments[p];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(d[y]=h[y])}return d},c.apply(this,arguments)},l=function(d,h){var p={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&h.indexOf(m)<0&&(p[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,m=Object.getOwnPropertySymbols(d);y<m.length;y++)h.indexOf(m[y])<0&&Object.prototype.propertyIsEnumerable.call(d,m[y])&&(p[m[y]]=d[m[y]]);return p};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(h){var p=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return p?new Promise(function(m,y){p.call(navigator,h,m,y)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=function(d){a(h,d);function h(p){var m=d.call(this,p)||this;return m.canvas=null,m.ctx=null,m.requestUserMediaId=0,m.unmounted=!1,m.state={hasUserMedia:!1},m}return h.prototype.componentDidMount=function(){var p=this,m=p.state,y=p.props;if(this.unmounted=!1,!u()){y.onUserMediaError("getUserMedia not supported");return}m.hasUserMedia||this.requestUserMedia(),y.children&&typeof y.children!="function"&&console.warn("children must be a function")},h.prototype.componentDidUpdate=function(p){var m=this.props;if(!u()){m.onUserMediaError("getUserMedia not supported");return}var y=JSON.stringify(p.audioConstraints)!==JSON.stringify(m.audioConstraints),g=JSON.stringify(p.videoConstraints)!==JSON.stringify(m.videoConstraints),v=p.minScreenshotWidth!==m.minScreenshotWidth,S=p.minScreenshotHeight!==m.minScreenshotHeight;(g||v||S)&&(this.canvas=null,this.ctx=null),(y||g)&&(this.stopAndCleanup(),this.requestUserMedia())},h.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},h.stopMediaStream=function(p){p&&(p.getVideoTracks&&p.getAudioTracks?(p.getVideoTracks().map(function(m){p.removeTrack(m),m.stop()}),p.getAudioTracks().map(function(m){p.removeTrack(m),m.stop()})):p.stop())},h.prototype.stopAndCleanup=function(){var p=this.state;p.hasUserMedia&&(h.stopMediaStream(this.stream),p.src&&window.URL.revokeObjectURL(p.src))},h.prototype.getScreenshot=function(p){var m=this,y=m.state,g=m.props;if(!y.hasUserMedia)return null;var v=this.getCanvas(p);return v&&v.toDataURL(g.screenshotFormat,g.screenshotQuality)},h.prototype.getCanvas=function(p){var m=this,y=m.state,g=m.props;if(!this.video||!y.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var v=this.video.videoWidth,S=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var w=v/S;v=g.minScreenshotWidth||this.video.clientWidth,S=v/w,g.minScreenshotHeight&&S<g.minScreenshotHeight&&(S=g.minScreenshotHeight,v=S*w)}this.canvas=document.createElement("canvas"),this.canvas.width=(p==null?void 0:p.width)||v,this.canvas.height=(p==null?void 0:p.height)||S,this.ctx=this.canvas.getContext("2d")}var x=this,M=x.ctx,k=x.canvas;return M&&k&&(g.mirrored&&(M.translate(k.width,0),M.scale(-1,1)),M.imageSmoothingEnabled=g.imageSmoothing,M.drawImage(this.video,0,0,(p==null?void 0:p.width)||k.width,(p==null?void 0:p.height)||k.height),g.mirrored&&(M.scale(-1,1),M.translate(-k.width,0))),k},h.prototype.requestUserMedia=function(){var p=this,m=this.props,y=function(S,w){var x={video:typeof w<"u"?w:!0};m.audio&&(x.audio=typeof S<"u"?S:!0),p.requestUserMediaId++;var M=p.requestUserMediaId;navigator.mediaDevices.getUserMedia(x).then(function(k){p.unmounted||M!==p.requestUserMediaId?h.stopMediaStream(k):p.handleUserMedia(null,k)}).catch(function(k){p.handleUserMedia(k)})};if("mediaDevices"in navigator)y(m.audioConstraints,m.videoConstraints);else{var g=function(S){return{optional:[{sourceId:S}]}},v=function(S){var w=S.deviceId;return typeof w=="string"?w:Array.isArray(w)&&w.length>0?w[0]:typeof w=="object"&&w.ideal?w.ideal:null};MediaStreamTrack.getSources(function(S){var w=null,x=null;S.forEach(function(N){N.kind==="audio"?w=N.id:N.kind==="video"&&(x=N.id)});var M=v(m.audioConstraints);M&&(w=M);var k=v(m.videoConstraints);k&&(x=k),y(g(w),g(x))})}},h.prototype.handleUserMedia=function(p,m){var y=this.props;if(p||!m){this.setState({hasUserMedia:!1}),y.onUserMediaError(p);return}this.stream=m;try{this.video&&(this.video.srcObject=m),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(m)})}y.onUserMedia(m)},h.prototype.render=function(){var p=this,m=this,y=m.state,g=m.props,v=g.audio;g.forceScreenshotSourceSize,g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var S=g.mirrored,w=g.style,x=w===void 0?{}:w,M=g.children,k=l(g,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),N=S?c(c({},x),{transform:(x.transform||"")+" scaleX(-1)"}):x,U={getScreenshot:this.getScreenshot.bind(this)};return s.createElement(s.Fragment,null,s.createElement("video",c({autoPlay:!0,src:y.src,muted:!v,playsInline:!0,ref:function(D){p.video=D},style:N},k)),M&&M(U))},h.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},h}(s.Component);i.default=f},react:function(n,i){n.exports=r}}).default})})(_K);const SK=du(U0);function xK(){const t={width:1280,height:720,facingMode:"user"};return Ee(lh,{children:[V(_u,{}),V(wu,{}),Ee("div",{children:[V("div",{className:"flex flex-col items-center justify-center pt-10 pb-10",children:V(()=>V(SK,{audio:!0,height:200,screenshotFormat:"image/jpeg",width:500,videoConstraints:t,children:({enableMic:r})=>V("button",{onClick:()=>{},children:"enableMic"})}),{})}),V("div",{className:"flex flex-col items-center justify-center h-max",children:Ee("div",{className:"flex flex-col items-center bg-purple-300 justify-center w-4/5 h-1/2 bg-white rounded-lg shadow-xl",children:[Ee("div",{className:"flex flex-col items-center justify-center w-full h-1/2",children:[V("h1",{className:"text-2xl font-bold",children:"Meeting Title"}),V("p",{className:"text-black",children:"Meeting ID: 1234567890"})]}),Ee("div",{className:"flex flex-col items-center justify-center w-1/2",children:[V("h1",{className:"text-xl font-bold",children:"Host"}),V("p",{className:"text-black",children:"Hosts Name"})]}),Ee("div",{className:"flex flex-col items-center justify-center w-1/2",children:[V("h1",{className:"text-xl font-bold",children:"Participants"}),V("p",{className:"text-black",children:"Participant Name"})]}),V("div",{className:"flex flex-col items-center justify-center w-full h-1/2",children:V("button",{className:"px-4 py-2 text-white bg-purple-600 rounded-lg",children:"Start Meeting"})})]})})]})]})}const EK=Y3(Ud(Ee(ji,{path:"/",children:[V(ji,{path:"join",element:V(SL,{})}),V(ji,{path:"create",element:V(q_,{})}),V(ji,{path:"meeting/:id",element:V(wK,{}),errorElement:V(U_,{})}),V(ji,{path:"my-meetings",element:V(q_,{})}),V(ji,{path:"dashboard",element:V(vL,{})}),V(ji,{path:"lobby",element:V(xK,{})}),V(ji,{path:"",element:V(U_,{})})]})));Vg.createRoot(document.getElementById("root")).render(Ee(ze.StrictMode,{children:[V(K3,{router:EK}),V(Xv,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}));
